/**
 * 콜 이슈 페이지 스타일
 * KRDS 디자인 가이드라인 준수
 *
 * 참조:
 * - 텍스트 입력 필드: https://www.krds.go.kr/html/site/component/component_09_03.html
 * - 아코디언: https://www.krds.go.kr/html/site/component/component_04_07.html
 * - 버튼: https://www.krds.go.kr/html/site/component/component_05_02.html
 */

/* ========================================
   페이지 헤더 섹션
   ======================================== */
.page-header-section {
    padding: var(--krds-padding-8) 0; /* 2.4rem */
}

.page-header-section .inner {
    max-width: var(--krds-contents-size);
    margin: 0 auto;
    padding: 0 var(--krds-contents-padding-x);
}

.page-title {
    /* KRDS Heading Large */
    font-size: var(--krds-pc-font-size-heading-large); /* 2.8rem */
    font-weight: var(--krds-font-weight-bold);
    color: var(--dasan-text-bolder);
    margin: 0 0 var(--krds-gap-2) 0; /* 0.4rem */
    line-height: var(--krds-line-height-base);
}

.page-description {
    /* KRDS Body Medium */
    font-size: var(--krds-pc-font-size-body-medium); /* 1.7rem */
    font-weight: var(--krds-font-weight-regular);
    color: var(--dasan-text-subtle);
    margin: 0;
    line-height: var(--krds-line-height-base);
}

/* Mobile */
@media (max-width: 767px) {
    .page-header-section {
        padding: var(--krds-padding-6) 0; /* 1.6rem */
    }

    .page-title {
        font-size: var(--krds-mobile-font-size-heading-large); /* 2.4rem */
    }

    .page-description {
        font-size: var(--krds-mobile-font-size-body-medium); /* 1.7rem */
    }
}

/* ========================================
   검색 카드
   ======================================== */
.search-card {
    margin-bottom: var(--dasan-gap); /* 1.6rem */
}

.search-card .card-body {
    padding: var(--krds-padding-5); /* 1.4rem */
}

.search-input-wrap {
    position: relative;
    display: flex;
    align-items: center;
}

.search-input-wrap .search-icon {
    position: absolute;
    left: var(--krds-padding-5); /* 1.4rem */
    width: var(--krds-icon--size-medium); /* 2rem */
    height: var(--krds-icon--size-medium);
    color: var(--dasan-text-subtle);
    pointer-events: none;
    z-index: 1;
}

.search-input-wrap .krds-input {
    flex: 1;
    padding-left: calc(var(--krds-padding-5) + var(--krds-icon--size-medium) + var(--krds-gap-3)); /* 아이콘 공간 확보 */
    padding-right: calc(var(--krds-padding-5) + var(--krds-icon--size-medium) + var(--krds-gap-3)); /* 지우기 버튼 공간 */
}

.search-input-wrap .btn-clear-search {
    position: absolute;
    right: var(--krds-gap-2); /* 0.4rem */
    background: transparent;
    border: none;
    padding: var(--krds-padding-2);
    cursor: pointer;
    color: var(--dasan-text-subtle);
    border-radius: var(--krds-radius-max);
    transition: background-color var(--krds-transition-base);
}

.search-input-wrap .btn-clear-search:hover {
    background-color: var(--krds-light-color-action-secondary-hover);
    color: var(--dasan-text-basic);
}

/* ========================================
   결과 카드
   ======================================== */
.result-card .card-header {
    border-bottom: var(--krds-light-border-width-static-regular) solid var(--dasan-divider);
}

/* ========================================
   키워드 목록 (아코디언)
   ======================================== */
.keyword-list {
    /* 컨테이너 */
}

.keyword-item {
    border-bottom: var(--krds-light-border-width-static-regular) solid var(--dasan-divider);
}

.keyword-item:last-child {
    border-bottom: none;
}

/* 키워드 로우 (클릭 영역) */
.keyword-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--krds-padding-5) var(--krds-padding-6); /* 1.4rem 1.6rem */
    cursor: pointer;
    transition: background-color var(--krds-transition-base);
}

.keyword-row:hover {
    background-color: var(--krds-light-color-action-secondary-hover);
}

.keyword-row.expanded {
    background-color: var(--krds-light-color-surface-gray-subtler);
}

.keyword-text {
    /* KRDS Body Medium */
    font-size: var(--krds-pc-font-size-body-medium); /* 1.7rem */
    font-weight: var(--krds-font-weight-medium);
    color: var(--dasan-text-bolder);
    line-height: var(--krds-line-height-base);
}

.keyword-text .highlight {
    color: var(--dasan-primary);
    font-weight: var(--krds-font-weight-bold);
}

.keyword-meta {
    display: flex;
    align-items: center;
    gap: var(--krds-gap-4); /* 1.2rem */
}

.keyword-count {
    /* KRDS Label Small */
    font-size: var(--krds-pc-font-size-label-small); /* 1.5rem */
    font-weight: var(--krds-font-weight-regular);
    color: var(--dasan-text-subtle);
    line-height: var(--krds-line-height-base);
}

.keyword-arrow {
    width: var(--krds-icon--size-small); /* 1.6rem */
    height: var(--krds-icon--size-small);
    color: var(--dasan-text-subtle);
    transition: transform var(--krds-transition-base);
}

.keyword-row.expanded .keyword-arrow {
    transform: rotate(180deg);
}

/* Mobile */
@media (max-width: 767px) {
    .keyword-row {
        padding: var(--krds-padding-4) var(--krds-padding-5); /* 1rem 1.4rem */
    }

    .keyword-text {
        font-size: var(--krds-mobile-font-size-body-medium);
    }

    .keyword-count {
        font-size: var(--krds-mobile-font-size-label-small);
    }
}

/* ========================================
   키워드 상세 (확장 콘텐츠)
   ======================================== */
.keyword-detail {
    display: none;
    background-color: var(--krds-light-color-surface-gray-subtler);
    border-top: var(--krds-light-border-width-static-regular) dashed var(--dasan-divider);
    padding: var(--krds-padding-6); /* 1.6rem */
}

.keyword-item.expanded .keyword-detail {
    display: block;
}

/* 상세 헤더 */
.detail-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--krds-gap-5); /* 1.6rem */
}

.detail-keyword-name {
    /* KRDS Heading Small */
    font-size: var(--krds-pc-font-size-heading-small); /* 2.1rem */
    font-weight: var(--krds-font-weight-bold);
    color: var(--dasan-primary);
    margin: 0;
    line-height: var(--krds-line-height-base);
}

/* 차트 영역 카드 */
.chart-card {
    background: var(--dasan-surface-white);
    border-radius: var(--dasan-radius);
    border: var(--krds-light-border-width-static-regular) solid var(--dasan-border-light);
    overflow: hidden;
}

.chart-card .card-body {
    padding: var(--krds-padding-6);
}

/* 컨트롤 바 */
.control-bar {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: space-between;
    gap: var(--krds-gap-4); /* 1.2rem */
    margin-bottom: var(--krds-gap-5); /* 1.6rem */
}

.control-bar-left {
    display: flex;
    align-items: center;
    gap: var(--krds-gap-4);
}

.control-bar-right {
    display: flex;
    align-items: center;
    gap: var(--krds-gap-3); /* 0.8rem */
}

/* 차트 라벨 */
.chart-label {
    /* KRDS Label Small Bold */
    font-size: var(--krds-pc-font-size-label-small);
    font-weight: var(--krds-font-weight-bold);
    color: var(--dasan-text-bolder);
    padding: var(--krds-padding-3) var(--krds-padding-4); /* 0.8rem 1rem */
    border: var(--krds-light-border-width-static-regular) solid var(--dasan-border);
    border-radius: var(--dasan-radius-xs);
    background: var(--dasan-surface-white);
}

/* 날짜 선택 */
.date-picker-group {
    display: flex;
    align-items: center;
    gap: var(--krds-gap-2); /* 0.4rem */
}

.date-picker-group .date-separator {
    color: var(--dasan-text-subtle);
    font-size: var(--krds-pc-font-size-label-small);
}

.date-picker-group .krds-input {
    width: 12rem;
}

/* 빠른 날짜 선택 버튼 그룹 */
.quick-date-btns {
    display: flex;
    border: var(--krds-light-border-width-static-regular) solid var(--dasan-border);
    border-radius: var(--dasan-radius-sm);
    overflow: hidden;
}

.quick-date-btns .krds-btn {
    border-radius: 0;
    border: none;
    border-right: var(--krds-light-border-width-static-regular) solid var(--dasan-border);
}

.quick-date-btns .krds-btn:last-child {
    border-right: none;
}

.quick-date-btns .krds-btn.active {
    background-color: var(--dasan-primary);
    color: #fff;
}

.quick-date-btns .krds-btn.active:hover {
    background-color: var(--dasan-primary-dark);
}

/* 다운로드 드롭다운 */
.download-dropdown {
    position: relative;
}

.download-menu {
    display: none;
    position: absolute;
    top: 100%;
    right: 0;
    margin-top: var(--krds-gap-1);
    min-width: 16rem;
    background: var(--dasan-surface-white);
    border: var(--krds-light-border-width-static-regular) solid var(--dasan-border);
    border-radius: var(--dasan-radius-sm);
    box-shadow: var(--dasan-shadow-lg);
    z-index: 100;
}

.download-dropdown.open .download-menu {
    display: block;
}

.download-menu-item {
    display: flex;
    align-items: center;
    gap: var(--krds-gap-3);
    width: 100%;
    padding: var(--krds-padding-4) var(--krds-padding-5);
    border: none;
    background: transparent;
    cursor: pointer;
    font-size: var(--krds-pc-font-size-body-small);
    color: var(--dasan-text-basic);
    text-align: left;
    transition: background-color var(--krds-transition-base);
}

.download-menu-item:hover {
    background-color: var(--krds-light-color-action-secondary-hover);
}

.download-menu-item .svg-icon {
    width: var(--krds-icon--size-small);
    height: var(--krds-icon--size-small);
    color: var(--dasan-text-subtle);
}

/* 차트 컨테이너 */
.trend-chart-container {
    width: 100%;
    height: 280px;
}

/* Mobile */
@media (max-width: 767px) {
    .keyword-detail {
        padding: var(--krds-padding-5);
    }

    .detail-keyword-name {
        font-size: var(--krds-mobile-font-size-heading-small);
    }

    .control-bar {
        flex-direction: column;
        align-items: stretch;
    }

    .control-bar-left,
    .control-bar-right {
        width: 100%;
        justify-content: space-between;
    }

    .date-picker-group {
        flex-wrap: wrap;
    }

    .date-picker-group .krds-input {
        width: 100%;
        flex: 1;
        min-width: 10rem;
    }

    .trend-chart-container {
        height: 240px;
    }
}

/* ========================================
   빈 상태
   ======================================== */
.empty-state {
    text-align: center;
    padding: var(--krds-padding-10) var(--krds-padding-6); /* 4rem 1.6rem */
}

.empty-state p {
    /* KRDS Body Medium */
    font-size: var(--krds-pc-font-size-body-medium);
    color: var(--dasan-text-subtle);
    margin: 0;
    line-height: var(--krds-line-height-base);
}

/* ========================================
   High Contrast Mode 지원
   ======================================== */
[data-krds-mode="high-contrast"] .keyword-row:hover {
    background-color: var(--krds-high-contrast-color-action-secondary-hover);
}

[data-krds-mode="high-contrast"] .keyword-row.expanded {
    background-color: var(--krds-high-contrast-color-surface-gray-subtler);
}

[data-krds-mode="high-contrast"] .keyword-detail {
    background-color: var(--krds-high-contrast-color-surface-gray-subtler);
}

[data-krds-mode="high-contrast"] .quick-date-btns .krds-btn.active {
    background-color: var(--krds-color-high-contrast-primary-60);
}
