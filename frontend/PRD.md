# 요구사항 정의서 (PRD)

# 개요 및 목표

다산콜재단120 민원공개 시스템을 next.js를 이용하여 프로토타입 화면을 생성 하려고 한다.

- **프로젝트명**: dasan-complaints-front
- **목표**: 실시간 민원 키워드, 지역별·기간별 분석, 시각화 및 다운로드 기능을 제공
- **플랫폼 범위**:
  - 웹 기반 (Next.js + krds-react component)
- **참조 문서**: CLAUDE.md (기술 스택), 

---

# 주요 화면 기능

## 헤더

헤더 내비게이션에서 아래 경로 탐색 가능. 좌측에 로고, 'Home', '콜이슈', '민원' 순서

## 메인 화면 (/)

아래 항목이 보기 좋게 대시보드 UI로 정리되어있어야 함.

- **데이터 현황** 전체 민원 데이터의 건수를 기간별·유형별로 안내
   ①데이터 수집 기간, 최신 업데이트 시각, 데이터 크기 등을 대시보드 형식
- **데이터 검색** 키워드를 기준으로 관련 민원 데이터를 조회
   우상단 헤더에 위치. 입력 후 검색 시 콜 이슈 페이지의 검색으로 이동. 이외 페이지 헤더에서는 노출 안됌.
- **민원 건수** 카드 안에 차트로 일별 총 민원 건수를 안내
  마우스 오버레이 시 정확한 건수 안
- **기관별 현황** 서울시의 30개 구 중, 민원 수가 많은 top10 구와 기타 구로 나눠서 차트로 표현. 민원의 점유율을 나타내며 마우스 오버레이 시 정확한 건수 안내
- **오늘의 이슈** 워드 클라우드로 데이터 시각적 강조 및 시각화. 우상단에 기준 시간 표시
- **오늘의 민원** 민원 통계를 표로 top10을 나타냄. 순위, 키워드, 건수 노출. 우상단에 기준 시간 표시



### 콜 이슈 화면 (/call-issue)
실시간 민원 데이터를 키워드로 검색하고, 키워드와 관련된 민원이 얼만큼 발생했는 지 최근 일정 기간으로 추세를 나타냄

테이블 예제
|real_time_seq|yy|mm|dd|hh|keyword|call_id|
|-------------|--|--|--|--|-------|-------|
|1|2026|01|13|00|불법|AVA_20240106000217_6621_01|
|2|2026|01|13|00|주차|AVA_20240106000217_6621_01|
|3|2026|01|13|00|신고|AVA_20240106000217_6621_01|

- **키워드 검색** 헤더 바로 아래, 상단에 위치. 메인에서 검색 시 키워드를 가지고 검색되게 함. 
- **검색 결과**  검색 결과를 리스트로 정리.
- **키워드 상세**  검색 결과 리스트에서 키워드 선택 시 모달 팝업. 키워드 발생 추이를 보여줌.
  모달 좌상단에는 키워드 명. 데이터 차트에 기간 선택 가능.
  csv, excel, 이미지 다운로드 버튼


## 민원 화면 (/complaint)

헤더 내비게이션 클릭 시 지역별, 기간별 선택 가능

테이블 예제 
|bach_consultation_seq|yy|mm|dd|hh|wk|gu|gu_code|dong|keyword|k_code|call_id|
|---------------------|--|--|--|--|--|--|-------|----|-------|------|-------|
|1|2025|01|01|23|3|관악구|320|관악동|쓰레기무단투기|22214207|2025010123352337102366|
|2|2025|01|01|08|3|은평구|311|은평동|환경|22214196|2025010108957070130707|
|3|2025|01|01|04|3|서대문구|312|서대문동|장애인주차구역위반|22214199|2025010104041261321875|


### 지역별 (/complaint/region)

- **민원지도** 키워드로 검색된 민원 건수를 지도에 표시
  지도 상단에 콜 이슈 화면과 같은 키워드 검색 기능
  타이틀은 지역별 현황
  키워드가 없는 초기 화면에서는 전체 민원의 지역별 건수를 지도에 표시
  지도 좌측에는 기간 선택과 서울시 전체 구 리스트와 검색된 건수가 건수별로 리스트로 나열
- 자치구 및 행정동 단위 분석 
  각 자치구별 발생 건수를 지도에 마우스 오버레이시 표시
  클릭 시 해당 구로 이동
  구로 이동 시 구 지도로 변경되며 상위 뎁스와 같은 UI로 동에 대한 민원 현황 분석

### 기간별 (/complaint/period)

- **키워드분석** 키워드로 검색된 민원 건수를 
   ①키워드별 일간 발생량을 시계열 그래프
   ②특정 날짜 클릭 시 상세 건수 확인
   콜 이슈의 키워드 검색과 기능적으로 동일


- **계절 분석** 민원데이터 발생빈도. 각 기간별로 top5를 뽑아 해당 키워드에 대한 하위 분석 
   ①월별 발생량을 추적하여, 증가·감소 추세를 파악
   ②요일 및 시간대별로 민원 건수 분포
   ③평일과 주말을 구분하여 패턴을 분석
   ④계절(봄·여름·가을·겨울)을 구분하여 패턴을 분석

# 각 화면의 공통 기능
- **다운로드** 데이터 다운로드
   ①CSV, Excel, 그래프 이미지 
- **워드클라우드** 해당 키워드와 연관성이 높은 단어를 빈도 기반으로 추출
  ①빈도 기반으로 추출해 워드클라우드 (워드 클라우드 구현 방식과 라이브러리 선정 요망)
- **연관어 분석** 키워드 간 관계 시각적으로 표현
  ①민원 패턴을 확인 (구현 방안 검색하기)


# 관리자 화면 (/admin)
- **로그 및 통계 조회** 화면 조회수, 이용자 수, 메뉴 별 클릭 수, 다운로드 수, 확인 

---

# UI/UX 가이드
## 디자인 기술 명세

krds 디자인 가이드를 반드시 따른다.

krds-react 컴포넌트를 사용

npm install krds-react

스토리북
https://krds.js.org/?path=/docs/introduction--docs


## 유사도 검색

Elasticsearch 사용

# 지도 가이드

https://leafletjs.com/examples/choropleth/
leaflet 라이브러리의 코로플레스 맵을 서울시의 구, 동 별로 매핑

# 데이터
서울시의 구별 샘플 데이터를 JSON 형태로 샘플 데이터를 생성해서 값을 보여줄것
