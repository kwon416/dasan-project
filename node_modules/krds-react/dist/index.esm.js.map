{"version":3,"file":"index.esm.js","sources":["../src/utils/classNames.ts","../src/hooks/use-uncontrolled.ts","../src/components/Accordion/AccordionContext.tsx","../src/components/Accordion/AccordionItemContext.tsx","../src/components/Accordion/AccordionItem.tsx","../src/components/Accordion/AccordionHeader.tsx","../src/components/Accordion/AccordionPanel.tsx","../src/components/Accordion/Accordion.tsx","../src/components/Badge/Badge.tsx","../src/components/Breadcrumb/Breadcrumb.tsx","../src/components/Button/Button.tsx","../src/components/Calendar/Calendar.tsx","../src/components/Checkbox/Checkbox.tsx","../src/components/CoachMark/CoachMark.tsx","../src/components/ContextualHelp/ContextualHelp.tsx","../src/components/CriticalAlert/CriticalAlert.tsx","../src/components/DateInput/DateInput.tsx","../src/components/Disclosure/Disclosure.tsx","../src/components/Spinner/Spinner.tsx","../src/components/FileUpload/FileUpload.tsx","../src/components/Identifier/Identifier.tsx","../src/components/Footer/Footer.tsx","../src/components/Dropdown/Dropdown.tsx","../src/components/Portal/Portal.tsx","../src/components/MainMenu/MainMenu.tsx","../src/components/Header/Header.tsx","../src/components/TextList/TextList.tsx","../src/components/HelpPanel/HelpPanel.tsx","../src/components/InPageNavigation/InPageNavigation.tsx","../src/hooks/use-merge-refs.ts","../src/components/LanguageSwitcher/LanguageSwitcher.tsx","../src/components/Link/Link.tsx","../src/components/Masthead/Masthead.tsx","../src/components/Modal/ModalContext.tsx","../src/components/Modal/Modal.tsx","../src/components/Pagination/Pagination.tsx","../src/components/Radio/Radio.tsx","../src/components/Resize/Resize.tsx","../src/components/Select/Select.tsx","../src/components/SideNavigation/SideNavigation.tsx","../src/components/SkipLink/SkipLink.tsx","../src/components/StepIndicator/StepIndicator.tsx","../src/components/StructuredList/StructuredList.tsx","../src/components/Tab/Tab.tsx","../src/components/Tag/Tag.tsx","../src/components/Textarea/Textarea.tsx","../src/components/TextInput/TextInput.tsx","../src/components/ToggleSwitch/ToggleSwitch.tsx","../src/components/Tooltip/Tooltip.tsx","../src/components/TutorialPanel/TutorialPanel.tsx"],"sourcesContent":["type ClassValue = string | number | boolean | undefined | null | ClassRecord | ClassValue[];\r\n\r\ninterface ClassRecord {\r\n  [key: string]: boolean | undefined | null;\r\n}\r\n\r\nexport function classNames(...classes: ClassValue[]): string {\r\n  const result: string[] = [];\r\n\r\n  for (const cls of classes) {\r\n    if (!cls) continue;\r\n\r\n    if (typeof cls === 'string' || typeof cls === 'number') {\r\n      result.push(String(cls));\r\n    } else if (typeof cls === 'object' && !Array.isArray(cls)) {\r\n      for (const [key, value] of Object.entries(cls)) {\r\n        if (value) {\r\n          result.push(key);\r\n        }\r\n      }\r\n    } else if (Array.isArray(cls)) {\r\n      const nested = classNames(...cls);\r\n      if (nested) {\r\n        result.push(nested);\r\n      }\r\n    }\r\n  }\r\n\r\n  return result.join(' ');\r\n}\r\n","import { useState } from 'react';\r\n\r\nexport interface UseUncontrolledOptions<T> {\r\n  /**\r\n   * 제어 상태에서 사용할 값\r\n   * Value when component is in controlled mode\r\n   */\r\n  value?: T;\r\n\r\n  /**\r\n   * 비제어 상태일 때 사용할 초기 값\r\n   * Initial value when component is in uncontrolled mode\r\n   */\r\n  defaultValue?: T;\r\n\r\n  /**\r\n   * value와 defaultValue가 제공되지 않았을 때 사용할 최종 기본 값\r\n   * Fallback value when both `value` and `defaultValue` are undefined\r\n   */\r\n  finalValue?: T;\r\n\r\n  /**\r\n   * 제어 상태일 때 호출되는 변경 핸들러\r\n   * Change handler used in controlled mode\r\n   */\r\n  onChange?: (value: T, ...payload: any[]) => void;\r\n}\r\n\r\nexport type UseUncontrolledReturnValue<T> = [\r\n  /**\r\n   * 현재 값\r\n   * Current value (from `value` if controlled, internal state if uncontrolled)\r\n   */\r\n  T,\r\n\r\n  /**\r\n   * 값을 업데이트하는 함수\r\n   * Function to update the value (calls `onChange` or updates internal state)\r\n   */\r\n  (value: T, ...payload: any[]) => void,\r\n\r\n  /**\r\n   * 현재 상태가 제어 상태인지 여부\r\n   * Whether the component is in controlled mode (`true`) or uncontrolled (`false`)\r\n   */\r\n  boolean,\r\n];\r\n\r\n/**\r\n * 제어 상태와 비제어 상태를 모두 지원하는 커스텀 훅\r\n * Custom hook that supports both controlled and uncontrolled usage\r\n */\r\nexport function useUncontrolled<T>({\r\n  value,\r\n  defaultValue,\r\n  finalValue,\r\n  onChange = () => {},\r\n}: UseUncontrolledOptions<T>): UseUncontrolledReturnValue<T> {\r\n  const [uncontrolledValue, setUncontrolledValue] = useState(\r\n    defaultValue !== undefined ? defaultValue : finalValue\r\n  );\r\n\r\n  const handleUncontrolledChange = (val: T, ...payload: any[]) => {\r\n    setUncontrolledValue(val);\r\n    onChange?.(val, ...payload);\r\n  };\r\n\r\n  // 제어 상태인 경우: 외부 value와 onChange를 그대로 사용\r\n  // Controlled mode: use external `value` and `onChange` directly\r\n  if (value !== undefined) {\r\n    return [value as T, onChange, true];\r\n  }\r\n\r\n  // 비제어 상태인 경우: 내부 상태를 사용하여 값 관리\r\n  // Uncontrolled mode: use internal state\r\n  return [uncontrolledValue as T, handleUncontrolledChange, false];\r\n}\r\n","import { createContext, useContext } from 'react';\r\nimport { AccordionContextValue } from './Accordion.types';\r\n\r\nexport const AccordionContext = createContext<AccordionContextValue | null>(null);\r\n\r\nexport const useAccordionContext = () => {\r\n  const context = useContext(AccordionContext);\r\n  if (!context) {\r\n    throw new Error('Accordion 하위 컴포넌트는 Accordion 컴포넌트 내부에서 사용되어야 합니다.');\r\n  }\r\n  return context;\r\n};\r\n","import { createContext, useContext } from 'react';\r\n\r\nexport interface AccordionItemContextValue {\r\n  /** 아이템 값 */\r\n  value: string;\r\n  /** 열림 상태 */\r\n  isExpanded: boolean;\r\n  /** 아이템 고유 식별자 */\r\n  itemId: string;\r\n}\r\n\r\nexport const AccordionItemContext = createContext<AccordionItemContextValue | null>(null);\r\n\r\nexport const useAccordionItemContext = () => {\r\n  const context = useContext(AccordionItemContext);\r\n  if (!context) {\r\n    throw new Error(\r\n      'AccordionHeader와 AccordionPanel은 AccordionItem 컴포넌트 내부에서 사용되어야 합니다.'\r\n    );\r\n  }\r\n  return context;\r\n};\r\n","import { classNames } from '@/utils';\r\nimport { forwardRef, useId } from 'react';\r\nimport { useAccordionContext } from './AccordionContext';\r\nimport { AccordionItemContext } from './AccordionItemContext';\r\n\r\nimport { AccordionItemProps } from './Accordion.types';\r\n\r\n/**\r\n * KRDS AccordionItem Component ( Pattern)\r\n * @param value 아이템 값 (고유 식별자)\r\n * @param children 자식 컴포넌트들 (Header와 Panel)\r\n */\r\nconst AccordionItem = forwardRef<HTMLDivElement, AccordionItemProps>(\r\n  ({ value, children, className = '', ...props }, ref) => {\r\n    const { expandedValues } = useAccordionContext();\r\n    const isExpanded = expandedValues.includes(value);\r\n    const itemId = useId();\r\n\r\n    const itemClasses = classNames('accordion-item', isExpanded && 'active', className);\r\n\r\n    const itemContextValue = {\r\n      value,\r\n      isExpanded,\r\n      itemId,\r\n    };\r\n\r\n    return (\r\n      <AccordionItemContext.Provider value={itemContextValue}>\r\n        <div className={itemClasses} ref={ref} {...props}>\r\n          {children}\r\n        </div>\r\n      </AccordionItemContext.Provider>\r\n    );\r\n  }\r\n);\r\n\r\nAccordionItem.displayName = 'AccordionItem';\r\n\r\nexport default AccordionItem;\r\n","import { classNames } from '@/utils';\r\nimport { forwardRef } from 'react';\r\nimport { useAccordionContext } from './AccordionContext';\r\nimport { useAccordionItemContext } from './AccordionItemContext';\r\n\r\nimport { AccordionHeaderProps } from './Accordion.types';\r\n\r\n/**\r\n * KRDS AccordionHeader Component\r\n * @param children 헤더 제목\r\n * @param onClick 커스텀 클릭 핸들러\r\n */\r\nconst AccordionHeader = forwardRef<HTMLHeadingElement, AccordionHeaderProps>(\r\n  ({ children, onClick, className = '', ...props }, ref) => {\r\n    const { onToggle } = useAccordionContext();\r\n    const { value: itemValue, isExpanded, itemId } = useAccordionItemContext();\r\n    const headerId = `accordion-header-${itemId}`;\r\n    const panelId = `accordion-panel-${itemId}`;\r\n\r\n    const buttonClasses = classNames('btn-accordion', isExpanded && 'active');\r\n\r\n    const handleClick = () => {\r\n      onToggle(itemValue);\r\n      onClick?.();\r\n    };\r\n\r\n    const handleKeyDown = (event: React.KeyboardEvent<HTMLButtonElement>) => {\r\n      if (event.key === 'Enter' || event.key === ' ') {\r\n        event.preventDefault();\r\n        handleClick();\r\n      }\r\n    };\r\n\r\n    return (\r\n      <h5 className={classNames('accordion-header', className)} ref={ref} {...props}>\r\n        <button\r\n          type=\"button\"\r\n          id={headerId}\r\n          className={buttonClasses}\r\n          aria-expanded={isExpanded}\r\n          aria-controls={panelId}\r\n          onClick={handleClick}\r\n          onKeyDown={handleKeyDown}\r\n        >\r\n          {children}\r\n        </button>\r\n      </h5>\r\n    );\r\n  }\r\n);\r\n\r\nAccordionHeader.displayName = 'AccordionHeader';\r\n\r\nexport default AccordionHeader;\r\n","import { classNames } from '@/utils';\r\nimport { forwardRef } from 'react';\r\n\r\nimport { AccordionPanelProps } from './Accordion.types';\r\nimport { useAccordionItemContext } from './AccordionItemContext';\r\n\r\n/**\r\n * KRDS AccordionPanel Component\r\n * @param children 패널 내용\r\n */\r\nconst AccordionPanel = forwardRef<HTMLDivElement, AccordionPanelProps>(\r\n  ({ children, className = '', ...props }, ref) => {\r\n    const { itemId } = useAccordionItemContext();\r\n    const headerId = `accordion-header-${itemId}`;\r\n    const panelId = `accordion-panel-${itemId}`;\r\n\r\n    return (\r\n      <div\r\n        id={panelId}\r\n        aria-labelledby={headerId}\r\n        className={classNames('accordion-collapse', className)}\r\n        ref={ref}\r\n        {...props}\r\n      >\r\n        <div className=\"accordion-body\">{children}</div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nAccordionPanel.displayName = 'AccordionPanel';\r\n\r\nexport default AccordionPanel;\r\n","import { classNames } from '@/utils';\r\nimport { useUncontrolled } from '@/hooks/use-uncontrolled';\r\nimport { forwardRef, useCallback } from 'react';\r\nimport { AccordionContext } from './AccordionContext';\r\nimport AccordionItem from './AccordionItem';\r\nimport AccordionHeader from './AccordionHeader';\r\nimport AccordionPanel from './AccordionPanel';\r\nimport { AccordionProps } from './Accordion.types';\r\n\r\n/**\r\n * KRDS Accordion Component ( Pattern)\r\n * @param variant 아코디언 스타일 변형 ('default' | 'line')\r\n * @param allowMultiple 다중 선택 허용 여부\r\n * @param value 열린 아이템 값 배열 (제어 상태)\r\n * @param onChange 열린 아이템 변경 핸들러\r\n * @param defaultValue 초기 열린 아이템 값 배열 (비제어 상태)\r\n * @param children 자식 컴포넌트들\r\n */\r\nconst AccordionRoot = forwardRef<HTMLDivElement, AccordionProps>(\r\n  (\r\n    {\r\n      variant = 'default',\r\n      allowMultiple = true,\r\n      value,\r\n      onChange,\r\n      defaultValue = [],\r\n      children,\r\n      className = '',\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const [expandedValues, setExpandedValues] = useUncontrolled<string[]>({\r\n      value,\r\n      defaultValue,\r\n      finalValue: [],\r\n      onChange,\r\n    });\r\n\r\n    const handleToggle = useCallback(\r\n      (itemValue: string) => {\r\n        const isCurrentlyExpanded = expandedValues.includes(itemValue);\r\n\r\n        if (allowMultiple) {\r\n          const newExpandedValues = isCurrentlyExpanded\r\n            ? expandedValues.filter(val => val !== itemValue)\r\n            : [...expandedValues, itemValue];\r\n          setExpandedValues(newExpandedValues);\r\n        } else {\r\n          const newExpandedValues = isCurrentlyExpanded ? [] : [itemValue];\r\n          setExpandedValues(newExpandedValues);\r\n        }\r\n      },\r\n      [expandedValues, allowMultiple, setExpandedValues]\r\n    );\r\n\r\n    const accordionClasses = classNames(\r\n      'krds-accordion',\r\n      variant === 'line' && 'type-line',\r\n      className\r\n    );\r\n\r\n    const contextValue = {\r\n      expandedValues,\r\n      onToggle: handleToggle,\r\n      variant,\r\n    };\r\n\r\n    return (\r\n      <AccordionContext.Provider value={contextValue}>\r\n        <div className={accordionClasses} ref={ref} {...props}>\r\n          {children}\r\n        </div>\r\n      </AccordionContext.Provider>\r\n    );\r\n  }\r\n);\r\n\r\nAccordionRoot.displayName = 'AccordionRoot';\r\n\r\nconst Accordion = Object.assign(AccordionRoot, {\r\n  Root: AccordionRoot,\r\n  Item: AccordionItem,\r\n  Header: AccordionHeader,\r\n  Panel: AccordionPanel,\r\n});\r\n\r\nAccordion.displayName = 'Accordion';\r\n\r\nexport default Accordion;\r\n","import { classNames } from '@/utils';\r\nimport { forwardRef } from 'react';\r\nimport { BadgeProps, BadgeWrapperProps } from './Badge.types';\r\n\r\n/**\r\n * KRDS Badge 컴포넌트\r\n * @param variant 배지 종류 ('outline' | 'filled' | 'light')\r\n * @param color 배지 색상 ('primary' | 'secondary' | 'gray' | 'point' | 'danger' | 'warning' | 'success' | 'information' | 'disabled')\r\n * @param size 배지 크기 ('small' | 'medium' | 'large')\r\n * @param rounded 배지 모양 원형 여부\r\n * @param children 배지 내용\r\n * @param className 추가 커스텀 클래스\r\n */\r\nexport const Badge = forwardRef<HTMLSpanElement, BadgeProps>(\r\n  (\r\n    {\r\n      variant = 'outline',\r\n      color = 'primary',\r\n      size = 'medium',\r\n      rounded = false,\r\n      children,\r\n      className,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const variantColorClass =\r\n      variant === 'outline'\r\n        ? `outline-${color}`\r\n        : variant === 'filled'\r\n          ? `bg-${color}`\r\n          : `bg-light-${color}`;\r\n\r\n    return (\r\n      <span\r\n        ref={ref}\r\n        className={classNames(\r\n          'krds-badge',\r\n          size,\r\n          variantColorClass,\r\n          rounded && 'number',\r\n          className\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </span>\r\n    );\r\n  }\r\n);\r\n\r\nBadge.displayName = 'Badge';\r\n\r\n/**\r\n * KRDS Badge Wrapper 컴포넌트\r\n * @param children 배지 컴포넌트들\r\n * @param className 추가 커스텀 클래스\r\n */\r\nexport const BadgeWrapper = forwardRef<HTMLDivElement, BadgeWrapperProps>(\r\n  ({ children, className, ...props }, ref) => {\r\n    return (\r\n      <div ref={ref} className={classNames('krds-badge-wrap', className)} {...props}>\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nBadgeWrapper.displayName = 'BadgeWrapper';\r\n","import { classNames } from '@/utils';\r\nimport React from 'react';\r\nimport { BreadcrumbProps } from './Breadcrumb.types';\r\n\r\n/**\r\n * KRDS Breadcrumb Component\r\n * @param items 브레드크럼 아이템 목록 ('home' | 'link' | 'disabled')\r\n * @param className 추가 클래스명\r\n * @param ariaLabel 접근성 레이블\r\n */\r\nexport const Breadcrumb = React.forwardRef<HTMLElement, BreadcrumbProps>(\r\n  ({ items, className, ariaLabel = '현재 경로', ...props }, ref) => {\r\n    return (\r\n      <nav\r\n        ref={ref}\r\n        className={classNames('krds-breadcrumb-wrap', className)}\r\n        aria-label={ariaLabel}\r\n        {...props}\r\n      >\r\n        <ol className=\"breadcrumb\" role=\"list\">\r\n          {items.map((item, index) => {\r\n            const isLast = index === items.length - 1;\r\n            const liClassName = classNames(index === 0 && 'home');\r\n            return (\r\n              <li key={index} className={liClassName || undefined}>\r\n                <a\r\n                  href={item.disabled ? undefined : item.href}\r\n                  className={classNames('txt')}\r\n                  onClick={item.disabled ? e => e.preventDefault() : undefined}\r\n                  aria-current={isLast ? 'page' : undefined}\r\n                  aria-disabled={item.disabled ? 'true' : undefined}\r\n                >\r\n                  {item.text}\r\n                </a>\r\n              </li>\r\n            );\r\n          })}\r\n        </ol>\r\n      </nav>\r\n    );\r\n  }\r\n);\r\n\r\nBreadcrumb.displayName = 'Breadcrumb';\r\n","import { classNames } from '@/utils';\r\nimport React, { ComponentPropsWithRef, ElementType, forwardRef } from 'react';\r\nimport { ButtonProps } from './Button.types';\r\n\r\ntype PolymorphicRef<T extends ElementType> = ComponentPropsWithRef<T>['ref'];\r\n\r\ntype PolymorphicButtonComponent = <T extends ElementType = 'button'>(\r\n  props: ButtonProps<T> & { ref?: PolymorphicRef<T> }\r\n) => React.ReactElement | null;\r\n\r\n/**\r\n * KRDS Button Component\r\n * @param variant button variant ('primary' | 'secondary' | 'tertiary' | 'text' | 'icon')\r\n * @param size button size ('xsmall' | 'small' | 'medium' | 'large' | 'xlarge')\r\n * @param className custom class name\r\n */\r\nconst ButtonImplementation = <T extends ElementType = 'button'>(\r\n  {\r\n    as,\r\n    children,\r\n    variant = 'primary',\r\n    size = 'large',\r\n    className = '',\r\n    role = 'button',\r\n    disabled = false,\r\n    ...restProps\r\n  }: ButtonProps<T>,\r\n  ref: PolymorphicRef<T>\r\n) => {\r\n  const Component = as || 'button';\r\n  const typeProp = restProps.type || (Component === 'button' ? 'button' : undefined);\r\n\r\n  const buttonClasses = classNames('krds-btn', variant, size, disabled && 'disabled', className);\r\n\r\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLButtonElement>) => {\r\n    if (event.key === 'Enter' || event.key === ' ') {\r\n      event.preventDefault();\r\n      if (!disabled) {\r\n        (event.currentTarget as HTMLButtonElement).click();\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Component\r\n      ref={ref}\r\n      className={buttonClasses}\r\n      disabled={disabled}\r\n      aria-disabled={Component !== 'button' ? disabled : undefined}\r\n      onKeyDown={handleKeyDown}\r\n      role={role}\r\n      type={typeProp}\r\n      {...restProps}\r\n    >\r\n      {children}\r\n    </Component>\r\n  );\r\n};\r\n\r\nconst ButtonComponent = forwardRef(ButtonImplementation as any);\r\nButtonComponent.displayName = 'Button';\r\nconst Button = ButtonComponent as PolymorphicButtonComponent;\r\n\r\nexport default Button;\r\n","import { useState, useRef, useEffect, forwardRef, useMemo, useCallback } from 'react';\r\nimport { CalendarProps, CalendarDate } from './Calendar.types';\r\nimport { useUncontrolled } from '@/hooks/use-uncontrolled';\r\nimport { classNames } from '@/utils';\r\n\r\n/**\r\n * KRDS Calendar Component\r\n * @param mode 달력 모드 ('single' | 'range')\r\n * @param position 달력 위치 ('top' | 'bottom')\r\n * @param value 현재 선택된 날짜 (단일 선택)\r\n * @param defaultValue 기본 선택된 날짜 (단일 선택)\r\n * @param startDate 범위 선택 시작 날짜\r\n * @param endDate 범위 선택 종료 날짜\r\n * @param defaultStartDate 기본 범위 선택 시작 날짜\r\n * @param defaultEndDate 기본 범위 선택 종료 날짜\r\n * @param disabledDates 비활성화할 날짜 배열\r\n * @param eventDates 이벤트가 있는 날짜 배열\r\n * @param isOpen 달력 열림 상태\r\n * @param defaultIsOpen 기본 달력 열림 상태\r\n * @param label 입력 필드 레이블\r\n * @param placeholder 입력 필드 placeholder\r\n * @param disabled 비활성화 여부\r\n * @param readOnly 읽기 전용 여부\r\n */\r\nexport const Calendar = forwardRef<HTMLDivElement, CalendarProps>(\r\n  (\r\n    {\r\n      mode = 'single',\r\n      position = 'bottom',\r\n      value,\r\n      defaultValue = '',\r\n      startDate,\r\n      endDate,\r\n      defaultStartDate = '',\r\n      defaultEndDate = '',\r\n      disabledDates = [],\r\n      eventDates = [],\r\n      isOpen,\r\n      defaultIsOpen = false,\r\n      onOpenChange,\r\n      onChange,\r\n      onRangeChange,\r\n      onYearChange,\r\n      onMonthChange,\r\n      onTodayClick,\r\n      onConfirm,\r\n      onCancel,\r\n      label = '기간선택',\r\n      inputId = 'cal',\r\n      placeholder = 'YYYY.MM.DD',\r\n      startPlaceholder = '시작날짜',\r\n      endPlaceholder = '종료날짜',\r\n      startTitle = '시작날짜 입력',\r\n      endTitle = '종료날짜 입력',\r\n      openButtonLabel = '달력 열기',\r\n      prevButtonLabel = '이전 달',\r\n      nextButtonLabel = '다음 달',\r\n      yearSelectLabel = '연도 선택',\r\n      monthSelectLabel = '월 선택',\r\n      todayButtonText = '오늘',\r\n      cancelButtonText = '취소',\r\n      confirmButtonText = '확인',\r\n      disabled = false,\r\n      readOnly = false,\r\n      className: _className,\r\n      ...rest\r\n    },\r\n    ref\r\n  ) => {\r\n    const [internalIsOpen, setInternalIsOpen] = useUncontrolled({\r\n      value: isOpen,\r\n      defaultValue: defaultIsOpen,\r\n      finalValue: false,\r\n      onChange: onOpenChange,\r\n    });\r\n\r\n    const [internalValue, setInternalValue] = useUncontrolled({\r\n      value,\r\n      defaultValue,\r\n      finalValue: '',\r\n      onChange,\r\n    });\r\n\r\n    const [internalStartDate, setInternalStartDate] = useUncontrolled({\r\n      value: startDate,\r\n      defaultValue: defaultStartDate,\r\n      finalValue: '',\r\n      onChange: newStartDate => {\r\n        if (onRangeChange) {\r\n          onRangeChange(newStartDate, internalEndDate);\r\n        }\r\n      },\r\n    });\r\n\r\n    const [internalEndDate, setInternalEndDate] = useUncontrolled({\r\n      value: endDate,\r\n      defaultValue: defaultEndDate,\r\n      finalValue: '',\r\n      onChange: newEndDate => {\r\n        if (onRangeChange) {\r\n          onRangeChange(internalStartDate, newEndDate);\r\n        }\r\n      },\r\n    });\r\n\r\n    const parseDate = useCallback((dateString: string): Date | null => {\r\n      if (!dateString) return null;\r\n      const parts = dateString.split('.');\r\n      if (parts.length !== 3) return null;\r\n\r\n      const year = parseInt(parts[0]);\r\n      const month = parseInt(parts[1]);\r\n      const day = parseInt(parts[2]);\r\n\r\n      if (isNaN(year) || isNaN(month) || isNaN(day)) return null;\r\n      if (month < 1 || month > 12) return null;\r\n      if (day < 1 || day > 31) return null;\r\n\r\n      return new Date(year, month - 1, day);\r\n    }, []);\r\n\r\n    const formatDate = (date: Date): string => {\r\n      return `${date.getFullYear()}.${(date.getMonth() + 1).toString().padStart(2, '0')}.${date.getDate().toString().padStart(2, '0')}`;\r\n    };\r\n\r\n    const getCurrentYearMonth = useCallback((): { year: number; month: number } => {\r\n      const today = new Date();\r\n\r\n      if (mode === 'single' && internalValue) {\r\n        const selectedDate = parseDate(internalValue);\r\n        if (selectedDate) {\r\n          return {\r\n            year: selectedDate.getFullYear(),\r\n            month: selectedDate.getMonth() + 1,\r\n          };\r\n        }\r\n      } else if (mode === 'range' && internalStartDate) {\r\n        const selectedDate = parseDate(internalStartDate);\r\n        if (selectedDate) {\r\n          return {\r\n            year: selectedDate.getFullYear(),\r\n            month: selectedDate.getMonth() + 1,\r\n          };\r\n        }\r\n      }\r\n\r\n      return {\r\n        year: today.getFullYear(),\r\n        month: today.getMonth() + 1,\r\n      };\r\n    }, [mode, internalValue, internalStartDate, parseDate]);\r\n\r\n    const [currentYearMonth, setCurrentYearMonth] = useState(getCurrentYearMonth);\r\n\r\n    useEffect(() => {\r\n      const newYearMonth = getCurrentYearMonth();\r\n      setCurrentYearMonth(newYearMonth);\r\n    }, [internalValue, internalStartDate, mode, getCurrentYearMonth]);\r\n\r\n    const [yearDropdownOpen, setYearDropdownOpen] = useState(false);\r\n    const [monthDropdownOpen, setMonthDropdownOpen] = useState(false);\r\n\r\n    const [clickCount, setClickCount] = useState(0);\r\n    const [startTd, setStartTd] = useState<CalendarDate | null>(null);\r\n\r\n    const calendarWrapRef = useRef<HTMLDivElement>(null);\r\n\r\n    const availableYears = useMemo(() => {\r\n      const currentYear = new Date().getFullYear();\r\n      return Array.from({ length: 101 }, (_, i) => {\r\n        const year = currentYear - 50 + i;\r\n        return {\r\n          value: year,\r\n          label: `${year}년`,\r\n          isActive: year === currentYearMonth.year,\r\n          isDisabled: false,\r\n        };\r\n      });\r\n    }, [currentYearMonth.year]);\r\n\r\n    const availableMonths = useMemo(() => {\r\n      return Array.from({ length: 12 }, (_, i) => {\r\n        const month = i + 1;\r\n        return {\r\n          value: month,\r\n          label: `${month.toString().padStart(2, '0')}월`,\r\n          isActive: month === currentYearMonth.month,\r\n          isDisabled: false,\r\n        };\r\n      });\r\n    }, [currentYearMonth.month]);\r\n\r\n    const calendarDates = useMemo((): CalendarDate[] => {\r\n      const { year, month } = currentYearMonth;\r\n      const today = new Date();\r\n      const firstDay = new Date(year, month - 1, 1);\r\n      const lastDay = new Date(year, month, 0);\r\n      const firstDayOfWeek = firstDay.getDay();\r\n      const daysInMonth = lastDay.getDate();\r\n\r\n      const dates: CalendarDate[] = [];\r\n\r\n      const prevMonth = month === 1 ? 12 : month - 1;\r\n      const prevYear = month === 1 ? year - 1 : year;\r\n      const prevMonthLastDay = new Date(prevYear, prevMonth, 0).getDate();\r\n\r\n      for (let i = firstDayOfWeek - 1; i >= 0; i--) {\r\n        const day = prevMonthLastDay - i;\r\n        const dateString = `${prevYear}.${prevMonth.toString().padStart(2, '0')}.${day.toString().padStart(2, '0')}`;\r\n\r\n        dates.push({\r\n          year: prevYear,\r\n          month: prevMonth,\r\n          day,\r\n          isOld: true,\r\n          isDayOff: (firstDayOfWeek - 1 - i) % 7 === 0, // Sunday\r\n          isDisabled: disabledDates.includes(dateString),\r\n          hasEvent: eventDates.includes(dateString),\r\n        });\r\n      }\r\n\r\n      for (let day = 1; day <= daysInMonth; day++) {\r\n        const date = new Date(year, month - 1, day);\r\n        const dayOfWeek = date.getDay();\r\n        const dateString = `${year}.${month.toString().padStart(2, '0')}.${day.toString().padStart(2, '0')}`;\r\n        const isToday =\r\n          year === today.getFullYear() && month === today.getMonth() + 1 && day === today.getDate();\r\n\r\n        dates.push({\r\n          year,\r\n          month,\r\n          day,\r\n          isToday,\r\n          isDayOff: dayOfWeek === 0, // Sunday\r\n          isDisabled: disabledDates.includes(dateString),\r\n          hasEvent: eventDates.includes(dateString),\r\n        });\r\n      }\r\n\r\n      const remainingCells = 42 - dates.length;\r\n      const nextMonth = month === 12 ? 1 : month + 1;\r\n      const nextYear = month === 12 ? year + 1 : year;\r\n\r\n      for (let day = 1; day <= remainingCells; day++) {\r\n        const dateString = `${nextYear}.${nextMonth.toString().padStart(2, '0')}.${day.toString().padStart(2, '0')}`;\r\n\r\n        dates.push({\r\n          year: nextYear,\r\n          month: nextMonth,\r\n          day,\r\n          isNew: true,\r\n          isDayOff: dates.length % 7 === 0,\r\n          isDisabled: disabledDates.includes(dateString),\r\n          hasEvent: eventDates.includes(dateString),\r\n        });\r\n      }\r\n\r\n      return dates;\r\n    }, [currentYearMonth, disabledDates, eventDates]);\r\n\r\n    const handleOpenCalendar = () => {\r\n      if (disabled || readOnly) return;\r\n      setInternalIsOpen(true);\r\n\r\n      setTimeout(() => {\r\n        calendarWrapRef.current?.focus();\r\n      }, 50);\r\n    };\r\n\r\n    const handleCloseCalendar = useCallback(() => {\r\n      setInternalIsOpen(false);\r\n      setYearDropdownOpen(false);\r\n      setMonthDropdownOpen(false);\r\n    }, [setInternalIsOpen]);\r\n\r\n    const handlePrevMonth = () => {\r\n      const newMonth = currentYearMonth.month === 1 ? 12 : currentYearMonth.month - 1;\r\n      const newYear =\r\n        currentYearMonth.month === 1 ? currentYearMonth.year - 1 : currentYearMonth.year;\r\n\r\n      setCurrentYearMonth({ year: newYear, month: newMonth });\r\n      onYearChange?.(newYear);\r\n      onMonthChange?.(newMonth);\r\n    };\r\n\r\n    const handleNextMonth = () => {\r\n      const newMonth = currentYearMonth.month === 12 ? 1 : currentYearMonth.month + 1;\r\n      const newYear =\r\n        currentYearMonth.month === 12 ? currentYearMonth.year + 1 : currentYearMonth.year;\r\n\r\n      setCurrentYearMonth({ year: newYear, month: newMonth });\r\n      onYearChange?.(newYear);\r\n      onMonthChange?.(newMonth);\r\n    };\r\n\r\n    const handleYearSelect = (yearItem: { value: number; label: string; isDisabled?: boolean }) => {\r\n      if (yearItem.isDisabled) return;\r\n\r\n      setCurrentYearMonth(prev => ({ ...prev, year: yearItem.value }));\r\n      setYearDropdownOpen(false);\r\n      onYearChange?.(yearItem.value);\r\n    };\r\n\r\n    const handleMonthSelect = (monthItem: {\r\n      value: number;\r\n      label: string;\r\n      isDisabled?: boolean;\r\n    }) => {\r\n      if (monthItem.isDisabled) return;\r\n\r\n      setCurrentYearMonth(prev => ({ ...prev, month: monthItem.value }));\r\n      setMonthDropdownOpen(false);\r\n      onMonthChange?.(monthItem.value);\r\n    };\r\n\r\n    const handleDateClick = (date: CalendarDate) => {\r\n      if (date.isDisabled || date.isOld || date.isNew) return;\r\n\r\n      const dateString = `${date.year}.${date.month.toString().padStart(2, '0')}.${date.day.toString().padStart(2, '0')}`;\r\n\r\n      if (mode === 'single') {\r\n        setInternalValue(dateString);\r\n      } else {\r\n        const currentDate = new Date(date.year, date.month - 1, date.day);\r\n\r\n        if (startTd) {\r\n          const startDate = new Date(startTd.year, startTd.month - 1, startTd.day);\r\n          if (currentDate < startDate) {\r\n            setInternalStartDate(dateString);\r\n            setInternalEndDate('');\r\n            setStartTd(date);\r\n            return;\r\n          }\r\n        }\r\n\r\n        setClickCount(clickCount + 1);\r\n\r\n        if (clickCount % 2 === 0) {\r\n          setInternalStartDate(dateString);\r\n          setInternalEndDate('');\r\n          setStartTd(date);\r\n        } else {\r\n          setInternalEndDate(dateString);\r\n          setStartTd(null);\r\n        }\r\n      }\r\n    };\r\n\r\n    const handleTodayClick = () => {\r\n      const today = new Date();\r\n      const todayString = formatDate(today);\r\n\r\n      if (mode === 'single') {\r\n        setInternalValue(todayString);\r\n      } else {\r\n        setInternalStartDate(todayString);\r\n        setInternalEndDate(todayString);\r\n      }\r\n\r\n      setCurrentYearMonth({\r\n        year: today.getFullYear(),\r\n        month: today.getMonth() + 1,\r\n      });\r\n      setClickCount(0);\r\n      setStartTd(null);\r\n\r\n      onTodayClick?.();\r\n    };\r\n\r\n    const handleConfirm = () => {\r\n      handleCloseCalendar();\r\n      onConfirm?.();\r\n    };\r\n\r\n    const handleCancel = () => {\r\n      handleCloseCalendar();\r\n      onCancel?.();\r\n    };\r\n\r\n    const handleInputChange = (newValue: string) => {\r\n      setInternalValue(newValue);\r\n\r\n      const parsedDate = parseDate(newValue);\r\n      if (parsedDate) {\r\n        setCurrentYearMonth({\r\n          year: parsedDate.getFullYear(),\r\n          month: parsedDate.getMonth() + 1,\r\n        });\r\n      }\r\n    };\r\n\r\n    const handleStartDateChange = (newValue: string) => {\r\n      setInternalStartDate(newValue);\r\n\r\n      const parsedDate = parseDate(newValue);\r\n      if (parsedDate) {\r\n        setCurrentYearMonth({\r\n          year: parsedDate.getFullYear(),\r\n          month: parsedDate.getMonth() + 1,\r\n        });\r\n      }\r\n    };\r\n\r\n    const handleEndDateChange = (newValue: string) => {\r\n      setInternalEndDate(newValue);\r\n\r\n      const parsedDate = parseDate(newValue);\r\n      if (parsedDate) {\r\n        setCurrentYearMonth({\r\n          year: parsedDate.getFullYear(),\r\n          month: parsedDate.getMonth() + 1,\r\n        });\r\n      }\r\n    };\r\n\r\n    const isDateInPeriod = (\r\n      date: CalendarDate\r\n    ): { isPeriod: boolean; isStart: boolean; isEnd: boolean } => {\r\n      if (mode === 'single') {\r\n        const isSelected =\r\n          internalValue ===\r\n          `${date.year}.${date.month.toString().padStart(2, '0')}.${date.day.toString().padStart(2, '0')}`;\r\n        return { isPeriod: isSelected, isStart: isSelected, isEnd: isSelected };\r\n      } else {\r\n        const dateString = `${date.year}.${date.month.toString().padStart(2, '0')}.${date.day.toString().padStart(2, '0')}`;\r\n        const isStart = internalStartDate === dateString;\r\n        const isEnd = internalEndDate === dateString;\r\n\r\n        if (!internalEndDate) {\r\n          return { isPeriod: isStart, isStart, isEnd: isEnd };\r\n        }\r\n\r\n        const currentDate = new Date(date.year, date.month - 1, date.day);\r\n        const startParts = internalStartDate.split('.').map(Number);\r\n        const endParts = internalEndDate.split('.').map(Number);\r\n        const startDate = new Date(startParts[0], startParts[1] - 1, startParts[2]);\r\n        const endDate = new Date(endParts[0], endParts[1] - 1, endParts[2]);\r\n\r\n        const isPeriod = currentDate >= startDate && currentDate <= endDate;\r\n\r\n        return { isPeriod: isPeriod, isStart, isEnd };\r\n      }\r\n    };\r\n\r\n    useEffect(() => {\r\n      const handleClickOutside = (event: MouseEvent) => {\r\n        if (!internalIsOpen) return;\r\n\r\n        const target = event.target as Element;\r\n        if (!target.closest('.calendar-conts')) {\r\n          handleCloseCalendar();\r\n        }\r\n      };\r\n      const handleKeyDown = (event: KeyboardEvent) => {\r\n        if (event.key === 'Escape' && internalIsOpen) {\r\n          handleCloseCalendar();\r\n        }\r\n      };\r\n\r\n      document.addEventListener('keydown', handleKeyDown);\r\n      document.addEventListener('click', handleClickOutside);\r\n\r\n      return () => {\r\n        document.removeEventListener('keydown', handleKeyDown);\r\n        document.removeEventListener('click', handleClickOutside);\r\n      };\r\n    }, [internalIsOpen]);\r\n\r\n    return (\r\n      <div className=\"form-group\" ref={ref} {...rest}>\r\n        <div className=\"form-tit\">\r\n          <label htmlFor={inputId}>{label}</label>\r\n        </div>\r\n        <div className=\"form-conts calendar-conts\">\r\n          <div className=\"calendar-input\">\r\n            {mode === 'single' ? (\r\n              <input\r\n                type=\"text\"\r\n                className=\"krds-input datepicker cal\"\r\n                placeholder={placeholder}\r\n                id={inputId}\r\n                value={internalValue}\r\n                onChange={e => handleInputChange(e.target.value)}\r\n                disabled={disabled}\r\n                readOnly={readOnly}\r\n              />\r\n            ) : (\r\n              <ul className=\"input-group range set\">\r\n                <li>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"krds-input datepicker\"\r\n                    placeholder={startPlaceholder}\r\n                    title={startTitle}\r\n                    value={internalStartDate}\r\n                    onChange={e => handleStartDateChange(e.target.value)}\r\n                    disabled={disabled}\r\n                    readOnly={readOnly}\r\n                  />\r\n                </li>\r\n                <li className=\"mark\">-</li>\r\n                <li>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"krds-input datepicker\"\r\n                    placeholder={endPlaceholder}\r\n                    title={endTitle}\r\n                    value={internalEndDate}\r\n                    onChange={e => handleEndDateChange(e.target.value)}\r\n                    disabled={disabled}\r\n                    readOnly={readOnly}\r\n                  />\r\n                </li>\r\n              </ul>\r\n            )}\r\n            <button\r\n              type=\"button\"\r\n              className=\"krds-btn medium icon form-btn-datepicker\"\r\n              onClick={handleOpenCalendar}\r\n              aria-expanded={internalIsOpen}\r\n              disabled={disabled}\r\n            >\r\n              <span className=\"sr-only\">{openButtonLabel}</span>\r\n              <i className=\"svg-icon ico-calendar\"></i>\r\n            </button>\r\n          </div>\r\n\r\n          <div className={classNames('krds-calendar-area', { active: internalIsOpen })}>\r\n            <div\r\n              className={classNames('calendar-wrap', position, { single: mode === 'single' })}\r\n              aria-label=\"달력\"\r\n              tabIndex={0}\r\n              ref={calendarWrapRef}\r\n            >\r\n              <div className=\"calendar-head\">\r\n                <button type=\"button\" className=\"btn-cal-move prev\" onClick={handlePrevMonth}>\r\n                  <span className=\"sr-only\">{prevButtonLabel}</span>\r\n                </button>\r\n\r\n                <div className=\"calendar-switch-wrap\">\r\n                  <div className=\"calendar-drop-down\">\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn-cal-switch year\"\r\n                      aria-label={yearSelectLabel}\r\n                      onClick={() => {\r\n                        setYearDropdownOpen(!yearDropdownOpen);\r\n                        setMonthDropdownOpen(false);\r\n                      }}\r\n                      aria-expanded={yearDropdownOpen}\r\n                    >\r\n                      {currentYearMonth.year}년\r\n                    </button>\r\n                    <div\r\n                      className={classNames('calendar-select calendar-year-wrap', {\r\n                        active: yearDropdownOpen,\r\n                      })}\r\n                    >\r\n                      <ul className=\"sel year\" role=\"listbox\">\r\n                        {availableYears.map(yearItem => (\r\n                          <li key={yearItem.value} role=\"none\">\r\n                            <button\r\n                              type=\"button\"\r\n                              role=\"option\"\r\n                              aria-selected={yearItem.value === currentYearMonth.year}\r\n                              className={classNames({\r\n                                active: yearItem.value === currentYearMonth.year,\r\n                              })}\r\n                              onClick={() => handleYearSelect(yearItem)}\r\n                              disabled={yearItem.isDisabled}\r\n                            >\r\n                              {yearItem.label}\r\n                            </button>\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"calendar-drop-down\">\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn-cal-switch month\"\r\n                      aria-label={monthSelectLabel}\r\n                      onClick={() => {\r\n                        setMonthDropdownOpen(!monthDropdownOpen);\r\n                        setYearDropdownOpen(false);\r\n                      }}\r\n                      aria-expanded={monthDropdownOpen}\r\n                    >\r\n                      {currentYearMonth.month.toString().padStart(2, '0')}월\r\n                    </button>\r\n                    <div\r\n                      className={classNames('calendar-select calendar-mon-wrap', {\r\n                        active: monthDropdownOpen,\r\n                      })}\r\n                    >\r\n                      <ul className=\"sel month\" role=\"listbox\">\r\n                        {availableMonths.map(monthItem => (\r\n                          <li key={monthItem.value} role=\"none\">\r\n                            <button\r\n                              type=\"button\"\r\n                              role=\"option\"\r\n                              aria-selected={monthItem.value === currentYearMonth.month}\r\n                              className={classNames({\r\n                                active: monthItem.value === currentYearMonth.month,\r\n                              })}\r\n                              onClick={() => handleMonthSelect(monthItem)}\r\n                              disabled={monthItem.isDisabled}\r\n                            >\r\n                              {monthItem.label}\r\n                            </button>\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <button type=\"button\" className=\"btn-cal-move next\" onClick={handleNextMonth}>\r\n                  <span className=\"sr-only\">{nextButtonLabel}</span>\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"calendar-body\">\r\n                <div className=\"calendar-table-wrap\">\r\n                  <table className=\"calendar-tbl\">\r\n                    <caption>\r\n                      {currentYearMonth.year}년 {currentYearMonth.month}월\r\n                    </caption>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>일</th>\r\n                        <th>월</th>\r\n                        <th>화</th>\r\n                        <th>수</th>\r\n                        <th>목</th>\r\n                        <th>금</th>\r\n                        <th>토</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {Array.from({ length: 6 }, (_, weekIndex) => (\r\n                        <tr key={weekIndex}>\r\n                          {Array.from({ length: 7 }, (_, dayIndex) => {\r\n                            const dateIndex = weekIndex * 7 + dayIndex;\r\n                            const date = calendarDates[dateIndex];\r\n\r\n                            if (!date) return <td key={dayIndex}></td>;\r\n\r\n                            const { isPeriod, isStart, isEnd } = isDateInPeriod(date);\r\n\r\n                            const cellClasses = classNames({\r\n                              old: date.isOld,\r\n                              new: date.isNew,\r\n                              today: date.isToday,\r\n                              disabled: date.isDisabled,\r\n                              'day-off': date.isDayOff,\r\n                              'day-event': date.hasEvent,\r\n                              period: isPeriod,\r\n                              start: isStart,\r\n                              end: isEnd,\r\n                            });\r\n\r\n                            return (\r\n                              <td\r\n                                key={dayIndex}\r\n                                className={cellClasses}\r\n                                data-date={`${date.year}.${date.month.toString().padStart(2, '0')}.${date.day.toString().padStart(2, '0')}`}\r\n                              >\r\n                                <button\r\n                                  type=\"button\"\r\n                                  className=\"btn-set-date\"\r\n                                  onClick={() => handleDateClick(date)}\r\n                                  disabled={date.isDisabled || date.isOld || date.isNew}\r\n                                  aria-pressed={isPeriod}\r\n                                  aria-label={\r\n                                    date.hasEvent\r\n                                      ? `${date.day} 일정있음`\r\n                                      : date.isToday\r\n                                        ? `${date.day} 오늘`\r\n                                        : undefined\r\n                                  }\r\n                                >\r\n                                  <span>{date.day}</span>\r\n                                </button>\r\n                              </td>\r\n                            );\r\n                          })}\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"calendar-footer\">\r\n                <div className=\"calendar-btn-wrap\">\r\n                  <button type=\"button\" className=\"krds-btn small text\" onClick={handleTodayClick}>\r\n                    {todayButtonText}\r\n                  </button>\r\n                  <button type=\"button\" className=\"krds-btn small tertiary\" onClick={handleCancel}>\r\n                    {cancelButtonText}\r\n                  </button>\r\n                  <button type=\"button\" className=\"krds-btn small primary\" onClick={handleConfirm}>\r\n                    {confirmButtonText}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nCalendar.displayName = 'Calendar';\r\n","import { useUncontrolled } from '@/hooks/use-uncontrolled';\r\nimport { classNames } from '@/utils';\r\nimport React, { forwardRef, useState } from 'react';\r\nimport { CheckboxChipProps, CheckboxGroupProps, CheckboxProps } from './Checkbox.types';\r\n\r\n/**\r\n * KRDS Checkbox Component\r\n * @param size 체크박스 크기 ('medium' | 'large')\r\n * @param checked 체크박스 선택 상태\r\n * @param disabled 체크박스 비활성화 상태\r\n * @param label 체크박스 레이블 텍스트\r\n * @param description 추가 설명 텍스트\r\n * @param className 사용자 정의 클래스명\r\n */\r\nconst Checkbox = forwardRef<HTMLInputElement, CheckboxProps>(\r\n  (\r\n    {\r\n      id,\r\n      name,\r\n      defaultValue,\r\n      checked,\r\n      disabled = false,\r\n      size = 'medium',\r\n      children,\r\n      description,\r\n      onChange,\r\n      className,\r\n      label,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const [_checked, setChecked] = useUncontrolled<boolean>({\r\n      value: checked,\r\n      defaultValue,\r\n      onChange: (value: boolean) => {\r\n        if (onChange) {\r\n          const syntheticEvent = {\r\n            target: { checked: value },\r\n          } as React.ChangeEvent<HTMLInputElement>;\r\n          onChange(syntheticEvent);\r\n        }\r\n      },\r\n    });\r\n\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      setChecked(e.target.checked);\r\n    };\r\n\r\n    const checkboxClasses = classNames('krds-form-check', size, className);\r\n\r\n    return (\r\n      <div className={checkboxClasses}>\r\n        <input\r\n          type=\"checkbox\"\r\n          id={id}\r\n          name={name}\r\n          checked={_checked}\r\n          disabled={disabled}\r\n          onChange={handleChange}\r\n          ref={ref}\r\n          aria-label={label || '레이블'}\r\n          {...props}\r\n        />\r\n        <label htmlFor={id}>{children || label}</label>\r\n        {description && (\r\n          <div className=\"krds-form-check-cnt\">\r\n            <p className=\"krds-form-check-p\">{description}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nCheckbox.displayName = 'Checkbox';\r\n\r\n/**\r\n * KRDS CheckboxChip Component\r\n * @param size 체크박스 칩 크기 ('small' | 'medium' | 'large')\r\n * @param checked 체크박스 선택 상태\r\n * @param disabled 체크박스 비활성화 상태\r\n * @param className 사용자 정의 클래스명\r\n */\r\nconst CheckboxChip = forwardRef<HTMLInputElement, CheckboxChipProps>(\r\n  (\r\n    {\r\n      id,\r\n      name,\r\n      defaultValue,\r\n      checked,\r\n      disabled = false,\r\n      size = 'medium',\r\n      children,\r\n      onChange,\r\n      className,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const [isFocused, setIsFocused] = useState(false);\r\n\r\n    const checkboxClasses = classNames('krds-form-chip', size, isFocused && 'focus', className);\r\n\r\n    const [_checked, setChecked] = useUncontrolled<boolean>({\r\n      value: checked,\r\n      defaultValue: defaultValue as unknown as boolean,\r\n      onChange: (value: boolean) => {\r\n        if (onChange) {\r\n          const syntheticEvent = {\r\n            target: { checked: value },\r\n          } as React.ChangeEvent<HTMLInputElement>;\r\n          onChange(syntheticEvent);\r\n        }\r\n      },\r\n    });\r\n\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      setChecked(e.target.checked);\r\n    };\r\n\r\n    const handleFocus = () => {\r\n      setIsFocused(true);\r\n    };\r\n\r\n    const handleBlur = () => {\r\n      setIsFocused(false);\r\n    };\r\n\r\n    return (\r\n      <div className={checkboxClasses}>\r\n        <input\r\n          type=\"checkbox\"\r\n          className=\"checkbox\"\r\n          id={id}\r\n          name={name}\r\n          checked={_checked}\r\n          disabled={disabled}\r\n          onChange={handleChange}\r\n          onFocus={handleFocus}\r\n          onBlur={handleBlur}\r\n          ref={ref}\r\n          {...props}\r\n        />\r\n        <label className=\"krds-form-chip-outline\" htmlFor={id}>\r\n          {children}\r\n        </label>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nCheckboxChip.displayName = 'CheckboxChip';\r\n\r\n/**\r\n * KRDS CheckboxGroup Component\r\n * @param column 레이아웃 방향 (true: 세로, false: 가로)\r\n * @param className 사용자 정의 클래스명\r\n */\r\nconst CheckboxGroup: React.FC<CheckboxGroupProps> = ({ children, column = false, className }) => {\r\n  return (\r\n    <div className={classNames('krds-check-area', column && 'chk-column', className)}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nCheckboxGroup.displayName = 'CheckboxGroup';\r\n\r\nexport { Checkbox, CheckboxChip, CheckboxGroup };\r\n","import { classNames } from '@/utils';\r\nimport { forwardRef } from 'react';\r\nimport Button from '../Button';\r\nimport { CoachMarkProps } from './CoachMark.types';\r\n\r\n/**\r\n * KRDS CoachMark Component\r\n * @param title 코치 마크 제목\r\n * @param description 코치 마크 설명\r\n * @param currentStep 현재 단계\r\n * @param totalSteps 총 단계 수\r\n * @param onSkip 그만보기 버튼 클릭 핸들러\r\n * @param onPrevious 이전으로 버튼 클릭 핸들러\r\n * @param onNext 다음으로 버튼 클릭 핸들러\r\n * @param children 코치 마크 내용\r\n * @param isVisible 코치 마크 표시 여부\r\n */\r\nconst CoachMark = forwardRef<HTMLDivElement, CoachMarkProps>(\r\n  (\r\n    {\r\n      title = '1단계 : 코치 마크',\r\n      description = '1단계 코치 마크 내용입니다.',\r\n      currentStep = 1,\r\n      totalSteps = 4,\r\n      onSkip,\r\n      onPrevious,\r\n      onNext,\r\n      children,\r\n      isVisible = true,\r\n      className = '',\r\n      ...restProps\r\n    },\r\n    ref\r\n  ) => {\r\n    if (!isVisible) {\r\n      return null;\r\n    }\r\n\r\n    const handleSkip = () => {\r\n      onSkip?.();\r\n    };\r\n\r\n    const handlePrevious = () => {\r\n      onPrevious?.();\r\n    };\r\n\r\n    const handleNext = () => {\r\n      onNext?.();\r\n    };\r\n\r\n    const showPreviousButton = currentStep > 1;\r\n\r\n    return (\r\n      <div\r\n        ref={ref}\r\n        className={classNames('txt-box bg-white krds-coach-mark', className)}\r\n        {...restProps}\r\n      >\r\n        <div className=\"coach-balloon\">\r\n          <h5 className=\"sr-only\">따라하기 가이드</h5>\r\n          <h6 className=\"coach-tit\">{title}</h6>\r\n          <p className=\"desc\">{description}</p>\r\n          <div className=\"coach-controls\">\r\n            <div className=\"num\">\r\n              <span className=\"sr-only\">현재 단계</span>\r\n              <strong>{currentStep}</strong>\r\n              <span className=\"sr-only\">총 단계</span>\r\n              <span>{totalSteps}</span>\r\n            </div>\r\n            <div className=\"btn-wrap\">\r\n              <Button variant=\"text\" size=\"small\" onClick={handleSkip}>\r\n                그만보기\r\n              </Button>\r\n              {showPreviousButton && (\r\n                <Button variant=\"text\" size=\"small\" onClick={handlePrevious}>\r\n                  이전으로\r\n                </Button>\r\n              )}\r\n              <Button variant=\"tertiary\" size=\"small\" onClick={handleNext}>\r\n                다음으로\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div>{children}</div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nCoachMark.displayName = 'CoachMark';\r\n\r\nexport default CoachMark;\r\n","import { classNames } from '@/utils';\r\nimport { useUncontrolled } from '@/hooks/use-uncontrolled';\r\nimport { forwardRef, useEffect, useRef } from 'react';\r\n\r\nimport { ContextualHelpProps } from './ContextualHelp.types';\r\nimport Button from '../Button';\r\n\r\n/**\r\n * KRDS ContextualHelp Component\r\n * @param label 도움말 라벨 텍스트\r\n * @param title 팝오버 제목\r\n * @param children 팝오버 내용\r\n * @param position 팝오버 위치 ('top' | 'bottom')\r\n * @param alignment 팝오버 정렬 ('left' | 'center' | 'right')\r\n * @param open 팝오버 열림/닫힘 상태\r\n * @param defaultOpen 기본 팝오버 열림/닫힘 상태\r\n * @param onOpenChange 팝오버 상태 변경 핸들러\r\n * @param className 사용자 정의 클래스명\r\n */\r\nexport const ContextualHelp = forwardRef<HTMLDivElement, ContextualHelpProps>(\r\n  (\r\n    {\r\n      label,\r\n      title,\r\n      children,\r\n      position = 'top',\r\n      alignment = 'left',\r\n      open,\r\n      defaultOpen = false,\r\n      onOpenChange,\r\n      className,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n    const popoverRef = useRef<HTMLDivElement>(null);\r\n    const buttonRef = useRef<HTMLButtonElement>(null);\r\n    const contentsRef = useRef<HTMLDivElement>(null);\r\n\r\n    const [isOpen, setIsOpen] = useUncontrolled({\r\n      value: open,\r\n      defaultValue: defaultOpen,\r\n      onChange: onOpenChange,\r\n    });\r\n\r\n    const containerClasses = classNames('krds-contextual-help', position, alignment, className);\r\n\r\n    const handleToggle = () => {\r\n      setIsOpen(!isOpen);\r\n    };\r\n\r\n    const handleClose = () => {\r\n      setIsOpen(false);\r\n      buttonRef.current?.focus();\r\n    };\r\n\r\n    const adjustPopoverPosition = () => {\r\n      if (!isOpen || !popoverRef.current || !containerRef.current) return;\r\n\r\n      const isMobile = window.innerWidth <= 768;\r\n      const tooltipAction = containerRef.current.querySelector('.tooltip-action') as HTMLElement;\r\n\r\n      if (isMobile && tooltipAction) {\r\n        const rootStyles = getComputedStyle(document.querySelector(':root')!);\r\n        const contentsPaddingX = parseInt(\r\n          rootStyles.getPropertyValue('--krds-contents-padding-x')?.replace('px', '') || '20'\r\n        );\r\n        const tooltipActionRect = tooltipAction.getBoundingClientRect();\r\n        const offsetLeft = tooltipActionRect.left - contentsPaddingX;\r\n        const width = document.body.clientWidth - contentsPaddingX * 2;\r\n\r\n        popoverRef.current.style.left = `-${offsetLeft}px`;\r\n        popoverRef.current.style.width = `${width}px`;\r\n      } else {\r\n        popoverRef.current.style.left = '';\r\n        popoverRef.current.style.right = '';\r\n        popoverRef.current.style.width = '';\r\n      }\r\n    };\r\n\r\n    const focusFirstFocusableElement = (container: HTMLElement) => {\r\n      const focusableSelectors = [\r\n        'button:not([disabled])',\r\n        'input:not([disabled]):not([type=\"hidden\"])',\r\n        'select:not([disabled])',\r\n        'textarea:not([disabled])',\r\n        'a[href]:not([tabindex=\"-1\"])',\r\n        '[tabindex]:not([tabindex=\"-1\"]):not([disabled])',\r\n        '[contenteditable=\"true\"]',\r\n      ].join(', ');\r\n\r\n      const focusableElements = container.querySelectorAll(focusableSelectors);\r\n\r\n      const visibleFocusables = Array.from(focusableElements).filter((el: Element) => {\r\n        const htmlElement = el as HTMLElement;\r\n        return (\r\n          htmlElement.offsetParent !== null && getComputedStyle(htmlElement).visibility !== 'hidden'\r\n        );\r\n      });\r\n\r\n      if (visibleFocusables.length > 0) {\r\n        (visibleFocusables[0] as HTMLElement).focus();\r\n      } else {\r\n        const closeButton = popoverRef.current?.querySelector(\r\n          '.tooltip-close'\r\n        ) as HTMLButtonElement;\r\n        closeButton?.focus();\r\n      }\r\n    };\r\n\r\n    useEffect(() => {\r\n      const handleClickOutside = (event: MouseEvent) => {\r\n        if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\r\n          setIsOpen(false);\r\n        }\r\n      };\r\n\r\n      const handleKeyDown = (event: KeyboardEvent) => {\r\n        if (event.key === 'Escape' && isOpen) {\r\n          handleClose();\r\n        }\r\n      };\r\n\r\n      const handleResize = () => {\r\n        adjustPopoverPosition();\r\n      };\r\n\r\n      if (isOpen) {\r\n        adjustPopoverPosition();\r\n\r\n        requestAnimationFrame(() => {\r\n          if (contentsRef.current) {\r\n            focusFirstFocusableElement(contentsRef.current);\r\n          }\r\n        });\r\n\r\n        document.addEventListener('click', handleClickOutside);\r\n        document.addEventListener('keydown', handleKeyDown);\r\n        window.addEventListener('resize', handleResize);\r\n        return () => {\r\n          document.removeEventListener('keydown', handleKeyDown);\r\n          document.removeEventListener('click', handleClickOutside);\r\n          window.removeEventListener('resize', handleResize);\r\n        };\r\n      }\r\n    }, [isOpen]);\r\n\r\n    return (\r\n      <div ref={ref || containerRef} className={containerClasses} {...props}>\r\n        {label && <p className=\"tooltip-txt\">{label}</p>}\r\n        <div className=\"tooltip-action\">\r\n          <Button\r\n            ref={buttonRef}\r\n            variant=\"icon\"\r\n            size=\"medium\"\r\n            className=\"tooltip-btn\"\r\n            onClick={handleToggle}\r\n            aria-expanded={isOpen}\r\n          >\r\n            <span className=\"sr-only\">도움말</span>\r\n            <i className=\"svg-icon ico-tooltip\" />\r\n          </Button>\r\n          <div\r\n            ref={popoverRef}\r\n            className={classNames('tooltip-popover', isOpen && 'show')}\r\n            role=\"tooltip\"\r\n          >\r\n            <h4 className=\"tooltip-title\">{title}</h4>\r\n            <div ref={contentsRef} className=\"tooltip-contents\">\r\n              {children}\r\n            </div>\r\n            <Button\r\n              variant=\"icon\"\r\n              size=\"xsmall\"\r\n              className=\"tooltip-close\"\r\n              onClick={handleClose}\r\n              aria-label=\"닫기\"\r\n            >\r\n              <span className=\"sr-only\">닫기</span>\r\n              <i className=\"svg-icon ico-modal-close\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nContextualHelp.displayName = 'ContextualHelp';\r\n","import { classNames } from '@/utils';\r\nimport { forwardRef } from 'react';\r\nimport Button from '../Button/Button';\r\nimport { CriticalAlertItemProps, CriticalAlertsProps } from './CriticalAlert.types';\r\n\r\n/**\r\n * KRDS Critical Alert Component\r\n * @param alerts alert 목록\r\n * @param className custom class name\r\n */\r\nexport const CriticalAlerts = forwardRef<HTMLDivElement, CriticalAlertsProps>(\r\n  ({ alerts, className, ...props }, ref) => {\r\n    return (\r\n      <div ref={ref} className={classNames('main-urgent-wrap', className)} {...props}>\r\n        <ul className=\"krds-critical-alerts\">\r\n          {alerts.map((alert, index) => (\r\n            <CriticalAlertItem key={index} {...alert} />\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nCriticalAlerts.displayName = 'CriticalAlerts';\r\n\r\nconst CriticalAlertItem = ({\r\n  variant,\r\n  message,\r\n  href,\r\n  linkText = '자세히 보기',\r\n}: CriticalAlertItemProps) => {\r\n  const variantText = {\r\n    danger: '긴급',\r\n    ok: '안전',\r\n    info: '안내',\r\n  }[variant];\r\n\r\n  return (\r\n    <li>\r\n      <div className=\"critical-ban\">\r\n        <span className={classNames('critical-badge', variant)}>{variantText}</span>\r\n        <p className=\"critical-txt\">{message}</p>\r\n        {href && (\r\n          <Button as=\"a\" href={href} variant=\"link\" size=\"medium\" className=\"basic\">\r\n            <span className=\"m-hide\">{linkText}</span>\r\n            <i className=\"svg-icon ico-angle right\"></i>\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport const CriticalAlert = CriticalAlerts;\r\n","import { useUncontrolled } from '@/hooks/use-uncontrolled';\r\nimport { classNames } from '@/utils';\r\nimport { forwardRef, useId, useState, useRef, useEffect, useMemo } from 'react';\r\nimport { DateInputProps } from './DateInput.types';\r\nimport { CalendarDate } from '../Calendar/Calendar.types';\r\n\r\n/**\r\n * KRDS DateInput Component\r\n * @param value 제어 상태일 때 입력된 값\r\n * @param defaultValue 비제어 상태일 때의 초기 값\r\n * @param onChange 입력 값이 변경될 때 호출되는 콜백\r\n * @param label 레이블\r\n * @param hint 도움말 텍스트\r\n * @param error 에러 메시지\r\n * @param success 성공 메시지\r\n * @param information 정보 메시지\r\n * @param size 입력 필드 크기 ('small' | 'medium' | 'large')\r\n * @param isCalendarOpen 달력 열림 상태\r\n * @param calendarPosition 달력 위치 ('top' | 'bottom')\r\n * @param disabledDates 비활성화할 날짜 배열\r\n * @param eventDates 이벤트가 있는 날짜 배열\r\n * @param disabled disabled 상태\r\n * @param readOnly readOnly 상태\r\n */\r\nconst DateInput = forwardRef<HTMLInputElement, DateInputProps>(\r\n  (\r\n    {\r\n      value,\r\n      defaultValue,\r\n      onChange,\r\n      label,\r\n      hint,\r\n      error,\r\n      success,\r\n      information,\r\n      size = 'large',\r\n      isCalendarOpen,\r\n      defaultIsCalendarOpen = false,\r\n      onCalendarOpenChange,\r\n      calendarPosition = 'bottom',\r\n      disabledDates = [],\r\n      eventDates = [],\r\n      onYearChange,\r\n      onMonthChange,\r\n      onTodayClick,\r\n      onConfirm,\r\n      onCancel,\r\n      openButtonLabel = '달력 열기',\r\n      prevButtonLabel = '이전 달',\r\n      nextButtonLabel = '다음 달',\r\n      yearSelectLabel = '연도 선택',\r\n      monthSelectLabel = '월 선택',\r\n      todayButtonText = '오늘',\r\n      cancelButtonText = '취소',\r\n      confirmButtonText = '확인',\r\n      disabled = false,\r\n      readOnly = false,\r\n      className = '',\r\n      id,\r\n      placeholder = 'YYYY.MM.DD',\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const generatedId = useId();\r\n    const inputId = id || generatedId;\r\n\r\n    const [_value, setValue] = useUncontrolled<string>({\r\n      value,\r\n      defaultValue,\r\n      onChange,\r\n      finalValue: '',\r\n    });\r\n\r\n    const [internalIsOpen, setInternalIsOpen] = useUncontrolled({\r\n      value: isCalendarOpen,\r\n      defaultValue: defaultIsCalendarOpen,\r\n      finalValue: false,\r\n      onChange: onCalendarOpenChange,\r\n    });\r\n\r\n    const parseDate = (dateString: string): Date | null => {\r\n      if (!dateString) return null;\r\n      const parts = dateString.split('.');\r\n      if (parts.length !== 3) return null;\r\n\r\n      const year = parseInt(parts[0]);\r\n      const month = parseInt(parts[1]);\r\n      const day = parseInt(parts[2]);\r\n\r\n      if (isNaN(year) || isNaN(month) || isNaN(day)) return null;\r\n      if (month < 1 || month > 12) return null;\r\n      if (day < 1 || day > 31) return null;\r\n\r\n      return new Date(year, month - 1, day);\r\n    };\r\n\r\n    const formatDate = (date: Date): string => {\r\n      return `${date.getFullYear()}.${(date.getMonth() + 1).toString().padStart(2, '0')}.${date.getDate().toString().padStart(2, '0')}`;\r\n    };\r\n\r\n    const getCurrentYearMonth = (): { year: number; month: number } => {\r\n      const today = new Date();\r\n\r\n      if (_value) {\r\n        const selectedDate = parseDate(_value);\r\n        if (selectedDate) {\r\n          return {\r\n            year: selectedDate.getFullYear(),\r\n            month: selectedDate.getMonth() + 1,\r\n          };\r\n        }\r\n      }\r\n\r\n      return {\r\n        year: today.getFullYear(),\r\n        month: today.getMonth() + 1,\r\n      };\r\n    };\r\n\r\n    const [currentYearMonth, setCurrentYearMonth] = useState(getCurrentYearMonth);\r\n\r\n    useEffect(() => {\r\n      const newYearMonth = getCurrentYearMonth();\r\n      setCurrentYearMonth(newYearMonth);\r\n    }, [_value]);\r\n\r\n    const [yearDropdownOpen, setYearDropdownOpen] = useState(false);\r\n    const [monthDropdownOpen, setMonthDropdownOpen] = useState(false);\r\n\r\n    const calendarWrapRef = useRef<HTMLDivElement>(null);\r\n\r\n    const availableYears = useMemo(() => {\r\n      const currentYear = new Date().getFullYear();\r\n      return Array.from({ length: 101 }, (_, i) => {\r\n        const year = currentYear - 50 + i;\r\n        return {\r\n          value: year,\r\n          label: `${year}년`,\r\n          isActive: year === currentYearMonth.year,\r\n          isDisabled: false,\r\n        };\r\n      });\r\n    }, [currentYearMonth.year]);\r\n\r\n    const availableMonths = useMemo(() => {\r\n      return Array.from({ length: 12 }, (_, i) => {\r\n        const month = i + 1;\r\n        return {\r\n          value: month,\r\n          label: `${month.toString().padStart(2, '0')}월`,\r\n          isActive: month === currentYearMonth.month,\r\n          isDisabled: false,\r\n        };\r\n      });\r\n    }, [currentYearMonth.month]);\r\n\r\n    const calendarDates = useMemo((): CalendarDate[] => {\r\n      const { year, month } = currentYearMonth;\r\n      const today = new Date();\r\n      const firstDay = new Date(year, month - 1, 1);\r\n      const lastDay = new Date(year, month, 0);\r\n      const firstDayOfWeek = firstDay.getDay();\r\n      const daysInMonth = lastDay.getDate();\r\n\r\n      const dates: CalendarDate[] = [];\r\n\r\n      const prevMonth = month === 1 ? 12 : month - 1;\r\n      const prevYear = month === 1 ? year - 1 : year;\r\n      const prevMonthLastDay = new Date(prevYear, prevMonth, 0).getDate();\r\n\r\n      for (let i = firstDayOfWeek - 1; i >= 0; i--) {\r\n        const day = prevMonthLastDay - i;\r\n        const dateString = `${prevYear}.${prevMonth.toString().padStart(2, '0')}.${day.toString().padStart(2, '0')}`;\r\n\r\n        dates.push({\r\n          year: prevYear,\r\n          month: prevMonth,\r\n          day,\r\n          isOld: true,\r\n          isDayOff: (firstDayOfWeek - 1 - i) % 7 === 0, // Sunday\r\n          isDisabled: disabledDates.includes(dateString),\r\n          hasEvent: eventDates.includes(dateString),\r\n        });\r\n      }\r\n\r\n      for (let day = 1; day <= daysInMonth; day++) {\r\n        const date = new Date(year, month - 1, day);\r\n        const dayOfWeek = date.getDay();\r\n        const dateString = `${year}.${month.toString().padStart(2, '0')}.${day.toString().padStart(2, '0')}`;\r\n        const isToday =\r\n          year === today.getFullYear() && month === today.getMonth() + 1 && day === today.getDate();\r\n\r\n        dates.push({\r\n          year,\r\n          month,\r\n          day,\r\n          isToday,\r\n          isDayOff: dayOfWeek === 0, // Sunday\r\n          isDisabled: disabledDates.includes(dateString),\r\n          hasEvent: eventDates.includes(dateString),\r\n        });\r\n      }\r\n\r\n      const remainingCells = 42 - dates.length; // 6 weeks * 7 days\r\n      const nextMonth = month === 12 ? 1 : month + 1;\r\n      const nextYear = month === 12 ? year + 1 : year;\r\n\r\n      for (let day = 1; day <= remainingCells; day++) {\r\n        const dateString = `${nextYear}.${nextMonth.toString().padStart(2, '0')}.${day.toString().padStart(2, '0')}`;\r\n\r\n        dates.push({\r\n          year: nextYear,\r\n          month: nextMonth,\r\n          day,\r\n          isNew: true,\r\n          isDayOff: dates.length % 7 === 0, // Sunday\r\n          isDisabled: disabledDates.includes(dateString),\r\n          hasEvent: eventDates.includes(dateString),\r\n        });\r\n      }\r\n\r\n      return dates;\r\n    }, [currentYearMonth, disabledDates, eventDates]);\r\n\r\n    const handleOpenCalendar = () => {\r\n      if (disabled || readOnly) return;\r\n      setInternalIsOpen(true);\r\n\r\n      setTimeout(() => {\r\n        calendarWrapRef.current?.focus();\r\n      }, 50);\r\n    };\r\n\r\n    const handleCloseCalendar = () => {\r\n      setInternalIsOpen(false);\r\n      setYearDropdownOpen(false);\r\n      setMonthDropdownOpen(false);\r\n    };\r\n\r\n    const handlePrevMonth = () => {\r\n      const newMonth = currentYearMonth.month === 1 ? 12 : currentYearMonth.month - 1;\r\n      const newYear =\r\n        currentYearMonth.month === 1 ? currentYearMonth.year - 1 : currentYearMonth.year;\r\n\r\n      setCurrentYearMonth({ year: newYear, month: newMonth });\r\n      onYearChange?.(newYear);\r\n      onMonthChange?.(newMonth);\r\n    };\r\n\r\n    const handleNextMonth = () => {\r\n      const newMonth = currentYearMonth.month === 12 ? 1 : currentYearMonth.month + 1;\r\n      const newYear =\r\n        currentYearMonth.month === 12 ? currentYearMonth.year + 1 : currentYearMonth.year;\r\n\r\n      setCurrentYearMonth({ year: newYear, month: newMonth });\r\n      onYearChange?.(newYear);\r\n      onMonthChange?.(newMonth);\r\n    };\r\n\r\n    const handleYearSelect = (yearItem: { value: number; label: string; isDisabled?: boolean }) => {\r\n      if (yearItem.isDisabled) return;\r\n\r\n      setCurrentYearMonth(prev => ({ ...prev, year: yearItem.value }));\r\n      setYearDropdownOpen(false);\r\n      onYearChange?.(yearItem.value);\r\n    };\r\n\r\n    const handleMonthSelect = (monthItem: {\r\n      value: number;\r\n      label: string;\r\n      isDisabled?: boolean;\r\n    }) => {\r\n      if (monthItem.isDisabled) return;\r\n\r\n      setCurrentYearMonth(prev => ({ ...prev, month: monthItem.value }));\r\n      setMonthDropdownOpen(false);\r\n      onMonthChange?.(monthItem.value);\r\n    };\r\n\r\n    const handleDateClick = (date: CalendarDate) => {\r\n      if (date.isDisabled || date.isOld || date.isNew) return;\r\n\r\n      const dateString = `${date.year}.${date.month.toString().padStart(2, '0')}.${date.day.toString().padStart(2, '0')}`;\r\n      setValue(dateString);\r\n    };\r\n\r\n    const handleTodayClick = () => {\r\n      const today = new Date();\r\n      const todayString = formatDate(today);\r\n\r\n      setValue(todayString);\r\n      setCurrentYearMonth({\r\n        year: today.getFullYear(),\r\n        month: today.getMonth() + 1,\r\n      });\r\n\r\n      onTodayClick?.();\r\n    };\r\n\r\n    const handleConfirm = () => {\r\n      handleCloseCalendar();\r\n      onConfirm?.();\r\n    };\r\n\r\n    const handleCancel = () => {\r\n      handleCloseCalendar();\r\n      onCancel?.();\r\n    };\r\n\r\n    const handleInputChange = (newValue: string) => {\r\n      setValue(newValue);\r\n\r\n      const parsedDate = parseDate(newValue);\r\n      if (parsedDate) {\r\n        setCurrentYearMonth({\r\n          year: parsedDate.getFullYear(),\r\n          month: parsedDate.getMonth() + 1,\r\n        });\r\n      }\r\n    };\r\n\r\n    const isDateSelected = (date: CalendarDate): boolean => {\r\n      const dateString = `${date.year}.${date.month.toString().padStart(2, '0')}.${date.day.toString().padStart(2, '0')}`;\r\n      return _value === dateString;\r\n    };\r\n\r\n    useEffect(() => {\r\n      const handleClickOutside = (event: MouseEvent) => {\r\n        if (!internalIsOpen) return;\r\n\r\n        const target = event.target as Element;\r\n        if (!target.closest('.calendar-conts')) {\r\n          handleCloseCalendar();\r\n        }\r\n      };\r\n\r\n      const handleKeyDown = (event: KeyboardEvent) => {\r\n        if (event.key === 'Escape' && internalIsOpen) {\r\n          handleCloseCalendar();\r\n        }\r\n      };\r\n\r\n      document.addEventListener('keydown', handleKeyDown);\r\n      document.addEventListener('click', handleClickOutside);\r\n      return () => {\r\n        document.removeEventListener('keydown', handleKeyDown);\r\n        document.removeEventListener('click', handleClickOutside);\r\n      };\r\n    }, [internalIsOpen]);\r\n\r\n    const isError = Boolean(error);\r\n    const isSuccess = Boolean(success) && !isError;\r\n    const isInformation = Boolean(information) && !isError && !isSuccess;\r\n\r\n    const containerClasses = classNames(\r\n      'form-group',\r\n      isError && 'is-error',\r\n      isSuccess && 'is-success',\r\n      isInformation && 'is-information',\r\n      className\r\n    );\r\n\r\n    const renderHintMessage = () => {\r\n      if (isError) {\r\n        return <p className=\"form-hint-invalid\">{error}</p>;\r\n      }\r\n      if (isSuccess) {\r\n        return <p className=\"form-hint-success\">{success}</p>;\r\n      }\r\n      if (isInformation) {\r\n        return <p className=\"form-hint-information\">{information}</p>;\r\n      }\r\n      if (hint) {\r\n        return <p className=\"form-hint\">{hint}</p>;\r\n      }\r\n      return null;\r\n    };\r\n\r\n    return (\r\n      <div className={containerClasses}>\r\n        {label && (\r\n          <div className=\"form-tit\">\r\n            <label htmlFor={inputId}>{label}</label>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"form-conts\">\r\n          <div className=\"form-conts calendar-conts\">\r\n            <div className=\"calendar-input\">\r\n              <input\r\n                ref={ref}\r\n                type=\"text\"\r\n                className={classNames('krds-input datepicker cal', size)}\r\n                placeholder={placeholder}\r\n                id={inputId}\r\n                value={_value}\r\n                onChange={e => handleInputChange(e.target.value)}\r\n                disabled={disabled}\r\n                readOnly={readOnly}\r\n                {...props}\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                className=\"krds-btn medium icon form-btn-datepicker\"\r\n                onClick={handleOpenCalendar}\r\n                aria-expanded={internalIsOpen}\r\n                disabled={disabled}\r\n              >\r\n                <span className=\"sr-only\">{openButtonLabel}</span>\r\n                <i className=\"svg-icon ico-calendar\"></i>\r\n              </button>\r\n            </div>\r\n\r\n            <div className={classNames('krds-calendar-area', { active: internalIsOpen })}>\r\n              <div\r\n                className={classNames('calendar-wrap', calendarPosition)}\r\n                aria-label=\"달력\"\r\n                tabIndex={0}\r\n                ref={calendarWrapRef}\r\n              >\r\n                <div className=\"calendar-head\">\r\n                  <button type=\"button\" className=\"btn-cal-move prev\" onClick={handlePrevMonth}>\r\n                    <span className=\"sr-only\">{prevButtonLabel}</span>\r\n                  </button>\r\n\r\n                  <div className=\"calendar-switch-wrap\">\r\n                    <div className=\"calendar-drop-down\">\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"btn-cal-switch year\"\r\n                        aria-label={yearSelectLabel}\r\n                        onClick={() => {\r\n                          setYearDropdownOpen(!yearDropdownOpen);\r\n                          setMonthDropdownOpen(false);\r\n                        }}\r\n                        aria-expanded={yearDropdownOpen}\r\n                      >\r\n                        {currentYearMonth.year}년\r\n                      </button>\r\n                      <div\r\n                        className={classNames('calendar-select calendar-year-wrap', {\r\n                          active: yearDropdownOpen,\r\n                        })}\r\n                      >\r\n                        <ul className=\"sel year\" role=\"listbox\">\r\n                          {availableYears.map(yearItem => (\r\n                            <li key={yearItem.value} role=\"none\">\r\n                              <button\r\n                                type=\"button\"\r\n                                role=\"option\"\r\n                                aria-selected={yearItem.value === currentYearMonth.year}\r\n                                className={classNames({\r\n                                  active: yearItem.value === currentYearMonth.year,\r\n                                })}\r\n                                onClick={() => handleYearSelect(yearItem)}\r\n                                disabled={yearItem.isDisabled}\r\n                              >\r\n                                {yearItem.label}\r\n                              </button>\r\n                            </li>\r\n                          ))}\r\n                        </ul>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"calendar-drop-down\">\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"btn-cal-switch month\"\r\n                        aria-label={monthSelectLabel}\r\n                        onClick={() => {\r\n                          setMonthDropdownOpen(!monthDropdownOpen);\r\n                          setYearDropdownOpen(false);\r\n                        }}\r\n                        aria-expanded={monthDropdownOpen}\r\n                      >\r\n                        {currentYearMonth.month.toString().padStart(2, '0')}월\r\n                      </button>\r\n                      <div\r\n                        className={classNames('calendar-select calendar-mon-wrap', {\r\n                          active: monthDropdownOpen,\r\n                        })}\r\n                      >\r\n                        <ul className=\"sel month\" role=\"listbox\">\r\n                          {availableMonths.map(monthItem => (\r\n                            <li key={monthItem.value} role=\"none\">\r\n                              <button\r\n                                type=\"button\"\r\n                                role=\"option\"\r\n                                aria-selected={monthItem.value === currentYearMonth.month}\r\n                                className={classNames({\r\n                                  active: monthItem.value === currentYearMonth.month,\r\n                                })}\r\n                                onClick={() => handleMonthSelect(monthItem)}\r\n                                disabled={monthItem.isDisabled}\r\n                              >\r\n                                {monthItem.label}\r\n                              </button>\r\n                            </li>\r\n                          ))}\r\n                        </ul>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <button type=\"button\" className=\"btn-cal-move next\" onClick={handleNextMonth}>\r\n                    <span className=\"sr-only\">{nextButtonLabel}</span>\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"calendar-body\">\r\n                  <div className=\"calendar-table-wrap\">\r\n                    <table className=\"calendar-tbl\">\r\n                      <caption>\r\n                        {currentYearMonth.year}년 {currentYearMonth.month}월\r\n                      </caption>\r\n                      <thead>\r\n                        <tr>\r\n                          <th>일</th>\r\n                          <th>월</th>\r\n                          <th>화</th>\r\n                          <th>수</th>\r\n                          <th>목</th>\r\n                          <th>금</th>\r\n                          <th>토</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {Array.from({ length: 6 }, (_, weekIndex) => (\r\n                          <tr key={weekIndex}>\r\n                            {Array.from({ length: 7 }, (_, dayIndex) => {\r\n                              const dateIndex = weekIndex * 7 + dayIndex;\r\n                              const date = calendarDates[dateIndex];\r\n\r\n                              if (!date) return <td key={dayIndex}></td>;\r\n\r\n                              const isSelected = isDateSelected(date);\r\n\r\n                              const cellClasses = classNames({\r\n                                old: date.isOld,\r\n                                new: date.isNew,\r\n                                today: date.isToday,\r\n                                disabled: date.isDisabled,\r\n                                'day-off': date.isDayOff,\r\n                                'day-event': date.hasEvent,\r\n                                period: isSelected,\r\n                                start: isSelected,\r\n                                end: isSelected,\r\n                              });\r\n\r\n                              return (\r\n                                <td\r\n                                  key={dayIndex}\r\n                                  className={cellClasses}\r\n                                  data-date={`${date.year}.${date.month.toString().padStart(2, '0')}.${date.day.toString().padStart(2, '0')}`}\r\n                                >\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    className=\"btn-set-date\"\r\n                                    onClick={() => handleDateClick(date)}\r\n                                    disabled={date.isDisabled || date.isOld || date.isNew}\r\n                                    aria-pressed={isSelected}\r\n                                    aria-label={\r\n                                      date.hasEvent\r\n                                        ? `${date.day} 일정있음`\r\n                                        : date.isToday\r\n                                          ? `${date.day} 오늘`\r\n                                          : undefined\r\n                                    }\r\n                                  >\r\n                                    <span>{date.day}</span>\r\n                                  </button>\r\n                                </td>\r\n                              );\r\n                            })}\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"calendar-footer\">\r\n                  <div className=\"calendar-btn-wrap\">\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"krds-btn small text\"\r\n                      onClick={handleTodayClick}\r\n                    >\r\n                      {todayButtonText}\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"krds-btn small tertiary\"\r\n                      onClick={handleCancel}\r\n                    >\r\n                      {cancelButtonText}\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"krds-btn small primary\"\r\n                      onClick={handleConfirm}\r\n                    >\r\n                      {confirmButtonText}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {renderHintMessage()}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nDateInput.displayName = 'DateInput';\r\n\r\nexport { DateInput };\r\n","import { forwardRef, useId } from 'react';\r\nimport { classNames } from '@/utils';\r\nimport { useUncontrolled } from '@/hooks/use-uncontrolled';\r\n\r\nimport { DisclosureProps } from './Disclosure.types';\r\n\r\n/**\r\n * KRDS Disclosure Component\r\n * @param buttonText 토글 버튼 텍스트\r\n * @param children 확장 가능한 콘텐츠\r\n * @param defaultExpanded 초기 확장 상태\r\n * @param expanded 제어된 확장 상태\r\n * @param onToggle 확장 상태 변경 콜백\r\n * @param className 커스텀 클래스명\r\n */\r\nexport const Disclosure = forwardRef<HTMLDivElement, DisclosureProps>(\r\n  (\r\n    { buttonText, children, defaultExpanded = false, expanded, onToggle, className, ...props },\r\n    ref\r\n  ) => {\r\n    const contentId = 'disclosure-content-' + useId();\r\n\r\n    const [isExpanded, setIsExpanded] = useUncontrolled<boolean>({\r\n      value: expanded,\r\n      defaultValue: defaultExpanded,\r\n      finalValue: false,\r\n      onChange: onToggle,\r\n    });\r\n\r\n    const handleToggle = () => {\r\n      setIsExpanded(!isExpanded);\r\n    };\r\n\r\n    return (\r\n      <div\r\n        ref={ref}\r\n        className={classNames('krds-disclosure', isExpanded && 'active', className)}\r\n        {...props}\r\n      >\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn-conts-expand\"\r\n          aria-expanded={isExpanded}\r\n          aria-controls={contentId}\r\n          onClick={handleToggle}\r\n        >\r\n          {buttonText}\r\n        </button>\r\n        <div id={contentId} className=\"expand-wrap\">\r\n          <div className=\"expand-in\">{children}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nDisclosure.displayName = 'Disclosure';\r\n","import { classNames } from '@/utils';\r\nimport React from 'react';\r\nimport type { SpinnerProps } from './Spinner.types';\r\n\r\n/**\r\n * KRDS Spinner 컴포넌트\r\n * @param label 스피너 옆에 표시할 텍스트\r\n * @param className 추가 커스텀 클래스\r\n * @param children input 등 자식 요소가 있을 경우 form-spinner 래퍼로 감쌈\r\n */\r\nconst Spinner: React.FC<SpinnerProps> = ({ label, className, children }) => {\r\n  const spinnerElement = (\r\n    <div className={classNames('krds-spinner', className)} role=\"status\">\r\n      <span className=\"sr-only\">로딩 중</span>\r\n      {label}\r\n    </div>\r\n  );\r\n\r\n  if (children) {\r\n    return (\r\n      <div className=\"form-spinner\">\r\n        {children}\r\n        {spinnerElement}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return spinnerElement;\r\n};\r\n\r\nexport default Spinner;\r\n","import Button from '@/components/Button';\r\nimport Spinner from '@/components/Spinner';\r\nimport { useUncontrolled } from '@/hooks/use-uncontrolled';\r\nimport { classNames } from '@/utils';\r\nimport React, { forwardRef, useCallback, useId, useRef, useState } from 'react';\r\nimport { FileItem, FileUploadProps } from './FileUpload.types';\r\n\r\n/**\r\n * KRDS FileUpload Component\r\n * @param title 타이틀 영역 제목\r\n * @param description 컨텐츠 영역 설명\r\n * @param uploadText 업로드 영역 안내 텍스트\r\n * @param maxFiles 최대 파일 개수\r\n * @param maxFileSize 최대 파일 크기 (bytes)\r\n * @param acceptedFileTypes 허용된 파일 확장자 배열\r\n * @param files 파일 목록\r\n * @param onFilesChange 파일 목록 변경 핸들러\r\n * @param onFileUpload 파일 업로드 핸들러\r\n * @param onFileDelete 파일 삭제 핸들러\r\n * @param onAllFilesDelete 전체 파일 삭제 핸들러\r\n * @param disabled 비활성화 상태\r\n * @param allowDelete 파일 삭제 허용 여부\r\n * @param className 커스텀 클래스명\r\n */\r\nconst FileUpload = forwardRef<HTMLDivElement, FileUploadProps>(\r\n  (\r\n    {\r\n      title,\r\n      description,\r\n      uploadText = '첨부할 파일을 여기에 끌어다 놓거나, 파일 선택 버튼을 눌러 파일을 직접 선택해주세요.',\r\n      maxFiles = 10,\r\n      maxFileSize = 20 * 1024 * 1024,\r\n      acceptedFileTypes,\r\n      files: _files,\r\n      onFilesChange,\r\n      onFileUpload,\r\n      onFileDelete,\r\n      onAllFilesDelete,\r\n      disabled = false,\r\n      allowDelete = true,\r\n      className = '',\r\n      children,\r\n      ...restProps\r\n    },\r\n    ref\r\n  ) => {\r\n    const [files, setFiles] = useUncontrolled<FileItem[]>({\r\n      value: _files,\r\n      defaultValue: [],\r\n      onChange: onFilesChange,\r\n      finalValue: [],\r\n    });\r\n    const [isDragActive, setIsDragActive] = useState(false);\r\n    const fileInputId = useId();\r\n    const fileInputRef = useRef<HTMLInputElement | null>(null);\r\n\r\n    const formatFileSize = useCallback((bytes: number): string => {\r\n      if (bytes === 0) return '0B';\r\n      const k = 1024;\r\n      const sizes = ['B', 'KB', 'MB', 'GB'];\r\n      const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + sizes[i];\r\n    }, []);\r\n\r\n    const getFileExtension = useCallback((filename: string): string => {\r\n      return filename.split('.').pop()?.toLowerCase() || '';\r\n    }, []);\r\n\r\n    const validateFile = useCallback(\r\n      (file: File): { isValid: boolean; errorMessage?: string } => {\r\n        if (file.size > maxFileSize) {\r\n          return {\r\n            isValid: false,\r\n            errorMessage: `등록 가능한 파일 용량을 초과하였습니다.\\n${formatFileSize(maxFileSize)} 미만의 파일만 등록할 수 있습니다.`,\r\n          };\r\n        }\r\n\r\n        if (acceptedFileTypes?.length) {\r\n          const extension = getFileExtension(file.name);\r\n          if (!acceptedFileTypes.includes(extension)) {\r\n            return {\r\n              isValid: false,\r\n              errorMessage: `지원하지 않는 파일 형식입니다.\\n${acceptedFileTypes.join(', ')} 형식만 업로드 가능합니다.`,\r\n            };\r\n          }\r\n        }\r\n\r\n        return { isValid: true };\r\n      },\r\n      [maxFileSize, acceptedFileTypes, formatFileSize, getFileExtension]\r\n    );\r\n\r\n    const processFiles = useCallback(\r\n      async (selectedFiles: FileList) => {\r\n        const newFiles: FileItem[] = [];\r\n        const availableSlots = maxFiles - files.length;\r\n        const filesToProcess = Math.min(selectedFiles.length, availableSlots);\r\n\r\n        for (let i = 0; i < filesToProcess; i++) {\r\n          const file = selectedFiles[i];\r\n          const validation = validateFile(file);\r\n\r\n          const fileItem: FileItem = {\r\n            id: `${Date.now()}-${i}`,\r\n            name: file.name,\r\n            size: file.size,\r\n            type: getFileExtension(file.name),\r\n            status: validation.isValid ? 'ready' : 'error',\r\n            errorMessage: validation.errorMessage,\r\n          };\r\n\r\n          newFiles.push(fileItem);\r\n\r\n          if (validation.isValid && onFileUpload) {\r\n            try {\r\n              fileItem.status = 'uploading';\r\n              await onFileUpload(file);\r\n              fileItem.status = 'completed';\r\n            } catch {\r\n              fileItem.status = 'error';\r\n              fileItem.errorMessage = '파일 업로드에 실패했습니다.';\r\n            }\r\n          }\r\n        }\r\n\r\n        if (newFiles.length > 0) {\r\n          setFiles([...files, ...newFiles]);\r\n        }\r\n      },\r\n      [files, maxFiles, validateFile, getFileExtension, onFileUpload, setFiles]\r\n    );\r\n\r\n    const handleFileSelect = useCallback(\r\n      (selectedFiles: FileList | null) => {\r\n        if (selectedFiles?.length) {\r\n          processFiles(selectedFiles);\r\n        }\r\n      },\r\n      [processFiles]\r\n    );\r\n\r\n    const handleInputChange = useCallback(\r\n      (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        handleFileSelect(event.target.files);\r\n        event.target.value = '';\r\n      },\r\n      [handleFileSelect]\r\n    );\r\n\r\n    const handleDragOver = useCallback(\r\n      (event: React.DragEvent) => {\r\n        event.preventDefault();\r\n        if (!disabled) {\r\n          setIsDragActive(true);\r\n        }\r\n      },\r\n      [disabled]\r\n    );\r\n\r\n    const handleDragLeave = useCallback((event: React.DragEvent) => {\r\n      event.preventDefault();\r\n      setIsDragActive(false);\r\n    }, []);\r\n\r\n    const handleDrop = useCallback(\r\n      (event: React.DragEvent) => {\r\n        event.preventDefault();\r\n        setIsDragActive(false);\r\n        if (!disabled) {\r\n          handleFileSelect(event.dataTransfer.files);\r\n        }\r\n      },\r\n      [disabled, handleFileSelect]\r\n    );\r\n\r\n    const handleFileDelete = useCallback(\r\n      (fileId: string) => {\r\n        if (onFileDelete) {\r\n          onFileDelete(fileId);\r\n        } else {\r\n          onFilesChange?.(files.filter(file => file.id !== fileId));\r\n        }\r\n      },\r\n      [files, onFileDelete, onFilesChange]\r\n    );\r\n\r\n    const handleAllFilesDelete = useCallback(() => {\r\n      if (onAllFilesDelete) {\r\n        onAllFilesDelete();\r\n      } else {\r\n        onFilesChange?.([]);\r\n      }\r\n    }, [onAllFilesDelete, onFilesChange]);\r\n\r\n    const renderFileStatus = (file: FileItem) => {\r\n      switch (file.status) {\r\n        case 'uploading':\r\n          return (\r\n            <span role=\"status\">\r\n              <Spinner />\r\n              <span className=\"sr-only\">업로드 중</span>\r\n            </span>\r\n          );\r\n        case 'completed':\r\n          return (\r\n            <span className=\"ico-invalid complete\">\r\n              <em className=\"sr-only\">업로드 완료</em>\r\n            </span>\r\n          );\r\n        default:\r\n          return null;\r\n      }\r\n    };\r\n\r\n    const renderFileActions = (file: FileItem) => {\r\n      if (file.status === 'uploading') return null;\r\n\r\n      if (!allowDelete) return null;\r\n\r\n      if (file.onDownload || file.onPreview) {\r\n        return (\r\n          <>\r\n            {file.onDownload && (\r\n              <Button variant=\"text\" size=\"medium\" onClick={file.onDownload} disabled={disabled}>\r\n                다운로드 <i className=\"svg-icon ico-down\"></i>\r\n              </Button>\r\n            )}\r\n            {file.onPreview && (\r\n              <Button variant=\"text\" size=\"medium\" onClick={file.onPreview} disabled={disabled}>\r\n                바로보기 <i className=\"svg-icon ico-angle right\"></i>\r\n              </Button>\r\n            )}\r\n            {file.deletable !== false && (\r\n              <Button\r\n                variant=\"text\"\r\n                size=\"medium\"\r\n                onClick={() => handleFileDelete(file.id)}\r\n                disabled={disabled}\r\n              >\r\n                삭제 <i className=\"svg-icon ico-delete-fill\"></i>\r\n              </Button>\r\n            )}\r\n          </>\r\n        );\r\n      }\r\n\r\n      if (file.deletable === false) return null;\r\n\r\n      return (\r\n        <Button\r\n          variant=\"text\"\r\n          size=\"medium\"\r\n          onClick={() => handleFileDelete(file.id)}\r\n          disabled={disabled}\r\n        >\r\n          삭제 <i className=\"svg-icon ico-delete-fill\"></i>\r\n        </Button>\r\n      );\r\n    };\r\n\r\n    return (\r\n      <div ref={ref} className={classNames('krds-file-upload line', className)} {...restProps}>\r\n        {(title || description || children) && (\r\n          <div className=\"file-head\">\r\n            {title && <h3 className=\"tit\">{title}</h3>}\r\n            {description && (\r\n              <div>\r\n                <p>{description}</p>\r\n              </div>\r\n            )}\r\n            {children}\r\n          </div>\r\n        )}\r\n\r\n        <div\r\n          className={classNames('file-upload', isDragActive && 'active')}\r\n          onDragOver={handleDragOver}\r\n          onDragLeave={handleDragLeave}\r\n          onDrop={handleDrop}\r\n        >\r\n          <p className=\"txt\">{uploadText}</p>\r\n          <div className=\"file-upload-btn-wrap\">\r\n            <input\r\n              type=\"file\"\r\n              name=\"myFile\"\r\n              id={fileInputId}\r\n              hidden\r\n              multiple\r\n              accept={acceptedFileTypes?.map(type => `.${type}`).join(',')}\r\n              onChange={handleInputChange}\r\n              disabled={disabled}\r\n              ref={fileInputRef}\r\n            />\r\n            <label htmlFor={fileInputId}>\r\n              <Button\r\n                variant=\"primary\"\r\n                size=\"medium\"\r\n                disabled={disabled}\r\n                onClick={() => {\r\n                  fileInputRef.current?.click();\r\n                }}\r\n              >\r\n                <i className=\"svg-icon ico-upload\"></i>파일선택\r\n              </Button>\r\n            </label>\r\n          </div>\r\n        </div>\r\n\r\n        {files.length > 0 && (\r\n          <div className=\"file-list\">\r\n            <div className=\"total\">\r\n              <span className=\"current\">{files.length}개</span> / {maxFiles}개\r\n            </div>\r\n            <ul className=\"upload-list\">\r\n              {files.map(file => (\r\n                <li key={file.id} className={classNames(file.status === 'error' && 'is-error')}>\r\n                  <div\r\n                    className={classNames(\r\n                      'file-info',\r\n                      (file.onDownload || file.onPreview) && 'm-column'\r\n                    )}\r\n                  >\r\n                    <div className=\"file-name\">\r\n                      {file.name} [{file.type}, {formatFileSize(file.size)}]\r\n                    </div>\r\n                    <div className=\"btn-wrap\">\r\n                      {renderFileStatus(file)}\r\n                      {renderFileActions(file)}\r\n                    </div>\r\n                  </div>\r\n                  {file.status === 'error' && file.errorMessage && (\r\n                    <p className=\"file-hint-invalid\">{file.errorMessage}</p>\r\n                  )}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n            {files.length > 1 && allowDelete && (\r\n              <div className=\"upload-delete-btn\">\r\n                <Button\r\n                  variant=\"tertiary\"\r\n                  size=\"xsmall\"\r\n                  onClick={handleAllFilesDelete}\r\n                  disabled={disabled}\r\n                >\r\n                  전체 파일 삭제<i className=\"svg-icon ico-angle right\"></i>\r\n                </Button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nFileUpload.displayName = 'FileUpload';\r\n\r\nexport default FileUpload;\r\n","import { forwardRef } from 'react';\r\nimport { classNames } from '@/utils';\r\nimport { IdentifierProps } from './Identifier.types';\r\n\r\n/**\r\n * KRDS Identifier 컴포넌트\r\n * @param logoAlt 로고 alt 텍스트\r\n * @param text 식별자 텍스트\r\n * @param className 추가 커스텀 클래스\r\n */\r\nexport const Identifier = forwardRef<HTMLDivElement, IdentifierProps>(\r\n  (\r\n    {\r\n      text = '이 누리집은 보건복지부 산하기관 누리집입니다.',\r\n      logoAlt = 'KRDS - Korea Design System',\r\n      className,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    return (\r\n      <div\r\n        ref={ref}\r\n        aria-label=\"운영기관 식별자\"\r\n        className={classNames('krds-identifier', className)}\r\n        {...props}\r\n      >\r\n        <span className=\"logo\">\r\n          <span className=\"sr-only\">{logoAlt}</span>\r\n        </span>\r\n        <span className=\"ban-txt\">{text}</span>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nIdentifier.displayName = 'Identifier';\r\n","import { classNames } from '@/utils';\r\nimport { forwardRef } from 'react';\r\nimport Button from '../Button';\r\nimport { Identifier } from '../Identifier';\r\nimport {\r\n  FooterBottomProps,\r\n  FooterLogo,\r\n  FooterMainContentProps,\r\n  FooterProps,\r\n  FooterQuickLink,\r\n} from './Footer.types';\r\n\r\nexport const FooterQuickLinks = ({ quickLinks }: { quickLinks?: FooterQuickLink[] }) => {\r\n  if (!quickLinks || quickLinks.length === 0) return null;\r\n\r\n  return (\r\n    <div className=\"foot-quick\">\r\n      <div className=\"inner\">\r\n        {quickLinks.map((link, index) => (\r\n          <button\r\n            key={index}\r\n            type=\"button\"\r\n            className=\"link\"\r\n            title={`${link.title} 레이어`}\r\n            onClick={link.onClick}\r\n          >\r\n            {link.title}\r\n          </button>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const FooterLogoComponent = ({ logo }: { logo?: FooterLogo }) => {\r\n  const logoContent = logo?.src ? (\r\n    <img\r\n      src={logo.src}\r\n      alt={logo.alt}\r\n      width={logo.width}\r\n      height={logo.height}\r\n      style={{ width: '100%', height: '100%', objectFit: 'contain' }}\r\n    />\r\n  ) : (\r\n    <span className=\"sr-only\">{logo?.alt || 'KRDS - Korea Design System'}</span>\r\n  );\r\n\r\n  const logoElement = <div className=\"f-logo\">{logoContent}</div>;\r\n\r\n  if (logo?.href) {\r\n    return (\r\n      <a\r\n        href={logo.href}\r\n        target={logo.target}\r\n        rel={logo.target === '_blank' ? 'noopener noreferrer' : undefined}\r\n      >\r\n        {logoElement}\r\n      </a>\r\n    );\r\n  }\r\n\r\n  return logoElement;\r\n};\r\n\r\nexport const FooterMainContent = ({\r\n  logo,\r\n  address,\r\n  contacts,\r\n  links,\r\n  socialLinks,\r\n  defaultLinkTarget = '_self',\r\n}: FooterMainContentProps) => {\r\n  return (\r\n    <>\r\n      <FooterLogoComponent logo={logo} />\r\n\r\n      <div className=\"f-cnt\">\r\n        {(address || contacts) && (\r\n          <div className=\"f-info\">\r\n            {address && <p className=\"info-addr\">{address}</p>}\r\n            {contacts && contacts.length > 0 && (\r\n              <ul className=\"info-cs\">\r\n                {contacts.map((contact, index) => (\r\n                  <li key={index}>\r\n                    <strong className=\"strong\">{contact.title}</strong>\r\n                    <span className=\"span\">{contact.description}</span>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {(links || socialLinks) && (\r\n          <div className=\"f-link\">\r\n            {links && links.length > 0 && (\r\n              <div className=\"link-go\">\r\n                {links.map((link, index) => {\r\n                  const target = link.target || defaultLinkTarget;\r\n                  const rel = link.rel || (target === '_blank' ? 'noopener noreferrer' : undefined);\r\n\r\n                  return (\r\n                    <Button\r\n                      key={index}\r\n                      as=\"a\"\r\n                      href={link.href}\r\n                      target={target}\r\n                      rel={rel}\r\n                      variant=\"text\"\r\n                      size=\"medium\"\r\n                    >\r\n                      {link.text} <i className=\"svg-icon ico-angle right\"></i>\r\n                    </Button>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n\r\n            {socialLinks && socialLinks.length > 0 && (\r\n              <div className=\"link-sns\">\r\n                {socialLinks.map((socialLink, index) => {\r\n                  const target = socialLink.target || defaultLinkTarget || '_blank';\r\n                  const rel =\r\n                    socialLink.rel || (target === '_blank' ? 'noopener noreferrer' : undefined);\r\n                  const label = socialLink.label || getDefaultSocialLabel(socialLink.platform);\r\n                  const iconClass = getDefaultSocialIconClass(socialLink.platform);\r\n\r\n                  return (\r\n                    <a\r\n                      key={index}\r\n                      href={socialLink.href}\r\n                      target={target}\r\n                      rel={rel}\r\n                      className=\"krds-btn xlarge icon border\"\r\n                      title={target === '_blank' ? '새 창 열기' : undefined}\r\n                    >\r\n                      <span className=\"sr-only\">{label}</span>\r\n                      <i className={`svg-icon ${iconClass}`}></i>\r\n                    </a>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const FooterBottom = ({\r\n  bottomLinks,\r\n  copyright = '© 2023 National Health Insurance Service. All rights reserved.',\r\n  identifierText = '이 누리집은 보건복지부 산하기관 누리집입니다.',\r\n  identifier,\r\n  defaultLinkTarget = '_self',\r\n  hideIdentifier = false,\r\n}: FooterBottomProps) => {\r\n  const finalIdentifier = identifier || { text: identifierText };\r\n\r\n  return (\r\n    <div className=\"f-btm\">\r\n      <div className=\"f-btm-text\">\r\n        {bottomLinks && bottomLinks.length > 0 && (\r\n          <div className=\"f-menu\">\r\n            {bottomLinks.map((link, index) => {\r\n              const target = link.target || defaultLinkTarget;\r\n              const rel = link.rel || (target === '_blank' ? 'noopener noreferrer' : undefined);\r\n\r\n              return (\r\n                <a\r\n                  key={index}\r\n                  href={link.href}\r\n                  target={target}\r\n                  rel={rel}\r\n                  className={classNames(link.isHighlighted && 'point')}\r\n                >\r\n                  {link.text}\r\n                </a>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n        <p className=\"f-copy\">{copyright}</p>\r\n      </div>\r\n\r\n      {!hideIdentifier && (\r\n        <Identifier\r\n          text={finalIdentifier.text}\r\n          logoAlt={finalIdentifier.logo?.alt || 'KRDS - Korea Design System'}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst getDefaultSocialLabel = (platform: string) => {\r\n  switch (platform.toLowerCase()) {\r\n    case 'instagram':\r\n      return '인스타그램';\r\n    case 'youtube':\r\n      return '유튜브';\r\n    case 'x':\r\n      return 'X';\r\n    case 'twitter':\r\n      return '트위터';\r\n    case 'facebook':\r\n      return '페이스북';\r\n    case 'blog':\r\n      return '블로그';\r\n    default:\r\n      return platform;\r\n  }\r\n};\r\n\r\nconst getDefaultSocialIconClass = (platform: string) => {\r\n  switch (platform.toLowerCase()) {\r\n    case 'instagram':\r\n      return 'ico-instagram';\r\n    case 'youtube':\r\n      return 'ico-youtube';\r\n    case 'x':\r\n    case 'twitter':\r\n      return 'ico-sns-x';\r\n    case 'facebook':\r\n      return 'ico-facebook';\r\n    case 'blog':\r\n      return 'ico-blog';\r\n    default:\r\n      return '';\r\n  }\r\n};\r\n\r\n/**\r\n * KRDS Footer Component\r\n * @param quickLinks 퀵 링크 목록\r\n * @param address 주소\r\n * @param contacts 연락처 목록\r\n * @param logo 메인 로고 설정\r\n * @param links 링크 목록\r\n * @param socialLinks 소셜 미디어 링크 목록\r\n * @param bottomLinks 하단 링크 목록\r\n * @param copyright 저작권 텍스트\r\n * @param identifierText 식별자 텍스트 (하위 호환성)\r\n * @param identifier 식별자 설정 (identifierText보다 우선)\r\n * @param defaultLinkTarget 모든 링크의 기본 타겟 설정\r\n * @param hideQuickLinks 퀵 링크 섹션 숨김 여부\r\n * @param hideIdentifier 식별자 섹션 숨김 여부\r\n */\r\nexport const Footer = forwardRef<HTMLElement, FooterProps>(\r\n  (\r\n    {\r\n      quickLinks,\r\n      address,\r\n      contacts,\r\n      logo,\r\n      links,\r\n      socialLinks,\r\n      bottomLinks,\r\n      copyright,\r\n      identifierText,\r\n      identifier,\r\n      defaultLinkTarget,\r\n      hideQuickLinks = false,\r\n      hideIdentifier = false,\r\n      className,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    return (\r\n      <footer ref={ref} id=\"krds-footer\" className={classNames(className)} {...props}>\r\n        {!hideQuickLinks && <FooterQuickLinks quickLinks={quickLinks} />}\r\n\r\n        <div className=\"inner\">\r\n          <FooterMainContent\r\n            logo={logo}\r\n            address={address}\r\n            contacts={contacts}\r\n            links={links}\r\n            socialLinks={socialLinks}\r\n            defaultLinkTarget={defaultLinkTarget}\r\n          />\r\n\r\n          <FooterBottom\r\n            bottomLinks={bottomLinks}\r\n            copyright={copyright}\r\n            identifierText={identifierText}\r\n            identifier={identifier}\r\n            defaultLinkTarget={defaultLinkTarget}\r\n            hideIdentifier={hideIdentifier}\r\n          />\r\n        </div>\r\n      </footer>\r\n    );\r\n  }\r\n);\r\n\r\nFooter.displayName = 'Footer';\r\n\r\nexport default Footer;\r\n","import React, { forwardRef, useRef, useEffect, HTMLAttributes, ButtonHTMLAttributes } from 'react';\r\nimport { classNames } from '@/utils';\r\nimport { useUncontrolled } from '@/hooks/use-uncontrolled';\r\nimport { DropdownItemProps, DropdownProps } from './Dropdown.types';\r\n\r\n/**\r\n * KRDS Dropdown Component\r\n * @param isOpen 드롭다운 열림 상태 (controlled)\r\n * @param defaultOpen 기본 드롭다운 열림 상태 (uncontrolled)\r\n * @param onOpenChange 드롭다운 상태 변경 시 호출되는 콜백 함수\r\n * @param buttonText 드롭다운 버튼 텍스트 또는 콘텐츠\r\n * @param buttonClassName 드롭다운 버튼 클래스명\r\n * @param children 드롭다운 메뉴 콘텐츠\r\n * @param showBottomSection 드롭다운 하단 영역 표시 여부\r\n * @param bottomContent 드롭다운 하단 영역 콘텐츠\r\n * @param className 사용자 정의 클래스명\r\n */\r\nconst DropdownRoot = forwardRef<HTMLButtonElement, DropdownProps>(\r\n  (\r\n    {\r\n      isOpen,\r\n      defaultOpen = false,\r\n      onOpenChange,\r\n      buttonText,\r\n      buttonClassName = 'krds-btn small text drop-btn',\r\n      children,\r\n      className,\r\n      ...rest\r\n    },\r\n    ref\r\n  ) => {\r\n    const [open, setOpen] = useUncontrolled({\r\n      value: isOpen,\r\n      defaultValue: defaultOpen,\r\n      finalValue: false,\r\n      onChange: onOpenChange,\r\n    });\r\n\r\n    const dropdownRef = useRef<HTMLDivElement>(null);\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n    const handleToggle = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      setOpen(!open);\r\n    };\r\n\r\n    useEffect(() => {\r\n      const handleClickOutside = (event: MouseEvent) => {\r\n        if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\r\n          setOpen(false);\r\n        }\r\n      };\r\n\r\n      if (open) {\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n      }\r\n\r\n      return () => {\r\n        document.removeEventListener('mousedown', handleClickOutside);\r\n      };\r\n    }, [open, setOpen]);\r\n\r\n    return (\r\n      <div ref={containerRef} className={classNames('krds-drop-wrap', open && 'active', className)}>\r\n        <button\r\n          type=\"button\"\r\n          className={buttonClassName}\r\n          onClick={handleToggle}\r\n          aria-expanded={open}\r\n          ref={ref}\r\n          {...(rest as ButtonHTMLAttributes<HTMLButtonElement>)}\r\n        >\r\n          {buttonText}\r\n        </button>\r\n\r\n        <div className=\"drop-menu\" style={{ display: open ? 'block' : 'none' }} ref={dropdownRef}>\r\n          <div className=\"drop-in\">{children}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nDropdownRoot.displayName = 'Dropdown';\r\n\r\nconst DropdownTopSection = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\r\n  ({ children, className, ...props }, ref) => {\r\n    return (\r\n      <div ref={ref} className={classNames('drop-top', className)} {...props}>\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nDropdownTopSection.displayName = 'DropdownTopSection';\r\n\r\nconst DropdownList = forwardRef<HTMLUListElement, HTMLAttributes<HTMLUListElement>>(\r\n  ({ children, className, ...props }, ref) => {\r\n    return (\r\n      <ul ref={ref} className={classNames('drop-list', className)} {...props}>\r\n        {children}\r\n      </ul>\r\n    );\r\n  }\r\n);\r\n\r\nDropdownList.displayName = 'DropdownList';\r\n\r\nconst DropdownItem = forwardRef<HTMLButtonElement, DropdownItemProps>(\r\n  ({ children, className, isActive, ...props }, ref) => {\r\n    return (\r\n      <li>\r\n        <button ref={ref} type=\"button\" className={classNames('item-link', className)} {...props}>\r\n          {children}\r\n\r\n          {isActive && <span className=\"sr-only\">선택됨</span>}\r\n        </button>\r\n      </li>\r\n    );\r\n  }\r\n);\r\n\r\nDropdownItem.displayName = 'DropdownItem';\r\n\r\nconst DropdownBottomSection = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\r\n  ({ children, className, ...props }, ref) => {\r\n    return (\r\n      <div ref={ref} className={classNames('drop-bottom', className)} {...props}>\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nDropdownBottomSection.displayName = 'DropdownBottomSection';\r\n\r\nconst Dropdown = Object.assign(DropdownRoot, {\r\n  Item: DropdownItem,\r\n  List: DropdownList,\r\n  TopSection: DropdownTopSection,\r\n  BottomSection: DropdownBottomSection,\r\n});\r\n\r\nexport { Dropdown };\r\n","import React, { useLayoutEffect, useState } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { PortalProps } from './Portal.types';\r\n\r\nexport const Portal: React.FC<PortalProps> = ({\r\n  children,\r\n  enabled = true,\r\n  container,\r\n  containerClassName,\r\n}) => {\r\n  const [portalContainer, setPortalContainer] = useState<HTMLElement | null>(null);\r\n\r\n  useLayoutEffect(() => {\r\n    if (!enabled) return;\r\n\r\n    let targetContainer: HTMLElement | null = null;\r\n\r\n    if (!container) {\r\n      targetContainer = document.body;\r\n    } else if (typeof container === 'string') {\r\n      targetContainer = document.getElementById(container);\r\n\r\n      if (!targetContainer) {\r\n        targetContainer = document.createElement('div');\r\n        targetContainer.id = container;\r\n        if (containerClassName) {\r\n          targetContainer.className = containerClassName;\r\n        }\r\n        document.body.appendChild(targetContainer);\r\n      }\r\n    } else if (container instanceof HTMLElement) {\r\n      targetContainer = container;\r\n    }\r\n\r\n    setPortalContainer(targetContainer);\r\n\r\n    return () => {\r\n      if (\r\n        targetContainer &&\r\n        typeof container === 'string' &&\r\n        targetContainer.children.length === 0 &&\r\n        targetContainer.id === container\r\n      ) {\r\n        try {\r\n          document.body.removeChild(targetContainer);\r\n        } catch {\r\n          // ignore\r\n        }\r\n      }\r\n    };\r\n  }, [enabled, container, containerClassName]);\r\n\r\n  if (!enabled) {\r\n    return <>{children}</>;\r\n  }\r\n\r\n  if (!portalContainer) {\r\n    return null;\r\n  }\r\n\r\n  return createPortal(children, portalContainer);\r\n};\r\n\r\nPortal.displayName = 'Portal';\r\n","import { Portal } from '@/components/Portal';\r\nimport { classNames } from '@/utils';\r\nimport React, {\r\n  forwardRef,\r\n  cloneElement,\r\n  isValidElement,\r\n  useCallback,\r\n  useEffect,\r\n  useImperativeHandle,\r\n  useLayoutEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport type {\r\n  DesktopBanner,\r\n  DesktopLeafItem,\r\n  DesktopMainDropdown,\r\n  DesktopMainItem,\r\n  DesktopMainLink,\r\n  DesktopSubLink,\r\n  DesktopSubMenu,\r\n  MainMenuProps,\r\n  MobileDepth3Item,\r\n  MobileDepth4,\r\n  MobileLinkItem,\r\n  MobileMainItem,\r\n  MobilePanelDepth3,\r\n  MobilePanel,\r\n  MobilePanelItem,\r\n  MobilePanelLink,\r\n  MobileTriggerProps,\r\n} from './MainMenu.types';\r\n\r\nconst DEFAULT_SEARCH_PLACEHOLDER = '찾고자 하는 메뉴명을 입력해 주세요';\r\nconst DEFAULT_SEARCH_SR = '검색';\r\nconst DEFAULT_CLOSE_LABEL = '전체메뉴 닫기';\r\n\r\nconst fallbackKey = (provided: string | undefined, fallback: string) =>\r\n  provided && provided.trim().length > 0 ? provided : fallback;\r\n\r\nconst toDomId = (key: string) => key.replace(/[^a-zA-Z0-9_-]/g, '_');\r\n\r\ntype MobileMenuPhase = 'idle' | 'pre-opening' | 'opening' | 'open' | 'closing';\r\n\r\nconst MobileTriggerButton = forwardRef<HTMLButtonElement, MobileTriggerProps>(\r\n  ({ label, children, className, onClick, ...buttonProps }, ref) => (\r\n    <button\r\n      type=\"button\"\r\n      className={classNames('btn-navi all', className)}\r\n      onClick={onClick}\r\n      ref={ref}\r\n      aria-controls=\"mobile-nav\"\r\n      {...buttonProps}\r\n    >\r\n      {children ?? label}\r\n    </button>\r\n  )\r\n);\r\n\r\nMobileTriggerButton.displayName = 'MainMenuMobileTrigger';\r\n\r\nconst createFocusTrap = (trap: HTMLElement) => {\r\n  const focusable = trap.querySelectorAll<HTMLElement>(\r\n    'a, button, [tabindex=\"0\"], input, textarea, select'\r\n  );\r\n  if (!focusable.length) return () => {};\r\n\r\n  const first = focusable[0];\r\n  const last = focusable[focusable.length - 1];\r\n\r\n  const handleKeyDown = (event: KeyboardEvent) => {\r\n    if (event.key !== 'Tab') return;\r\n    const active = trap.ownerDocument.activeElement;\r\n\r\n    if (event.shiftKey) {\r\n      if (active === first) {\r\n        event.preventDefault();\r\n        last.focus();\r\n      }\r\n    } else if (active === last) {\r\n      event.preventDefault();\r\n      first.focus();\r\n    }\r\n  };\r\n\r\n  trap.addEventListener('keydown', handleKeyDown);\r\n  return () => trap.removeEventListener('keydown', handleKeyDown);\r\n};\r\n\r\nconst ensureBackdrop = () => {\r\n  let backdrop = document.querySelector<HTMLElement>('.gnb-backdrop');\r\n  let owns = false;\r\n\r\n  if (!backdrop) {\r\n    backdrop = document.createElement('div');\r\n    backdrop.className = 'gnb-backdrop';\r\n    document.body.appendChild(backdrop);\r\n    owns = true;\r\n  }\r\n\r\n  return { backdrop, owns };\r\n};\r\n\r\nconst breakpoint = 1024;\r\n\r\nconst MainMenu = forwardRef<HTMLElement, MainMenuProps>((props, ref) => {\r\n  const {\r\n    desktop,\r\n    mobile,\r\n    mobileTrigger,\r\n    onMobileMenuOpen,\r\n    onMobileMenuClose,\r\n    desktopPortalId,\r\n    mobilePortalId,\r\n  } = props;\r\n  const mobileNavId = mobile.id?.trim() ? mobile.id : 'mobile-nav';\r\n  const mobileTriggerContainer =\r\n    'mobileTriggerPortalId' in props\r\n      ? props.mobileTriggerPortalId\r\n      : props.mobileTriggerContainerElement;\r\n  const desktopNavRef = useRef<HTMLElement | null>(null);\r\n  const mobileNavRef = useRef<HTMLDivElement | null>(null);\r\n  const mobileBodyRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  const mainListRefs = useRef<Record<string, HTMLDivElement | null>>({});\r\n  const subListRefs = useRef<Record<string, HTMLDivElement | null>>({});\r\n  const mainTriggerRefs = useRef<Record<string, HTMLElement | null>>({});\r\n  const mobilePanelRefs = useRef<Record<string, HTMLDivElement | null>>({});\r\n  const depth4Refs = useRef<Record<string, HTMLDivElement | null>>({});\r\n  const depth4TriggerRefs = useRef<Record<string, HTMLElement | null>>({});\r\n\r\n  const desktopEntries = useMemo(\r\n    () =>\r\n      desktop.items.map((item, index) => ({\r\n        item,\r\n        key: fallbackKey(\r\n          (item as DesktopMainDropdown | DesktopMainLink).id,\r\n          `desktop-main-${index}`\r\n        ),\r\n        index,\r\n      })),\r\n    [desktop.items]\r\n  );\r\n\r\n  const mobileEntries = useMemo(\r\n    () =>\r\n      mobile.body.mainItems.map((item, index) => ({\r\n        item,\r\n        key: fallbackKey(item.id, `mobile-main-${index}`),\r\n        index,\r\n      })),\r\n    [mobile.body.mainItems]\r\n  );\r\n\r\n  const [desktopActiveMain, setDesktopActiveMain] = useState<string | null>(null);\r\n  const [desktopActiveSub, setDesktopActiveSub] = useState<Record<string, string | null>>({});\r\n  const [isMobileOpen, setIsMobileOpen] = useState(false);\r\n  const [mobileActiveMain, setMobileActiveMain] = useState<string | null>(\r\n    mobileEntries[0]?.key ?? null\r\n  );\r\n  const [openDepth3, setOpenDepth3] = useState<Record<string, boolean>>({});\r\n  const [openDepth4, setOpenDepth4] = useState<string | null>(null);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [mobileMenuPhase, setMobileMenuPhase] = useState<MobileMenuPhase>('idle');\r\n  const previousMobileOpenRef = useRef(isMobileOpen);\r\n  const mobileTransitionTimeoutRef = useRef<ReturnType<typeof setTimeout> | null>(null);\r\n  const isMobileOpenRef = useRef(isMobileOpen);\r\n\r\n  const backdropInfoRef = useRef<{ backdrop: HTMLElement; owns: boolean } | null>(null);\r\n\r\n  useImperativeHandle(ref, () => desktopNavRef.current as HTMLElement, []);\r\n\r\n  useEffect(() => {\r\n    if (!mobileEntries.length) {\r\n      setMobileActiveMain(null);\r\n    } else {\r\n      setMobileActiveMain(prev => prev ?? mobileEntries[0].key);\r\n    }\r\n  }, [mobileEntries]);\r\n\r\n  const desktopItemMap = useMemo(() => {\r\n    const map = new Map<string, DesktopMainItem>();\r\n    desktopEntries.forEach(entry => map.set(entry.key, entry.item));\r\n    return map;\r\n  }, [desktopEntries]);\r\n\r\n  const activeDesktopItem = desktopActiveMain ? desktopItemMap.get(desktopActiveMain) : null;\r\n  const shouldShowBackdrop = Boolean(\r\n    activeDesktopItem &&\r\n      activeDesktopItem.type === 'dropdown' &&\r\n      !(activeDesktopItem as DesktopMainDropdown).isDropdownTrigger\r\n  );\r\n\r\n  const closeDesktopMenu = useCallback(() => {\r\n    setDesktopActiveMain(null);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const { backdrop, owns } = ensureBackdrop();\r\n    backdropInfoRef.current = { backdrop, owns };\r\n\r\n    const handleBackdropClick = () => closeDesktopMenu();\r\n    backdrop.addEventListener('click', handleBackdropClick);\r\n\r\n    return () => {\r\n      backdrop.removeEventListener('click', handleBackdropClick);\r\n      if (owns && backdrop.parentElement === document.body) {\r\n        document.body.removeChild(backdrop);\r\n      }\r\n    };\r\n  }, [closeDesktopMenu]);\r\n\r\n  useEffect(() => {\r\n    const handler = (event: MouseEvent) => {\r\n      const nav = desktopNavRef.current;\r\n      if (!nav) return;\r\n      const target = event.target as Node;\r\n      if (!nav.contains(target)) {\r\n        closeDesktopMenu();\r\n      }\r\n    };\r\n    document.addEventListener('mousedown', handler);\r\n    return () => document.removeEventListener('mousedown', handler);\r\n  }, [closeDesktopMenu]);\r\n\r\n  useEffect(() => {\r\n    const handler = (event: KeyboardEvent) => {\r\n      if (event.code === 'Escape') {\r\n        closeDesktopMenu();\r\n        setIsMobileOpen(false);\r\n      }\r\n    };\r\n    document.addEventListener('keyup', handler);\r\n    return () => document.removeEventListener('keyup', handler);\r\n  }, [closeDesktopMenu]);\r\n\r\n  useEffect(() => {\r\n    isMobileOpenRef.current = isMobileOpen;\r\n  }, [isMobileOpen]);\r\n\r\n  useEffect(() => {\r\n    const info = backdropInfoRef.current;\r\n    if (!info) return;\r\n    const { backdrop } = info;\r\n    const body = document.body;\r\n\r\n    if (shouldShowBackdrop) {\r\n      backdrop.classList.add('active');\r\n      body.classList.add('is-gnb-web');\r\n      if (body.scrollHeight > window.innerHeight) {\r\n        body.classList.add('hasScrollY');\r\n      }\r\n    } else {\r\n      backdrop.classList.remove('active');\r\n      body.classList.remove('is-gnb-web');\r\n      body.classList.remove('hasScrollY');\r\n    }\r\n  }, [shouldShowBackdrop]);\r\n\r\n  const registerMainListRef = useCallback((key: string, node: HTMLDivElement | null) => {\r\n    if (node) {\r\n      mainListRefs.current[key] = node;\r\n    } else {\r\n      delete mainListRefs.current[key];\r\n    }\r\n  }, []);\r\n\r\n  const registerSubListRef = useCallback(\r\n    (mainKey: string, subKey: string, node: HTMLDivElement | null) => {\r\n      const composite = `${mainKey}__${subKey}`;\r\n      if (node) {\r\n        subListRefs.current[composite] = node;\r\n      } else {\r\n        delete subListRefs.current[composite];\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const registerMainTriggerRef = useCallback((key: string, node: HTMLElement | null) => {\r\n    if (node) {\r\n      mainTriggerRefs.current[key] = node;\r\n    } else {\r\n      delete mainTriggerRefs.current[key];\r\n    }\r\n  }, []);\r\n\r\n  const registerPanelRef = useCallback((key: string, node: HTMLDivElement | null) => {\r\n    if (node) {\r\n      mobilePanelRefs.current[key] = node;\r\n    } else {\r\n      delete mobilePanelRefs.current[key];\r\n    }\r\n  }, []);\r\n\r\n  const registerDepth4Ref = useCallback((key: string, node: HTMLDivElement | null) => {\r\n    if (node) {\r\n      depth4Refs.current[key] = node;\r\n    } else {\r\n      delete depth4Refs.current[key];\r\n    }\r\n  }, []);\r\n\r\n  const registerDepth4TriggerRef = useCallback((key: string, node: HTMLElement | null) => {\r\n    if (node) {\r\n      depth4TriggerRefs.current[key] = node;\r\n    } else {\r\n      delete depth4TriggerRefs.current[key];\r\n    }\r\n  }, []);\r\n\r\n  useLayoutEffect(() => {\r\n    if (!desktopActiveMain) return;\r\n    const mainList = mainListRefs.current[desktopActiveMain];\r\n    if (!mainList) return;\r\n    const subKey = desktopActiveSub[desktopActiveMain];\r\n    if (!subKey) {\r\n      mainList.style.minHeight = '';\r\n      return;\r\n    }\r\n    const composite = `${desktopActiveMain}__${subKey}`;\r\n    const subList = subListRefs.current[composite];\r\n    if (!subList) return;\r\n    mainList.style.minHeight = subList.scrollHeight ? `${subList.scrollHeight}px` : '';\r\n  }, [desktopActiveMain, desktopActiveSub]);\r\n\r\n  useEffect(() => {\r\n    if (desktopActiveMain) return;\r\n    Object.values(mainListRefs.current).forEach(node => {\r\n      if (node) node.style.minHeight = '';\r\n    });\r\n  }, [desktopActiveMain]);\r\n\r\n  const handleDesktopMainClick = useCallback(\r\n    (entry: { item: DesktopMainItem; key: string }) => {\r\n      const { item, key } = entry;\r\n      if (item.type === 'link') return;\r\n\r\n      if (desktopActiveMain === key) {\r\n        closeDesktopMenu();\r\n        return;\r\n      }\r\n\r\n      const dropdown = item as DesktopMainDropdown;\r\n      const firstIndex = dropdown.sections.findIndex(section => section.type === 'menu');\r\n      const firstSubKey =\r\n        firstIndex >= 0\r\n          ? fallbackKey(\r\n              (dropdown.sections[firstIndex] as DesktopSubMenu).id,\r\n              `${key}-section-${firstIndex}`\r\n            )\r\n          : null;\r\n\r\n      setDesktopActiveMain(key);\r\n      setDesktopActiveSub(prev => ({ ...prev, [key]: firstSubKey }));\r\n    },\r\n    [closeDesktopMenu, desktopActiveMain]\r\n  );\r\n\r\n  const handleDesktopSubClick = useCallback((mainKey: string, subKey: string) => {\r\n    setDesktopActiveSub(prev => ({ ...prev, [mainKey]: subKey }));\r\n  }, []);\r\n\r\n  const desktopMainKeys = useMemo(() => desktopEntries.map(entry => entry.key), [desktopEntries]);\r\n\r\n  const handleMainKeyDown = useCallback(\r\n    (event: React.KeyboardEvent<HTMLElement>, index: number) => {\r\n      const focusByIndex = (idx: number) => {\r\n        const key = desktopMainKeys[(idx + desktopMainKeys.length) % desktopMainKeys.length];\r\n        const trigger = mainTriggerRefs.current[key];\r\n        trigger?.focus();\r\n      };\r\n\r\n      switch (event.key) {\r\n        case 'Home':\r\n          event.preventDefault();\r\n          focusByIndex(0);\r\n          break;\r\n        case 'End':\r\n          event.preventDefault();\r\n          focusByIndex(desktopMainKeys.length - 1);\r\n          break;\r\n        case 'ArrowRight':\r\n        case 'ArrowDown':\r\n          event.preventDefault();\r\n          focusByIndex(index + 1);\r\n          break;\r\n        case 'ArrowLeft':\r\n        case 'ArrowUp':\r\n          event.preventDefault();\r\n          focusByIndex(index - 1);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n    [desktopMainKeys]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const nav = mobileNavRef.current;\r\n    if (!nav) return;\r\n\r\n    if (mobileTransitionTimeoutRef.current) {\r\n      clearTimeout(mobileTransitionTimeoutRef.current);\r\n      mobileTransitionTimeoutRef.current = null;\r\n    }\r\n\r\n    if (isMobileOpen) {\r\n      setMobileMenuPhase(prev => {\r\n        if (prev === 'open' || prev === 'opening') return prev;\r\n        return 'pre-opening';\r\n      });\r\n\r\n      const activeTrigger = nav.querySelector('.gnb-main-trigger.active');\r\n      if (activeTrigger && mobileBodyRef.current) {\r\n        const id = activeTrigger.getAttribute('aria-controls');\r\n        if (id) {\r\n          const targetPanel = document.getElementById(id);\r\n          if (targetPanel && mobileBodyRef.current) {\r\n            const bodyRef = mobileBodyRef.current;\r\n            bodyRef.style.scrollBehavior = 'auto';\r\n            bodyRef.scrollTop = targetPanel.offsetTop;\r\n            requestAnimationFrame(() => {\r\n              bodyRef.style.scrollBehavior = '';\r\n            });\r\n          }\r\n        }\r\n      }\r\n\r\n      const openingTimeout = setTimeout(() => {\r\n        if (!isMobileOpenRef.current) return;\r\n        setMobileMenuPhase(prev => (prev === 'open' ? prev : 'opening'));\r\n        document.body.classList.add('is-gnb-mobile');\r\n\r\n        const handleTransitionEnd = (e: TransitionEvent) => {\r\n          if (e.target !== nav) return;\r\n          if (!isMobileOpenRef.current) {\r\n            nav.removeEventListener('transitionend', handleTransitionEnd);\r\n            return;\r\n          }\r\n          setMobileMenuPhase('open');\r\n          const gnbWrap = nav.querySelector('.gnb-wrap');\r\n          if (gnbWrap instanceof HTMLElement) {\r\n            gnbWrap.setAttribute('tabindex', '0');\r\n            gnbWrap.focus();\r\n          }\r\n          nav.removeEventListener('transitionend', handleTransitionEnd);\r\n\r\n          document.querySelector('#krds-header .header-in')?.setAttribute('inert', '');\r\n          document.getElementById('container')?.setAttribute('inert', '');\r\n          document.getElementById('footer')?.setAttribute('inert', '');\r\n        };\r\n\r\n        nav.addEventListener('transitionend', handleTransitionEnd);\r\n      }, 100);\r\n\r\n      mobileTransitionTimeoutRef.current = openingTimeout;\r\n    } else {\r\n      setMobileMenuPhase(prev => (prev === 'idle' ? prev : 'closing'));\r\n\r\n      document.querySelector('#krds-header .header-in')?.removeAttribute('inert');\r\n      document.getElementById('container')?.removeAttribute('inert');\r\n      document.getElementById('footer')?.removeAttribute('inert');\r\n\r\n      const handleTransitionEnd = (e: TransitionEvent) => {\r\n        if (e.target !== nav) return;\r\n        if (isMobileOpenRef.current) {\r\n          nav.removeEventListener('transitionend', handleTransitionEnd);\r\n          return;\r\n        }\r\n        setMobileMenuPhase('idle');\r\n        const navId = nav.getAttribute('id');\r\n        const openGnb = navId ? document.querySelector(`[aria-controls=${navId}]`) : null;\r\n        if (openGnb instanceof HTMLElement) {\r\n          openGnb.focus();\r\n        }\r\n        nav.removeAttribute('tabindex');\r\n        nav.removeEventListener('transitionend', handleTransitionEnd);\r\n      };\r\n\r\n      nav.addEventListener('transitionend', handleTransitionEnd);\r\n\r\n      const closingTimeout = setTimeout(() => {\r\n        document.body.classList.remove('is-gnb-mobile');\r\n      }, 400);\r\n\r\n      mobileTransitionTimeoutRef.current = closingTimeout;\r\n    }\r\n\r\n    return () => {\r\n      if (mobileTransitionTimeoutRef.current) {\r\n        clearTimeout(mobileTransitionTimeoutRef.current);\r\n        mobileTransitionTimeoutRef.current = null;\r\n      }\r\n    };\r\n  }, [isMobileOpen]);\r\n\r\n  useEffect(() => {\r\n    const wasOpen = previousMobileOpenRef.current;\r\n    if (wasOpen !== isMobileOpen) {\r\n      if (isMobileOpen) {\r\n        onMobileMenuOpen?.();\r\n      } else {\r\n        onMobileMenuClose?.();\r\n      }\r\n      previousMobileOpenRef.current = isMobileOpen;\r\n    }\r\n  }, [isMobileOpen, onMobileMenuClose, onMobileMenuOpen]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (previousMobileOpenRef.current) {\r\n        onMobileMenuClose?.();\r\n      }\r\n    };\r\n  }, [onMobileMenuClose]);\r\n\r\n  useEffect(() => {\r\n    if (!isMobileOpen) return;\r\n    const nav = mobileNavRef.current;\r\n    if (!nav) return;\r\n    const cleanup = createFocusTrap(nav);\r\n    return cleanup;\r\n  }, [isMobileOpen]);\r\n\r\n  const handleMobileOpen = useCallback(() => {\r\n    setMobileMenuPhase(prev => {\r\n      if (prev === 'open' || prev === 'opening') return prev;\r\n      return 'pre-opening';\r\n    });\r\n    setIsMobileOpen(true);\r\n  }, []);\r\n\r\n  const handleMobileClose = useCallback(() => {\r\n    setMobileMenuPhase(prev => (prev === 'idle' ? prev : 'closing'));\r\n    setIsMobileOpen(false);\r\n    setOpenDepth4(null);\r\n  }, []);\r\n\r\n  const handleMobileBackdropClick = useCallback((event: React.MouseEvent<HTMLDivElement>) => {\r\n    const target = event.target as HTMLElement;\r\n    const gnbWrap = mobileNavRef.current?.querySelector('.gnb-wrap');\r\n    if (gnbWrap && !gnbWrap.contains(target)) {\r\n      if (gnbWrap instanceof HTMLElement) {\r\n        gnbWrap.focus();\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const mobileTriggerContent = useMemo(() => {\r\n    if (mobileTrigger && isValidElement(mobileTrigger)) {\r\n      return cloneElement(mobileTrigger, {\r\n        onClick: (event: React.MouseEvent<HTMLButtonElement>) => {\r\n          if (typeof mobileTrigger.props.onClick === 'function') {\r\n            mobileTrigger.props.onClick(event);\r\n          }\r\n          if (!event.defaultPrevented) {\r\n            handleMobileOpen();\r\n          }\r\n        },\r\n        'aria-controls': mobileTrigger.props['aria-controls'] ?? mobileNavId,\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n      } as any);\r\n    }\r\n\r\n    return <MobileTriggerButton onClick={handleMobileOpen} aria-controls={mobileNavId} />;\r\n  }, [mobileTrigger, handleMobileOpen, mobileNavId]);\r\n\r\n  const mobileTriggerNode = useMemo(\r\n    () => <Portal container={mobileTriggerContainer}>{mobileTriggerContent}</Portal>,\r\n    [mobileTriggerContainer, mobileTriggerContent]\r\n  );\r\n\r\n  const isMobileMenuVisible = mobileMenuPhase !== 'idle';\r\n  const shouldApplyMobileOpenClasses = mobileMenuPhase === 'opening' || mobileMenuPhase === 'open';\r\n\r\n  const handleMobileMainClick = useCallback(\r\n    (event: React.MouseEvent<HTMLAnchorElement>, entry: { item: MobileMainItem; key: string }) => {\r\n      event.preventDefault();\r\n      const { item, key } = entry;\r\n      setMobileActiveMain(key);\r\n      const firstPanel = item.panels[0];\r\n      if (!firstPanel) return;\r\n      const panelKey = fallbackKey(firstPanel.id, `${key}-panel-0`);\r\n      const panelNode = mobilePanelRefs.current[panelKey];\r\n      const body = mobileBodyRef.current;\r\n      if (panelNode && body) {\r\n        body.scrollTo({ top: panelNode.offsetTop, left: 0, behavior: 'smooth' });\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const mobilePanelsFlat = useMemo(\r\n    () =>\r\n      mobileEntries.flatMap(entry =>\r\n        entry.item.panels.map((panel, panelIndex) => ({\r\n          panel,\r\n          panelKey: fallbackKey(panel.id, `${entry.key}-panel-${panelIndex}`),\r\n          ownerKey: entry.key,\r\n        }))\r\n      ),\r\n    [mobileEntries]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const body = mobileBodyRef.current;\r\n    if (!body) return;\r\n\r\n    const handler = () => {\r\n      let currentKey: string | null = null;\r\n      const scrollTop = body.scrollTop;\r\n\r\n      for (const { panelKey, ownerKey } of mobilePanelsFlat) {\r\n        const node = mobilePanelRefs.current[panelKey];\r\n        if (!node) continue;\r\n        if (scrollTop >= node.offsetTop - 10) {\r\n          currentKey = ownerKey;\r\n        }\r\n      }\r\n\r\n      if (currentKey) {\r\n        setMobileActiveMain(currentKey);\r\n      }\r\n    };\r\n\r\n    body.addEventListener('scroll', handler);\r\n    return () => body.removeEventListener('scroll', handler);\r\n  }, [mobilePanelsFlat]);\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      if (window.innerWidth >= breakpoint) {\r\n        setIsMobileOpen(false);\r\n      }\r\n    };\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  const toggleDepth3 = useCallback((key: string) => {\r\n    setOpenDepth3(prev => ({ ...prev, [key]: !prev[key] }));\r\n  }, []);\r\n\r\n  const openDepth4Panel = useCallback(\r\n    (event: React.MouseEvent<HTMLElement>, _item: MobileDepth4, key: string) => {\r\n      event.preventDefault();\r\n      setOpenDepth4(key);\r\n      const wrap = depth4Refs.current[key];\r\n      if (wrap) {\r\n        wrap.style.display = 'block';\r\n        requestAnimationFrame(() => {\r\n          wrap.classList.add('is-open');\r\n          const prevButton = wrap.querySelector<HTMLButtonElement>('.trigger-prev');\r\n          prevButton?.focus();\r\n        });\r\n      }\r\n      depth4TriggerRefs.current[key] = event.currentTarget as HTMLElement;\r\n    },\r\n    []\r\n  );\r\n\r\n  const closeDepth4Panel = useCallback((key: string) => {\r\n    const wrap = depth4Refs.current[key];\r\n    const trigger = depth4TriggerRefs.current[key];\r\n    if (wrap) {\r\n      wrap.classList.remove('is-open');\r\n      setTimeout(() => {\r\n        wrap.style.display = '';\r\n        trigger?.focus();\r\n      }, 250);\r\n    }\r\n    setOpenDepth4(current => (current === key ? null : current));\r\n  }, []);\r\n\r\n  const handleSearchSubmit = useCallback(\r\n    (event: React.FormEvent) => {\r\n      event.preventDefault();\r\n      const trimmed = searchQuery.trim();\r\n      if (!trimmed) return;\r\n      mobile.header?.search?.onSearch?.(trimmed);\r\n    },\r\n    [mobile.header?.search, searchQuery]\r\n  );\r\n\r\n  const renderDesktopLeafList = (items: DesktopLeafItem[], parentKey: string) => {\r\n    const hasDescription = items.some(item => item.description);\r\n\r\n    return (\r\n      <ul className={classNames(hasDescription && 'type-description')}>\r\n        {items.map((item, index) => {\r\n          const leafKey = fallbackKey(item.id, `${parentKey}-leaf-${index}`);\r\n          const content =\r\n            item.href && !item.asButton ? (\r\n              <a\r\n                href={item.href || '#'}\r\n                target={item.isExternal ? '_blank' : undefined}\r\n                title={item.isExternal ? '새 창 열림' : undefined}\r\n                onClick={item.onClick}\r\n              >\r\n                {item.label}\r\n                {item.isExternal && <i className=\"svg-icon ico-go\" />}\r\n              </a>\r\n            ) : (\r\n              <button type=\"button\" onClick={item.onClick}>\r\n                {item.label}\r\n              </button>\r\n            );\r\n\r\n          if (item.description) {\r\n            return (\r\n              <li key={leafKey}>\r\n                <h3 className=\"tit\">{content}</h3>\r\n                <p className=\"txt\">{item.description}</p>\r\n              </li>\r\n            );\r\n          }\r\n\r\n          return <li key={leafKey}>{content}</li>;\r\n        })}\r\n      </ul>\r\n    );\r\n  };\r\n\r\n  const renderDesktopBanner = (banner?: DesktopBanner) => {\r\n    if (!banner) return null;\r\n    return (\r\n      <div className=\"gnb-sub-banner\">\r\n        {banner.badgeText && <span className=\"krds-badge bg-secondary\">{banner.badgeText}</span>}\r\n        {banner.children}\r\n        <button type=\"button\" className=\"krds-btn medium text\" onClick={banner.onButtonClick}>\r\n          {banner.buttonText} <i className=\"svg-icon ico-angle right\" />\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderDesktopSubMenu = (\r\n    mainKey: string,\r\n    sectionEntry: { section: DesktopSubMenu; key: string }\r\n  ) => {\r\n    const { section, key: subKey } = sectionEntry;\r\n    const isActive = desktopActiveSub[mainKey] === subKey;\r\n    const panelId = toDomId(`gnb-sub-${subKey}`);\r\n\r\n    return (\r\n      <li key={subKey}>\r\n        <button\r\n          type=\"button\"\r\n          className={classNames('gnb-sub-trigger', isActive && 'active')}\r\n          data-trigger=\"gnb\"\r\n          aria-expanded={isActive ? 'true' : 'false'}\r\n          aria-controls={panelId}\r\n          onClick={() => handleDesktopSubClick(mainKey, subKey)}\r\n        >\r\n          {section.label}\r\n        </button>\r\n        <div\r\n          className={classNames(\r\n            'gnb-sub-list',\r\n            section.layout && section.layout !== 'default' && section.layout,\r\n            isActive && 'active'\r\n          )}\r\n          id={panelId}\r\n          ref={node => registerSubListRef(mainKey, subKey, node)}\r\n        >\r\n          <div className=\"gnb-sub-content\">\r\n            <h2 className=\"sub-title\">\r\n              <span>{section.label}</span>\r\n              {section.quickLinkHref && (\r\n                <a\r\n                  href={section.quickLinkHref || '#'}\r\n                  className=\"krds-btn link basic small\"\r\n                  target={section.quickLinkExternal ? '_blank' : undefined}\r\n                  title={section.quickLinkExternal ? '새 창 열림' : undefined}\r\n                >\r\n                  <span className=\"underline\">{section.quickLinkLabel ?? '바로가기'}</span>\r\n                  <i className=\"svg-icon ico-angle right\" />\r\n                </a>\r\n              )}\r\n            </h2>\r\n            {renderDesktopLeafList(section.items, subKey)}\r\n          </div>\r\n          {renderDesktopBanner(section.banner)}\r\n        </div>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  const renderDesktopSubLink = (sectionEntry: { section: DesktopSubLink; key: string }) => {\r\n    const { section, key } = sectionEntry;\r\n    return (\r\n      <li key={key}>\r\n        <a\r\n          href={section.href || '#'}\r\n          className=\"gnb-sub-trigger is-link\"\r\n          data-trigger=\"gnb\"\r\n          target={section.isExternal ? '_blank' : undefined}\r\n          title={section.isExternal ? '새 창 열림' : undefined}\r\n          onClick={section.onClick}\r\n        >\r\n          {section.label}\r\n        </a>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  const renderDesktopMainItem = (entry: { item: DesktopMainItem; key: string; index: number }) => {\r\n    const { item, key: mainKey, index } = entry;\r\n\r\n    if (item.type === 'link') {\r\n      const link = item as DesktopMainLink;\r\n      const triggerProps = {\r\n        'data-trigger': 'gnb' as const,\r\n        onKeyDown: (event: React.KeyboardEvent<HTMLElement>) => handleMainKeyDown(event, index),\r\n        ref: (node: HTMLElement | null) => registerMainTriggerRef(mainKey, node),\r\n      };\r\n\r\n      if (link.renderAsButton || !link.href) {\r\n        return (\r\n          <li key={mainKey}>\r\n            <button\r\n              type=\"button\"\r\n              className=\"gnb-main-trigger is-link\"\r\n              onClick={link.onClick}\r\n              {...triggerProps}\r\n            >\r\n              {link.label}\r\n            </button>\r\n          </li>\r\n        );\r\n      }\r\n\r\n      return (\r\n        <li key={mainKey}>\r\n          <a\r\n            href={link.href || '#'}\r\n            className=\"gnb-main-trigger is-link\"\r\n            target={link.isExternal ? '_blank' : undefined}\r\n            title={link.isExternal ? '새 창 열림' : undefined}\r\n            onClick={link.onClick}\r\n            {...triggerProps}\r\n          >\r\n            {link.label}\r\n          </a>\r\n        </li>\r\n      );\r\n    }\r\n\r\n    const dropdown = item as DesktopMainDropdown;\r\n    const isActive = desktopActiveMain === mainKey;\r\n    const toggleId = toDomId(`gnb-main-${mainKey}`);\r\n\r\n    const sectionEntries = dropdown.sections.map((section, sectionIndex) => ({\r\n      section,\r\n      key: fallbackKey(\r\n        (section as DesktopSubMenu | DesktopSubLink).id,\r\n        `${mainKey}-section-${sectionIndex}`\r\n      ),\r\n      index: sectionIndex,\r\n    }));\r\n\r\n    return (\r\n      <li key={mainKey}>\r\n        <button\r\n          type=\"button\"\r\n          className={classNames(\r\n            'gnb-main-trigger',\r\n            dropdown.isDropdownTrigger && 'is-dropdown',\r\n            isActive && 'active'\r\n          )}\r\n          data-trigger=\"gnb\"\r\n          aria-haspopup=\"true\"\r\n          aria-expanded={isActive ? 'true' : 'false'}\r\n          aria-controls={toggleId}\r\n          onClick={() => handleDesktopMainClick({ item, key: mainKey })}\r\n          onKeyDown={event => handleMainKeyDown(event, index)}\r\n          ref={node => registerMainTriggerRef(mainKey, node)}\r\n        >\r\n          {dropdown.label}\r\n        </button>\r\n        <div className={classNames('gnb-toggle-wrap', isActive && 'is-open')} id={toggleId}>\r\n          <div\r\n            className={classNames('gnb-main-list', dropdown.mainListClassName)}\r\n            data-has-submenu={\r\n              sectionEntries.some(section => section.section.type === 'menu') ? 'true' : 'false'\r\n            }\r\n            ref={node => registerMainListRef(mainKey, node)}\r\n          >\r\n            <ul>\r\n              {sectionEntries.map(sectionEntry =>\r\n                sectionEntry.section.type === 'menu'\r\n                  ? renderDesktopSubMenu(mainKey, {\r\n                      section: sectionEntry.section as DesktopSubMenu,\r\n                      key: sectionEntry.key,\r\n                    })\r\n                  : renderDesktopSubLink({\r\n                      section: sectionEntry.section as DesktopSubLink,\r\n                      key: sectionEntry.key,\r\n                    })\r\n              )}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  const renderMobileDepth3Item = (entry: {\r\n    item: MobileDepth3Item;\r\n    key: string;\r\n    index: number;\r\n  }) => {\r\n    const { item, key: depth3Key } = entry;\r\n\r\n    if (item.type === 'link') {\r\n      return (\r\n        <li key={depth3Key}>\r\n          <a href={item.href || '#'} className=\"depth3-trigger\">\r\n            {item.label}\r\n          </a>\r\n        </li>\r\n      );\r\n    }\r\n\r\n    const depth4 = item as MobileDepth4;\r\n    const isOpen = openDepth4 === depth3Key;\r\n    const depth4Entries = depth4.items.map((link, depth4Index) => ({\r\n      link,\r\n      key: fallbackKey(link.id, `${depth3Key}-depth4-${depth4Index}`),\r\n    }));\r\n\r\n    return (\r\n      <li key={depth3Key}>\r\n        <a\r\n          href=\"#\"\r\n          className={classNames('depth3-trigger', 'has-depth4', isOpen && 'active')}\r\n          onClick={event => openDepth4Panel(event, depth4, depth3Key)}\r\n          ref={node => registerDepth4TriggerRef(depth3Key, node)}\r\n        >\r\n          {depth4.label}\r\n        </a>\r\n        <div\r\n          className={classNames('depth4-wrap', isOpen && 'is-open')}\r\n          style={{ display: isOpen ? 'block' : undefined }}\r\n          ref={node => registerDepth4Ref(depth3Key, node)}\r\n        >\r\n          <div className=\"depth4-head\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"krds-btn icon trigger-prev\"\r\n              onClick={() => closeDepth4Panel(depth3Key)}\r\n            >\r\n              <span className=\"sr-only\">이전화면</span>\r\n              <i className=\"svg-icon ico-angle left\" />\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"krds-btn icon trigger-close\"\r\n              onClick={() => closeDepth4Panel(depth3Key)}\r\n            >\r\n              <span className=\"sr-only\">{DEFAULT_CLOSE_LABEL}</span>\r\n              <i className=\"svg-icon ico-popup-close\" />\r\n            </button>\r\n          </div>\r\n          <div className=\"depth4-body\">\r\n            <h4 className=\"sub-title\">{depth4.title}</h4>\r\n            <ul className=\"depth4-ul\">\r\n              {depth4Entries.map(entry => (\r\n                <li key={entry.key}>\r\n                  <a\r\n                    href={entry.link.href || '#'}\r\n                    target={entry.link.isExternal ? '_blank' : undefined}\r\n                    title={entry.link.isExternal ? '새 창 열림' : undefined}\r\n                  >\r\n                    {entry.link.label}\r\n                  </a>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  const renderMobilePanelItem = (entry: { item: MobilePanelItem; key: string; index: number }) => {\r\n    const { item, key } = entry;\r\n\r\n    if (item.type === 'link') {\r\n      const link = item as MobilePanelLink;\r\n      return (\r\n        <li key={key}>\r\n          <a href={link.href || '#'} className=\"gnb-sub-trigger\">\r\n            {link.label}\r\n          </a>\r\n        </li>\r\n      );\r\n    }\r\n\r\n    const depth3 = item as MobilePanelDepth3;\r\n    const depth3Key = key;\r\n    const isOpen = openDepth3[depth3Key] ?? false;\r\n\r\n    return (\r\n      <li key={depth3Key}>\r\n        <a\r\n          href=\"#\"\r\n          className={classNames('gnb-sub-trigger', 'has-depth3', isOpen && 'active')}\r\n          onClick={event => {\r\n            event.preventDefault();\r\n            toggleDepth3(depth3Key);\r\n          }}\r\n        >\r\n          {depth3.label}\r\n        </a>\r\n        <div className={classNames('depth3-wrap', isOpen && 'is-open')}>\r\n          <ul>\r\n            {depth3.items.map((child, childIndex) =>\r\n              renderMobileDepth3Item({\r\n                item: child,\r\n                key: fallbackKey(child.id, `${depth3Key}-child-${childIndex}`),\r\n                index: childIndex,\r\n              })\r\n            )}\r\n          </ul>\r\n        </div>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  const renderMobilePanel = (entry: { panel: MobilePanel; key: string; index: number }) => {\r\n    const { panel, key: panelKey } = entry;\r\n    const panelDomId = toDomId(panelKey);\r\n\r\n    return (\r\n      <div\r\n        className=\"gnb-sub-list\"\r\n        id={panelDomId}\r\n        key={panelKey}\r\n        ref={node => registerPanelRef(panelKey, node)}\r\n      >\r\n        <h2 className=\"sub-title\">{panel.label}</h2>\r\n        <ul>\r\n          {panel.items.map((item, itemIndex) =>\r\n            renderMobilePanelItem({\r\n              item,\r\n              key: fallbackKey(\r\n                (item as MobilePanelLink | MobilePanelDepth3).id,\r\n                `${panelKey}-item-${itemIndex}`\r\n              ),\r\n              index: itemIndex,\r\n            })\r\n          )}\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderMobileMainItem = (entry: { item: MobileMainItem; key: string; index: number }) => {\r\n    const { item, key: mainKey } = entry;\r\n    const firstPanel = item.panels[0];\r\n    const firstPanelKey = firstPanel ? fallbackKey(firstPanel.id, `${mainKey}-panel-0`) : mainKey;\r\n    const href = `#${toDomId(firstPanelKey)}`;\r\n\r\n    return (\r\n      <li key={mainKey}>\r\n        <a\r\n          href={href}\r\n          className={classNames('gnb-main-trigger', mobileActiveMain === mainKey && 'active')}\r\n          onClick={event => handleMobileMainClick(event, entry)}\r\n        >\r\n          {item.label}\r\n        </a>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  const renderUtilityItem = (\r\n    item: MobileLinkItem | { id?: string; label: string; href?: string; onClick?: () => void },\r\n    index: number\r\n  ) => {\r\n    const key = fallbackKey(item.id as string | undefined, `utility-${index}`);\r\n    if ('href' in item && item.href) {\r\n      return (\r\n        <li key={key}>\r\n          <a href={item.href || '#'} className=\"krds-btn xsmall text\" onClick={item.onClick}>\r\n            {item.label}\r\n          </a>\r\n        </li>\r\n      );\r\n    }\r\n    return (\r\n      <li key={key}>\r\n        <button type=\"button\" className=\"krds-btn xsmall text\" onClick={item.onClick}>\r\n          {item.label}\r\n        </button>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  const desktopMenuContent = (\r\n    <nav className=\"krds-main-menu\" ref={desktopNavRef}>\r\n      <div className=\"inner\">\r\n        <ul className=\"gnb-menu\">{desktopEntries.map(renderDesktopMainItem)}</ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n\r\n  const mobileMenuContent = (\r\n    <div\r\n      id={mobileNavId}\r\n      className={classNames(\r\n        'krds-main-menu-mobile',\r\n        shouldApplyMobileOpenClasses && 'is-backdrop',\r\n        shouldApplyMobileOpenClasses && 'is-open'\r\n      )}\r\n      style={{ display: isMobileMenuVisible ? 'block' : 'none' }}\r\n      ref={mobileNavRef}\r\n      onClick={handleMobileBackdropClick}\r\n    >\r\n      <div className=\"gnb-wrap\">\r\n        <div className=\"gnb-header\">\r\n          {mobile.header?.utilities && mobile.header.utilities.length > 0 && (\r\n            <div className=\"gnb-utils\">\r\n              <ul className=\"utility-list\">\r\n                {mobile.header.utilities.map((util, index) => renderUtilityItem(util, index))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n\r\n          {mobile.header?.login && (\r\n            <div className=\"gnb-login\">\r\n              {mobile.header.login.isLoggedIn ? (\r\n                <>\r\n                  {mobile.header.login.userName && (\r\n                    <span className=\"user\">{mobile.header.login.userName}</span>\r\n                  )}\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"krds-btn large text\"\r\n                    onClick={mobile.header.login.onLogout}\r\n                  >\r\n                    <i className=\"svg-icon ico-logout\" />\r\n                    {mobile.header.login.logoutText ?? '로그아웃'}\r\n                  </button>\r\n                </>\r\n              ) : (\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"krds-btn large text\"\r\n                  onClick={mobile.header.login.onLogin}\r\n                >\r\n                  <i className=\"svg-icon ico-log\" />\r\n                  {mobile.header.login.loginText ?? '로그인을 해주세요'}\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {mobile.header?.services && mobile.header.services.length > 0 && (\r\n            <div className=\"gnb-service-menu\">\r\n              {mobile.header.services.map((service, index) => {\r\n                const key = fallbackKey(service.id, `service-${index}`);\r\n                return (\r\n                  <a\r\n                    key={key}\r\n                    href={service.href || '#'}\r\n                    className=\"link\"\r\n                    onClick={service.onClick}\r\n                  >\r\n                    {service.label}\r\n                  </a>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n\r\n          {mobile.header?.search && (\r\n            <form className=\"sch-input\" onSubmit={handleSearchSubmit}>\r\n              <input\r\n                type=\"text\"\r\n                className=\"krds-input\"\r\n                value={searchQuery}\r\n                onChange={event => setSearchQuery(event.target.value)}\r\n                placeholder={mobile.header.search.placeholder ?? DEFAULT_SEARCH_PLACEHOLDER}\r\n                title=\"찾고자 하는 메뉴명 입력\"\r\n              />\r\n              <button type=\"submit\" className=\"krds-btn medium icon ico-search\">\r\n                <span className=\"sr-only\">{DEFAULT_SEARCH_SR}</span>\r\n                <i className=\"svg-icon ico-sch\" />\r\n              </button>\r\n            </form>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"gnb-body\" ref={mobileBodyRef}>\r\n          <div className=\"gnb-menu\">\r\n            <div className=\"menu-wrap\">\r\n              <ul>{mobileEntries.map(renderMobileMainItem)}</ul>\r\n            </div>\r\n            <div className=\"submenu-wrap\">\r\n              {mobileEntries.flatMap(entry =>\r\n                entry.item.panels.map((panel, panelIndex) =>\r\n                  renderMobilePanel({\r\n                    panel,\r\n                    key: fallbackKey(panel.id, `${entry.key}-panel-${panelIndex}`),\r\n                    index: panelIndex,\r\n                  })\r\n                )\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {mobile.bottomLinks && mobile.bottomLinks.length > 0 && (\r\n            <div className=\"gnb-bottom\">\r\n              {mobile.bottomLinks.map((link, index) => (\r\n                <a\r\n                  key={fallbackKey(link.id, `bottom-${index}`)}\r\n                  href={link.href || '#'}\r\n                  className=\"krds-btn small text\"\r\n                  target={link.isExternal ? '_blank' : undefined}\r\n                  title={link.isExternal ? '새 창 열림' : undefined}\r\n                  onClick={link.onClick}\r\n                >\r\n                  {link.label}\r\n                  <i className={`svg-icon ${link.isExternal ? 'ico-go' : 'ico-angle right'}`} />\r\n                </a>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <button\r\n          type=\"button\"\r\n          className=\"krds-btn medium icon\"\r\n          id=\"close-nav\"\r\n          onClick={handleMobileClose}\r\n        >\r\n          <span className=\"sr-only\">{DEFAULT_CLOSE_LABEL}</span>\r\n          <i className=\"svg-icon ico-popup-close\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {mobileTriggerNode}\r\n      {desktopPortalId ? (\r\n        <Portal container={desktopPortalId}>{desktopMenuContent}</Portal>\r\n      ) : (\r\n        desktopMenuContent\r\n      )}\r\n      {mobilePortalId ? (\r\n        <Portal container={mobilePortalId}>{mobileMenuContent}</Portal>\r\n      ) : (\r\n        mobileMenuContent\r\n      )}\r\n    </>\r\n  );\r\n});\r\n\r\nMainMenu.displayName = 'MainMenu';\r\n\r\nconst MainMenuWithStatic = MainMenu as typeof MainMenu & {\r\n  MobileTrigger: typeof MobileTriggerButton;\r\n};\r\n\r\nMainMenuWithStatic.MobileTrigger = MobileTriggerButton;\r\n\r\nexport default MainMenuWithStatic;\r\n","import { Dropdown } from '@/components/Dropdown';\r\nimport MainMenu from '@/components/MainMenu/MainMenu';\r\nimport type { MobileTriggerProps } from '@/components/MainMenu/MainMenu.types';\r\nimport { classNames } from '@/utils';\r\nimport {\r\n  Children,\r\n  cloneElement,\r\n  createContext,\r\n  forwardRef,\r\n  isValidElement,\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useId,\r\n  useMemo,\r\n  useState,\r\n} from 'react';\r\nimport type { ButtonHTMLAttributes, ComponentPropsWithoutRef, ReactNode, Ref } from 'react';\r\nimport type {\r\n  HeaderBrandingProps,\r\n  HeaderComponentSubmodules,\r\n  HeaderContextType,\r\n  HeaderMainMenuProps,\r\n  HeaderMyGovProps,\r\n  HeaderNaviButtonJoinProps,\r\n  HeaderNaviButtonLoginProps,\r\n  HeaderNaviButtonLogoutProps,\r\n  HeaderNaviButtonSearchProps,\r\n  HeaderNaviProps,\r\n  HeaderProps,\r\n  HeaderUtilitiesProps,\r\n  HeaderUtilityDropdownProps,\r\n  HeaderUtilityProps,\r\n} from './Header.types';\r\n\r\nconst Slot = forwardRef<any, { children?: ReactNode } & Record<string, unknown>>(\r\n  ({ children, ...props }, ref) => {\r\n    if (isValidElement(children)) {\r\n      return cloneElement(children, {\r\n        ...props,\r\n        ...(children as any)?.props,\r\n        ref,\r\n      });\r\n    }\r\n    return null;\r\n  }\r\n);\r\nSlot.displayName = 'HeaderSlot';\r\n\r\nconst HeaderContext = createContext<HeaderContextType | null>(null);\r\n\r\nconst useHeaderContext = () => {\r\n  const context = useContext(HeaderContext);\r\n  if (!context) {\r\n    throw new Error('Header compound components must be used within Header');\r\n  }\r\n  return context;\r\n};\r\n\r\nconst MyGovContext = createContext<{\r\n  close: () => void;\r\n} | null>(null);\r\n\r\nconst useMyGovContext = () => useContext(MyGovContext);\r\n\r\nconst DEFAULT_HEADER_ID = 'krds-header';\r\nconst DEFAULT_MOBILE_TRIGGER_PORTAL_ID = 'krds-header-mobile-trigger';\r\nconst DEFAULT_DESKTOP_MENU_PORTAL_ID = 'krds-header-in';\r\nconst DEFAULT_MOBILE_MENU_PORTAL_ID = 'krds-header';\r\n\r\nconst HeaderComponent = forwardRef<HTMLElement, HeaderProps>((props, ref) => {\r\n  const {\r\n    children,\r\n    id,\r\n    className,\r\n    mobileMenuTriggerPortalId,\r\n    desktopMenuPortalId = DEFAULT_DESKTOP_MENU_PORTAL_ID,\r\n    mobileMenuPortalId = DEFAULT_MOBILE_MENU_PORTAL_ID,\r\n    ...restProps\r\n  } = props;\r\n\r\n  const headerId = id ?? DEFAULT_HEADER_ID;\r\n\r\n  const [openDropdownId, setOpenDropdownId] = useState<string | null>(null);\r\n\r\n  const resolvedTriggerPortalId = mobileMenuTriggerPortalId ?? DEFAULT_MOBILE_TRIGGER_PORTAL_ID;\r\n\r\n  const setDropdown = useCallback((dropdownId: string | null) => {\r\n    setOpenDropdownId(dropdownId);\r\n  }, []);\r\n\r\n  const closeDropdowns = useCallback(() => {\r\n    setDropdown(null);\r\n  }, [setDropdown]);\r\n\r\n  useEffect(() => {\r\n    const handleDocumentClick = (event: MouseEvent) => {\r\n      const target = event.target as Element | null;\r\n      if (!target?.closest(`#${headerId} .krds-drop-wrap`)) {\r\n        closeDropdowns();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('click', handleDocumentClick);\r\n    return () => document.removeEventListener('click', handleDocumentClick);\r\n  }, [closeDropdowns, headerId]);\r\n\r\n  useEffect(() => {\r\n    const handleKeyUp = (event: KeyboardEvent) => {\r\n      if (event.key === 'Escape') {\r\n        closeDropdowns();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keyup', handleKeyUp);\r\n    return () => document.removeEventListener('keyup', handleKeyUp);\r\n  }, [closeDropdowns]);\r\n\r\n  useEffect(() => {\r\n    let lastScrollY = window.scrollY;\r\n\r\n    const handleScroll = () => {\r\n      const wrap = document.querySelector('#wrap');\r\n      const container = document.querySelector('#container') as HTMLElement | null;\r\n      if (!wrap || !container) return;\r\n\r\n      const containerOffsetTop = container.offsetTop;\r\n      const scrollY = window.scrollY;\r\n      const scrollDown = scrollY > lastScrollY;\r\n      const scrollUp = scrollY < lastScrollY;\r\n\r\n      if (scrollY > containerOffsetTop + 50 && scrollDown) {\r\n        wrap.classList.add('scroll-down');\r\n        wrap.classList.remove('scroll-up');\r\n      } else if (scrollY > containerOffsetTop + 50 && scrollUp) {\r\n        wrap.classList.add('scroll-up');\r\n        wrap.classList.remove('scroll-down');\r\n      } else {\r\n        wrap.classList.remove('scroll-down', 'scroll-up');\r\n      }\r\n\r\n      lastScrollY = scrollY;\r\n    };\r\n\r\n    window.addEventListener('scroll', handleScroll, { passive: true });\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n  const contextValue = useMemo<HeaderContextType>(\r\n    () => ({\r\n      openDropdownId,\r\n      setDropdown,\r\n      closeDropdowns,\r\n      mobileTriggerPortalId: resolvedTriggerPortalId,\r\n      desktopMenuPortalId,\r\n      mobileMenuPortalId,\r\n    }),\r\n    [\r\n      openDropdownId,\r\n      setDropdown,\r\n      closeDropdowns,\r\n      resolvedTriggerPortalId,\r\n      desktopMenuPortalId,\r\n      mobileMenuPortalId,\r\n    ]\r\n  );\r\n\r\n  return (\r\n    <HeaderContext.Provider value={contextValue}>\r\n      <header ref={ref} id={headerId} className={className} {...restProps}>\r\n        <div id={desktopMenuPortalId} className=\"header-in\">\r\n          {children}\r\n        </div>\r\n      </header>\r\n    </HeaderContext.Provider>\r\n  );\r\n});\r\n\r\nconst Container = forwardRef<HTMLDivElement, ComponentPropsWithoutRef<'div'>>(\r\n  ({ children, className, ...props }, ref) => (\r\n    <div ref={ref} className={classNames('header-container', className)} {...props}>\r\n      <div className=\"inner\">{children}</div>\r\n    </div>\r\n  )\r\n);\r\n\r\nconst Utilities = ({ children, className, ...props }: HeaderUtilitiesProps) => {\r\n  const items = Children.map(children, child => {\r\n    if (!isValidElement(child)) {\r\n      return <UtilityItem>{child}</UtilityItem>;\r\n    }\r\n\r\n    const displayName = (child.type as { displayName?: string }).displayName;\r\n    if (displayName === UtilityItem.displayName || displayName === UtilityDropdown.displayName) {\r\n      return child;\r\n    }\r\n\r\n    return <UtilityItem>{child}</UtilityItem>;\r\n  });\r\n\r\n  return (\r\n    <div className={classNames('header-utility', className)} {...props}>\r\n      <ul className=\"utility-list\">{items}</ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst UtilityItem = forwardRef<HTMLLIElement, HeaderUtilityProps>(\r\n  ({ className, children, ...props }, ref) => {\r\n    return (\r\n      <li ref={ref} className={className} {...props}>\r\n        {children}\r\n      </li>\r\n    );\r\n  }\r\n);\r\n\r\nconst UtilityDropdown = ({\r\n  id,\r\n  label,\r\n  buttonText,\r\n  children,\r\n  dropdownClassName,\r\n  itemClassName,\r\n  buttonClassName,\r\n  ...dropdownProps\r\n}: HeaderUtilityDropdownProps) => {\r\n  const generatedId = useId();\r\n  const dropdownId = id ?? `utility-${generatedId}`;\r\n  const { openDropdownId, setDropdown, closeDropdowns } = useHeaderContext();\r\n  const isOpen = openDropdownId === dropdownId;\r\n\r\n  const handleOpenChange = useCallback(\r\n    (nextOpen: boolean) => {\r\n      if (nextOpen) {\r\n        setDropdown(dropdownId);\r\n      } else {\r\n        closeDropdowns();\r\n      }\r\n    },\r\n    [closeDropdowns, dropdownId, setDropdown]\r\n  );\r\n\r\n  const resolvedButtonText = buttonText ?? (\r\n    <>\r\n      {label}\r\n      <i className=\"svg-icon ico-toggle\"></i>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <UtilityItem className={itemClassName}>\r\n      <Dropdown\r\n        {...dropdownProps}\r\n        buttonText={resolvedButtonText}\r\n        buttonClassName={classNames('krds-btn small text drop-btn', buttonClassName)}\r\n        className={classNames(dropdownClassName)}\r\n        isOpen={isOpen}\r\n        onOpenChange={handleOpenChange}\r\n      >\r\n        {children}\r\n      </Dropdown>\r\n    </UtilityItem>\r\n  );\r\n};\r\n\r\nconst Branding = ({\r\n  logoHref = '#',\r\n  onLogoClick,\r\n  logoAltText = 'KRDS - Korea Design System',\r\n  children,\r\n  className,\r\n  ...props\r\n}: HeaderBrandingProps) => (\r\n  <div className={classNames('header-branding', className)} {...props}>\r\n    <h2 className=\"logo\">\r\n      {logoHref ? (\r\n        <a href={logoHref} onClick={onLogoClick}>\r\n          <span className=\"sr-only\">{logoAltText}</span>\r\n        </a>\r\n      ) : (\r\n        <button type=\"button\" onClick={onLogoClick}>\r\n          <span className=\"sr-only\">{logoAltText}</span>\r\n        </button>\r\n      )}\r\n    </h2>\r\n    {children}\r\n  </div>\r\n);\r\n\r\nconst Navi = ({ children, className, ...props }: HeaderNaviProps) => {\r\n  const { mobileTriggerPortalId } = useHeaderContext();\r\n  return (\r\n    <div className={classNames('header-actions', className)} {...props}>\r\n      {children}\r\n      <div\r\n        id={mobileTriggerPortalId}\r\n        className=\"header-mobile-trigger\"\r\n        data-mobile-trigger=\"true\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst NaviButtonSearch = forwardRef<HTMLButtonElement, HeaderNaviButtonSearchProps>(\r\n  (\r\n    { label = '통합검색', title = '통합검색 레이어', className, type = 'button', ...props },\r\n    ref\r\n  ) => (\r\n    <button\r\n      type={type}\r\n      className={classNames('btn-navi sch', className)}\r\n      title={title}\r\n      ref={ref}\r\n      {...props}\r\n    >\r\n      {label}\r\n    </button>\r\n  )\r\n);\r\n\r\nconst NaviButtonLogin = forwardRef<\r\n  HTMLAnchorElement | HTMLButtonElement,\r\n  HeaderNaviButtonLoginProps\r\n>((props, ref) => {\r\n  if ('href' in props && props.href) {\r\n    const { href, label = '로그인', className, ...anchorProps } = props;\r\n    return (\r\n      <a\r\n        href={href}\r\n        className={classNames('btn-navi login', className)}\r\n        ref={ref as Ref<HTMLAnchorElement>}\r\n        {...anchorProps}\r\n      >\r\n        {label}\r\n      </a>\r\n    );\r\n  }\r\n\r\n  const { label = '로그인', className, type = 'button', ...buttonProps } = props;\r\n  return (\r\n    <button\r\n      type={type as ButtonHTMLAttributes<HTMLButtonElement>['type']}\r\n      className={classNames('btn-navi login', className)}\r\n      ref={ref as Ref<HTMLButtonElement>}\r\n      {...(buttonProps as ButtonHTMLAttributes<HTMLButtonElement>)}\r\n    >\r\n      {label}\r\n    </button>\r\n  );\r\n});\r\n\r\nconst NaviButtonJoin = forwardRef<HTMLButtonElement, HeaderNaviButtonJoinProps>(\r\n  ({ label = '회원가입', className, type = 'button', ...props }, ref) => (\r\n    <button type={type} className={classNames('btn-navi join', className)} ref={ref} {...props}>\r\n      {label}\r\n    </button>\r\n  )\r\n);\r\n\r\nconst NaviButtonLogout = forwardRef<HTMLButtonElement, HeaderNaviButtonLogoutProps>(\r\n  ({ children = '로그아웃', className, onClick, type = 'button', ...props }, ref) => {\r\n    const myGovContext = useMyGovContext();\r\n    const handleClick: React.MouseEventHandler<HTMLButtonElement> = event => {\r\n      onClick?.(event);\r\n      if (!event.defaultPrevented) {\r\n        myGovContext?.close();\r\n      }\r\n    };\r\n\r\n    return (\r\n      <button\r\n        type={type}\r\n        className={classNames('krds-btn medium text', className)}\r\n        ref={ref}\r\n        onClick={handleClick}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </button>\r\n    );\r\n  }\r\n);\r\n\r\nconst MyGov = forwardRef<HTMLButtonElement, HeaderMyGovProps>(\r\n  (\r\n    {\r\n      label = '나의 GOV',\r\n      name,\r\n      remainingTime,\r\n      remainingTimeLabel = '로그아웃까지 남은 시간',\r\n      extendTimeLabel = '시간 연장',\r\n      onExtendTime,\r\n      items,\r\n      className,\r\n      buttonClassName,\r\n      dropdownId,\r\n      ...buttonProps\r\n    },\r\n    ref\r\n  ) => {\r\n    const generatedId = useId();\r\n    const id = dropdownId ?? `my-gov-${generatedId}`;\r\n    const { openDropdownId, setDropdown, closeDropdowns } = useHeaderContext();\r\n    const isOpen = openDropdownId === id;\r\n\r\n    const handleOpenChange = useCallback(\r\n      (nextOpen: boolean) => {\r\n        if (nextOpen) {\r\n          setDropdown(id);\r\n        } else {\r\n          closeDropdowns();\r\n        }\r\n      },\r\n      [closeDropdowns, id, setDropdown]\r\n    );\r\n\r\n    const contextValue = useMemo(\r\n      () => ({\r\n        close: closeDropdowns,\r\n      }),\r\n      [closeDropdowns]\r\n    );\r\n\r\n    const { onClick, ...restButtonProps } = buttonProps;\r\n    void onClick;\r\n\r\n    return (\r\n      <MyGovContext.Provider value={contextValue}>\r\n        <Dropdown\r\n          ref={ref}\r\n          isOpen={isOpen}\r\n          onOpenChange={handleOpenChange}\r\n          className={classNames('my-drop', className)}\r\n          buttonText={label}\r\n          buttonClassName={classNames('btn-navi my drop-btn', buttonClassName, isOpen && 'active')}\r\n          {...restButtonProps}\r\n        >\r\n          <Dropdown.TopSection>\r\n            <p className=\"my-name\">{name}</p>\r\n            {remainingTime && (\r\n              <dl className=\"my-time\">\r\n                <dt>{remainingTimeLabel}</dt>\r\n                <dd>\r\n                  <span className=\"time\">{remainingTime}</span>\r\n                  {onExtendTime && (\r\n                    <button type=\"button\" className=\"krds-btn medium text\" onClick={onExtendTime}>\r\n                      {extendTimeLabel}\r\n                    </button>\r\n                  )}\r\n                </dd>\r\n              </dl>\r\n            )}\r\n          </Dropdown.TopSection>\r\n\r\n          {items && items.length > 0 && (\r\n            <Dropdown.List>\r\n              {items.map((item, index) => {\r\n                if (item.href) {\r\n                  const {\r\n                    key: _key,\r\n                    label: itemLabel,\r\n                    className: itemClassName,\r\n                    onClick,\r\n                    href,\r\n                    ...anchorProps\r\n                  } = item;\r\n\r\n                  const handleClick: React.MouseEventHandler<HTMLAnchorElement> = event => {\r\n                    onClick?.(event);\r\n                    if (!event.defaultPrevented) {\r\n                      closeDropdowns();\r\n                    }\r\n                  };\r\n\r\n                  return (\r\n                    <li key={item.key ?? index}>\r\n                      <a\r\n                        href={href}\r\n                        className={classNames('item-link', itemClassName)}\r\n                        onClick={handleClick}\r\n                        {...anchorProps}\r\n                      >\r\n                        {itemLabel}\r\n                      </a>\r\n                    </li>\r\n                  );\r\n                }\r\n\r\n                const {\r\n                  key: _key,\r\n                  label: itemLabel,\r\n                  className: itemClassName,\r\n                  onClick,\r\n                  type = 'button',\r\n                  ...buttonItemProps\r\n                } = item;\r\n\r\n                const handleClick: React.MouseEventHandler<HTMLButtonElement> = event => {\r\n                  (onClick as React.MouseEventHandler<HTMLButtonElement>)?.(event);\r\n                  if (!event.defaultPrevented) {\r\n                    closeDropdowns();\r\n                  }\r\n                };\r\n\r\n                return (\r\n                  <li key={item.key ?? index}>\r\n                    <button\r\n                      type={type as ButtonHTMLAttributes<HTMLButtonElement>['type']}\r\n                      className={classNames('item-link', itemClassName)}\r\n                      onClick={handleClick}\r\n                      {...(buttonItemProps as ButtonHTMLAttributes<HTMLButtonElement>)}\r\n                    >\r\n                      {itemLabel}\r\n                    </button>\r\n                  </li>\r\n                );\r\n              })}\r\n            </Dropdown.List>\r\n          )}\r\n\r\n          <Dropdown.BottomSection>\r\n            <Header.NaviButton.Logout onClick={() => console.log('logout')} />\r\n          </Dropdown.BottomSection>\r\n        </Dropdown>\r\n      </MyGovContext.Provider>\r\n    );\r\n  }\r\n);\r\n\r\nconst HeaderMainMenu = forwardRef<HTMLElement, HeaderMainMenuProps>(\r\n  ({ mobileTrigger, mobileTriggerProps, allMenuButtonLabel = '전체메뉴', ...rest }, ref) => {\r\n    const { mobileTriggerPortalId, desktopMenuPortalId, mobileMenuPortalId } = useHeaderContext();\r\n\r\n    const triggerProps: MobileTriggerProps = {\r\n      ...mobileTriggerProps,\r\n      label: mobileTriggerProps?.label ?? allMenuButtonLabel,\r\n    };\r\n\r\n    const fallbackTrigger = <MainMenu.MobileTrigger {...triggerProps} />;\r\n    const triggerNode = mobileTrigger ?? fallbackTrigger;\r\n\r\n    return (\r\n      <MainMenu\r\n        ref={ref}\r\n        {...rest}\r\n        mobileTrigger={triggerNode}\r\n        mobileTriggerPortalId={mobileTriggerPortalId}\r\n        desktopPortalId={desktopMenuPortalId}\r\n        mobilePortalId={mobileMenuPortalId}\r\n      />\r\n    );\r\n  }\r\n);\r\n\r\nHeaderComponent.displayName = 'Header';\r\nContainer.displayName = 'Header.Container';\r\nUtilities.displayName = 'Header.Utilities';\r\nUtilityItem.displayName = 'Header.Utility';\r\nUtilityDropdown.displayName = 'Header.UtilityDropdown';\r\nBranding.displayName = 'Header.Branding';\r\nNavi.displayName = 'Header.Navi';\r\nNaviButtonSearch.displayName = 'Header.NaviButton.Search';\r\nNaviButtonLogin.displayName = 'Header.NaviButton.Login';\r\nNaviButtonJoin.displayName = 'Header.NaviButton.Join';\r\nNaviButtonLogout.displayName = 'Header.NaviButton.Logout';\r\nMyGov.displayName = 'Header.NaviButton.MyGov';\r\nHeaderMainMenu.displayName = 'Header.MainMenu';\r\n\r\nconst Header = HeaderComponent as typeof HeaderComponent & HeaderComponentSubmodules;\r\n\r\nHeader.Container = Container;\r\nHeader.Utilities = Utilities;\r\nHeader.Utility = Object.assign(UtilityItem, {\r\n  Dropdown: UtilityDropdown,\r\n  DropdownItem: Dropdown.Item,\r\n});\r\nHeader.Branding = Branding;\r\nHeader.Navi = Navi;\r\nHeader.NaviButton = {\r\n  Search: NaviButtonSearch,\r\n  Login: NaviButtonLogin,\r\n  Join: NaviButtonJoin,\r\n  MyGov,\r\n  Logout: NaviButtonLogout,\r\n};\r\nHeader.MainMenu = HeaderMainMenu;\r\n\r\nexport { Header };\r\n","import { classNames } from '@/utils';\r\nimport { forwardRef } from 'react';\r\nimport { TextListItemProps, TextListProps } from './TextList.types';\r\n\r\n/**\r\n * KRDS TextList Component\r\n * @param type 텍스트 목록 타입 ('decimal' | 'dash' | 'hollow' | 'ordered')\r\n * @param children 자식 요소\r\n * @param className 커스텀 클래스명\r\n */\r\nexport const TextList = forwardRef<HTMLUListElement | HTMLOListElement, TextListProps>(\r\n  ({ type = 'decimal', children, className, ...props }, ref) => {\r\n    const isOrdered = type === 'ordered';\r\n\r\n    if (isOrdered) {\r\n      return (\r\n        <ol\r\n          ref={ref as React.Ref<HTMLOListElement>}\r\n          className={classNames('krds-info-list', type, className)}\r\n          {...props}\r\n        >\r\n          {children}\r\n        </ol>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <ul\r\n        ref={ref as React.Ref<HTMLUListElement>}\r\n        className={classNames('krds-info-list', type, className)}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </ul>\r\n    );\r\n  }\r\n);\r\n\r\nTextList.displayName = 'TextList';\r\n\r\n/**\r\n * KRDS TextListItem Component\r\n * @param children 자식 요소\r\n * @param className 커스텀 클래스명\r\n * @param number 번호 (ordered 타입에서 사용)\r\n */\r\nexport const TextListItem = forwardRef<HTMLLIElement, TextListItemProps>(\r\n  ({ children, className, number, ...props }, ref) => {\r\n    return (\r\n      <li ref={ref} className={className} {...props}>\r\n        {number && <span className=\"num\">{number}</span>}\r\n        {children}\r\n      </li>\r\n    );\r\n  }\r\n);\r\n\r\nTextListItem.displayName = 'TextListItem';\r\n","import Button from '@/components/Button';\r\nimport { Disclosure } from '@/components/Disclosure';\r\nimport { TextList, TextListItem } from '@/components/TextList';\r\nimport { useUncontrolled } from '@/hooks/use-uncontrolled';\r\nimport { classNames } from '@/utils';\r\nimport React, {\r\n  createContext,\r\n  forwardRef,\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useId,\r\n  useMemo,\r\n  useRef,\r\n} from 'react';\r\nimport {\r\n  HelpLinkListProps,\r\n  HelpPanelCloseProps,\r\n  HelpPanelContentProps,\r\n  HelpPanelContextValue,\r\n  HelpPanelProps,\r\n  HelpPanelTriggerProps,\r\n  HelpSectionProps,\r\n} from './HelpPanel.types';\r\n\r\nconst HelpPanelContext = createContext<HelpPanelContextValue | null>(null);\r\n\r\nconst useHelpPanelContext = () => useContext(HelpPanelContext);\r\n\r\n/**\r\n * KRDS HelpPanel Component\r\n * @param isOpen 도움말 패널 열림 상태\r\n * @param defaultOpen 비제어 상태에서 사용할 초기 열림 상태\r\n * @param onOpenChange 도움말 패널 열림/닫힘 상태 변경 핸들러\r\n * @param className 사용자 정의 클래스명\r\n */\r\nconst HelpPanel = forwardRef<HTMLDivElement, HelpPanelProps>(\r\n  ({ isOpen, defaultOpen = false, onOpenChange, children, className, ...props }, ref) => {\r\n    const [openState, setOpenState] = useUncontrolled<boolean>({\r\n      value: isOpen,\r\n      defaultValue: defaultOpen,\r\n      onChange: onOpenChange,\r\n    });\r\n\r\n    const helpPanelRef = useRef<HTMLDivElement | null>(null);\r\n    const lastFocusedElementRef = useRef<HTMLElement | null>(null);\r\n    const previousIsOpenRef = useRef<boolean>(Boolean(openState));\r\n    const panelId = useId();\r\n\r\n    const childArray = React.Children.toArray(children);\r\n    const triggerElements: React.ReactNode[] = [];\r\n    const panelChildren = childArray.filter(child => {\r\n      if (!React.isValidElement(child)) {\r\n        return true;\r\n      }\r\n\r\n      const elementType = child.type as { displayName?: string; name?: string };\r\n      const displayName =\r\n        typeof elementType === 'function' || typeof elementType === 'object'\r\n          ? elementType.displayName ?? elementType.name\r\n          : undefined;\r\n\r\n      if (elementType === HelpPanelTrigger || displayName === 'HelpPanelTrigger') {\r\n        triggerElements.push(child);\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    });\r\n\r\n    const setOpen = useCallback(\r\n      (nextOpen: boolean) => {\r\n        if (nextOpen) {\r\n          lastFocusedElementRef.current = document.activeElement as HTMLElement | null;\r\n        }\r\n        setOpenState(nextOpen);\r\n      },\r\n      [setOpenState]\r\n    );\r\n\r\n    const open = useCallback(() => setOpen(true), [setOpen]);\r\n    const close = useCallback(() => setOpen(false), [setOpen]);\r\n    const toggle = useCallback(() => setOpen(!openState), [openState, setOpen]);\r\n\r\n    useEffect(() => {\r\n      const helpPanel = helpPanelRef.current;\r\n      if (!helpPanel) {\r\n        return;\r\n      }\r\n\r\n      const nextIsOpen = Boolean(openState);\r\n\r\n      if (nextIsOpen && !previousIsOpenRef.current) {\r\n        if (!lastFocusedElementRef.current) {\r\n          lastFocusedElementRef.current = document.activeElement as HTMLElement | null;\r\n        }\r\n\r\n        const focusableElements = helpPanel.querySelectorAll(\r\n          'a, button, [tabindex=\"0\"], input, textarea, select'\r\n        );\r\n        if (focusableElements.length > 0) {\r\n          (focusableElements[0] as HTMLElement).focus();\r\n        }\r\n      }\r\n\r\n      if (!nextIsOpen && previousIsOpenRef.current) {\r\n        lastFocusedElementRef.current?.focus?.();\r\n        lastFocusedElementRef.current = null;\r\n      }\r\n\r\n      previousIsOpenRef.current = nextIsOpen;\r\n    }, [openState]);\r\n\r\n    const handleKeyDown = (event: React.KeyboardEvent) => {\r\n      if (event.key === 'Escape') {\r\n        close();\r\n      }\r\n    };\r\n\r\n    const contextValue = useMemo<HelpPanelContextValue>(\r\n      () => ({\r\n        isOpen: Boolean(openState),\r\n        open,\r\n        close,\r\n        toggle,\r\n        setOpen,\r\n        panelId,\r\n        lastFocusedElementRef,\r\n      }),\r\n      [openState, open, close, toggle, setOpen, panelId]\r\n    );\r\n\r\n    const helpPanelClasses = classNames(\r\n      'krds-help-panel',\r\n      className,\r\n      contextValue.isOpen && 'expand'\r\n    );\r\n\r\n    return (\r\n      <HelpPanelContext.Provider value={contextValue}>\r\n        {triggerElements}\r\n        <div\r\n          ref={node => {\r\n            helpPanelRef.current = node;\r\n            if (typeof ref === 'function') {\r\n              ref(node);\r\n            } else if (ref) {\r\n              ref.current = node;\r\n            }\r\n          }}\r\n          id={panelId}\r\n          className={helpPanelClasses}\r\n          onKeyDown={handleKeyDown}\r\n          {...props}\r\n        >\r\n          <div className=\"help-panel-wrap\">\r\n            <div className=\"help-conts-area\">{panelChildren}</div>\r\n          </div>\r\n        </div>\r\n      </HelpPanelContext.Provider>\r\n    );\r\n  }\r\n);\r\n\r\nHelpPanel.displayName = 'HelpPanel';\r\n\r\n/**\r\n * KRDS HelpPanelTrigger Component\r\n * @param children 트리거 버튼 텍스트\r\n * @param className 사용자 정의 클래스명\r\n */\r\nconst HelpPanelTrigger = forwardRef<HTMLButtonElement, HelpPanelTriggerProps>(\r\n  ({ children = '도움말', className, onClick, ...props }, ref) => {\r\n    const context = useHelpPanelContext();\r\n    const buttonClasses = classNames('btn-help-panel', 'expand', 'btn-help-exec', className);\r\n\r\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n      onClick?.(event);\r\n\r\n      if (!event.defaultPrevented) {\r\n        context?.open();\r\n      }\r\n    };\r\n\r\n    return (\r\n      <Button\r\n        size=\"small\"\r\n        variant=\"tertiary\"\r\n        className={buttonClasses}\r\n        ref={ref}\r\n        onClick={handleClick}\r\n        aria-expanded={context?.isOpen ?? false}\r\n        aria-controls={context?.panelId}\r\n        {...props}\r\n      >\r\n        <i className=\"svg-icon ico-fold\"></i>\r\n        {children}\r\n      </Button>\r\n    );\r\n  }\r\n);\r\n\r\nHelpPanelTrigger.displayName = 'HelpPanelTrigger';\r\n\r\n/**\r\n * KRDS HelpPanelContent Component\r\n * @param children 도움말 패널 내용\r\n * @param srOnlyTitle 스크린 리더 전용 제목\r\n * @param className 사용자 정의 클래스명\r\n */\r\nconst HelpPanelContent = forwardRef<HTMLDivElement, HelpPanelContentProps>(\r\n  ({ children, srOnlyTitle, className, ...props }, ref) => {\r\n    const contentClasses = classNames('help-conts-area-inner', className);\r\n\r\n    return (\r\n      <div className={contentClasses} ref={ref} {...props}>\r\n        {srOnlyTitle && <h3 className=\"sr-only\">{srOnlyTitle}</h3>}\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nHelpPanelContent.displayName = 'HelpPanelContent';\r\n\r\n/**\r\n * KRDS HelpSection Component\r\n * @param title 섹션 제목\r\n * @param description 섹션 설명\r\n * @param children 섹션 내용\r\n * @param className 사용자 정의 클래스명\r\n */\r\nconst HelpSection = forwardRef<HTMLDivElement, HelpSectionProps>(\r\n  ({ title, description, children, className, ...props }, ref) => {\r\n    const sectionClasses = classNames('conts-area', 'help-conts', className);\r\n\r\n    return (\r\n      <div className={sectionClasses} ref={ref} {...props}>\r\n        <div className=\"conts-wrap\">\r\n          <h4 className=\"help-title\">\r\n            {title}\r\n            <span className=\"krds-btn medium icon\">\r\n              <span className=\"sr-only\">도움말</span>\r\n              <i className=\"svg-icon ico-help\"></i>\r\n            </span>\r\n          </h4>\r\n          {description && (\r\n            <div className=\"conts-desc\">\r\n              <p>{description}</p>\r\n            </div>\r\n          )}\r\n          {children}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nHelpSection.displayName = 'HelpSection';\r\n\r\n/**\r\n * KRDS HelpLinkList Component\r\n * @param links 링크 목록\r\n * @param iconPosition 아이콘 위치 ('left' | 'right')\r\n * @param className 사용자 정의 클래스명\r\n */\r\nconst HelpLinkList = forwardRef<HTMLUListElement, HelpLinkListProps>(\r\n  ({ links, iconPosition = 'right', className, ...props }, ref) => {\r\n    const listClasses = classNames('link-list', className);\r\n\r\n    return (\r\n      <ul className={listClasses} ref={ref} {...props}>\r\n        {links.map((link, index) => (\r\n          <li key={index}>\r\n            <Button\r\n              as=\"a\"\r\n              size=\"xsmall\"\r\n              variant=\"link\"\r\n              href={link.href}\r\n              target={link.target}\r\n              title={link.target === '_blank' ? '새 창 열림' : undefined}\r\n              className=\"basic\"\r\n            >\r\n              {iconPosition === 'left' && link.icon && <i className={`svg-icon ${link.icon}`}></i>}\r\n              {link.text}\r\n              {iconPosition === 'right' && <i className={`svg-icon ${link.icon || 'ico-go'}`}></i>}\r\n            </Button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    );\r\n  }\r\n);\r\n\r\nHelpLinkList.displayName = 'HelpLinkList';\r\n\r\n/**\r\n * KRDS HelpPanelClose Component\r\n * @param children 닫기 버튼 텍스트\r\n * @param className 사용자 정의 클래스명\r\n */\r\nconst HelpPanelClose = forwardRef<HTMLButtonElement, HelpPanelCloseProps>(\r\n  ({ children = '접어두기', className, onClick, ...props }, ref) => {\r\n    const context = useHelpPanelContext();\r\n    const buttonClasses = classNames('btn-help-panel', 'fold', className);\r\n\r\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n      onClick?.(event);\r\n\r\n      if (!event.defaultPrevented) {\r\n        context?.close();\r\n      }\r\n    };\r\n\r\n    return (\r\n      <Button\r\n        size=\"small\"\r\n        variant=\"tertiary\"\r\n        className={buttonClasses}\r\n        ref={ref}\r\n        onClick={handleClick}\r\n        aria-controls={context?.panelId}\r\n        {...props}\r\n      >\r\n        <span className=\"sr-only\">도움말</span>\r\n        {children}\r\n        <i className=\"svg-icon ico-fold right\"></i>\r\n      </Button>\r\n    );\r\n  }\r\n);\r\n\r\nHelpPanelClose.displayName = 'HelpPanelClose';\r\n\r\n/**\r\n * KRDS HelpRelatedService Component\r\n * @param children 관련 서비스 그룹들\r\n * @param className 사용자 정의 클래스명\r\n */\r\nconst HelpRelatedService = forwardRef<\r\n  HTMLDivElement,\r\n  { children?: React.ReactNode; className?: string }\r\n>(({ children, className, ...props }, ref) => {\r\n  const serviceClasses = classNames('conts-area', 'related-service', className);\r\n\r\n  return (\r\n    <div className={serviceClasses} ref={ref} {...props}>\r\n      {children}\r\n    </div>\r\n  );\r\n});\r\n\r\nHelpRelatedService.displayName = 'HelpRelatedService';\r\n\r\n/**\r\n * KRDS HelpServiceGroup Component\r\n * @param title 서비스 그룹 제목\r\n * @param children 서비스 그룹 내용\r\n * @param className 사용자 정의 클래스명\r\n */\r\nconst HelpServiceGroup = forwardRef<\r\n  HTMLDivElement,\r\n  { title: string; children?: React.ReactNode; className?: string }\r\n>(({ title, children, className, ...props }, ref) => {\r\n  const groupClasses = classNames('conts-wrap', className);\r\n\r\n  return (\r\n    <div className={groupClasses} ref={ref} {...props}>\r\n      <h4 className=\"help-title\">{title}</h4>\r\n      {children}\r\n    </div>\r\n  );\r\n});\r\n\r\nHelpServiceGroup.displayName = 'HelpServiceGroup';\r\n\r\n/**\r\n * KRDS HelpTutorialTitle Component\r\n * @param title 따라하기 제목\r\n * @param href 이전으로 돌아가기 링크\r\n * @param className 사용자 정의 클래스명\r\n */\r\nconst HelpTutorialTitle = forwardRef<\r\n  HTMLHeadingElement,\r\n  { title: string; href?: string; className?: string }\r\n>(({ title, href, className, ...props }, ref) => {\r\n  const titleClasses = classNames('help-title', className);\r\n\r\n  return (\r\n    <h4 className={titleClasses} ref={ref} {...props}>\r\n      {href ? (\r\n        <a href={href} title=\"이전으로 돌아가기\">\r\n          {title}\r\n        </a>\r\n      ) : (\r\n        title\r\n      )}\r\n    </h4>\r\n  );\r\n});\r\n\r\nHelpTutorialTitle.displayName = 'HelpTutorialTitle';\r\n\r\n/**\r\n * KRDS HelpCoachProcess Component\r\n * @param children 코치 태스크들\r\n * @param className 사용자 정의 클래스명\r\n */\r\nconst HelpCoachProcess = forwardRef<\r\n  HTMLUListElement,\r\n  { children?: React.ReactNode; className?: string }\r\n>(({ children, className, ...props }, ref) => {\r\n  const processClasses = classNames('coach-help-process', className);\r\n\r\n  return (\r\n    <ul className={processClasses} ref={ref} {...props}>\r\n      {children}\r\n    </ul>\r\n  );\r\n});\r\n\r\nHelpCoachProcess.displayName = 'HelpCoachProcess';\r\n\r\n/**\r\n * KRDS HelpCoachTask Component\r\n * @param title 태스크 제목\r\n * @param isCurrent 현재 태스크 여부\r\n * @param expandText 펼치기 버튼 텍스트\r\n * @param steps 단계 목록\r\n * @param className 사용자 정의 클래스명\r\n */\r\nconst HelpCoachTask = forwardRef<\r\n  HTMLLIElement,\r\n  {\r\n    title: string;\r\n    isCurrent?: boolean;\r\n    expandText: string;\r\n    steps: string[];\r\n    className?: string;\r\n  }\r\n>(({ title, isCurrent = false, expandText, steps, className, ...props }, ref) => {\r\n  const titleClasses = classNames('tit', isCurrent && 'current');\r\n\r\n  return (\r\n    <li className={className} ref={ref} {...props}>\r\n      <h4 className={titleClasses}>{title}</h4>\r\n      <Disclosure buttonText={expandText} className=\"conts-expand-area\">\r\n        <TextList type=\"decimal\">\r\n          {steps.map((step, index) => (\r\n            <TextListItem key={index}>{step}</TextListItem>\r\n          ))}\r\n        </TextList>\r\n      </Disclosure>\r\n    </li>\r\n  );\r\n});\r\n\r\nHelpCoachTask.displayName = 'HelpCoachTask';\r\n\r\n/**\r\n * KRDS HelpPanelAction Component\r\n * @param children 액션 버튼들\r\n * @param className 사용자 정의 클래스명\r\n */\r\nconst HelpPanelAction = forwardRef<\r\n  HTMLDivElement,\r\n  { children?: React.ReactNode; className?: string }\r\n>(({ children, className, ...props }, ref) => {\r\n  const actionClasses = classNames('help-panel-action', className);\r\n\r\n  return (\r\n    <div className={actionClasses} ref={ref} {...props}>\r\n      {children}\r\n    </div>\r\n  );\r\n});\r\n\r\nHelpPanelAction.displayName = 'HelpPanelAction';\r\n\r\n/**\r\n * KRDS HelpContentArea Component\r\n * @param children 컨텐츠 영역 내용\r\n * @param className 사용자 정의 클래스명\r\n */\r\nconst HelpContentArea = forwardRef<\r\n  HTMLDivElement,\r\n  { children?: React.ReactNode; className?: string }\r\n>(({ children, className, ...props }, ref) => {\r\n  const areaClasses = classNames('conts-area', className);\r\n\r\n  return (\r\n    <div className={areaClasses} ref={ref} {...props}>\r\n      {children}\r\n    </div>\r\n  );\r\n});\r\n\r\nHelpContentArea.displayName = 'HelpContentArea';\r\n\r\nexport {\r\n  HelpCoachProcess,\r\n  HelpCoachTask,\r\n  HelpContentArea,\r\n  HelpLinkList,\r\n  HelpPanel,\r\n  HelpPanelAction,\r\n  HelpPanelClose,\r\n  HelpPanelContent,\r\n  HelpPanelTrigger,\r\n  HelpRelatedService,\r\n  HelpSection,\r\n  HelpServiceGroup,\r\n  HelpTutorialTitle,\r\n  useHelpPanelContext,\r\n};\r\n","import Button from '@/components/Button';\r\nimport { classNames } from '@/utils';\r\nimport { forwardRef, useEffect, useState } from 'react';\r\nimport { InPageNavigationProps } from './InPageNavigation.types';\r\n\r\n/**\r\n * KRDS InPageNavigation Component\r\n * @param caption 페이지 구성 설명 텍스트\r\n * @param title 페이지 제목\r\n * @param items 네비게이션 아이템 목록\r\n * @param actionText 액션 버튼 텍스트\r\n * @param onActionClick 액션 버튼 클릭 핸들러\r\n * @param infoText 추가 정보 텍스트 (HTML 태그 지원)\r\n * @param scrollDown 스크롤 시 상단 위치 조정 여부\r\n * @param scrollContainerRef 스크롤 컨테이너 참조\r\n */\r\nexport const InPageNavigation = forwardRef<HTMLDivElement, InPageNavigationProps>(\r\n  (\r\n    {\r\n      caption = '이 페이지의 구성',\r\n      title,\r\n      items = [],\r\n      actionText,\r\n      onActionClick,\r\n      infoText,\r\n      scrollDown = false,\r\n      className,\r\n      scrollContainerRef,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const [activeSection, setActiveSection] = useState<string>('');\r\n\r\n    const hasAction = actionText || infoText;\r\n    const hasItems = items.length > 0;\r\n\r\n    const calculateHeaderHeight = () => {\r\n      const headerTop = document.querySelector('#krds-masthead')?.clientHeight || 0;\r\n      const headerInner = document.querySelector('#krds-header .header-in')?.clientHeight || 0;\r\n      return headerTop + headerInner;\r\n    };\r\n\r\n    const applyScroll = (target: Element, event: React.MouseEvent | React.KeyboardEvent) => {\r\n      event.preventDefault();\r\n      const headerHeight = calculateHeaderHeight();\r\n\r\n      const scrollContainer = scrollContainerRef?.current ?? window;\r\n      const isWindow = scrollContainer === window;\r\n\r\n      if (isWindow) {\r\n        const targetRect = target.getBoundingClientRect();\r\n        const scrollTop = targetRect.top + window.scrollY - headerHeight;\r\n\r\n        window.scrollTo({\r\n          left: 0,\r\n          top: scrollTop,\r\n          behavior: 'smooth',\r\n        });\r\n      } else {\r\n        const containerElement = scrollContainer as Element;\r\n        const containerRect = containerElement.getBoundingClientRect();\r\n        const targetRect = target.getBoundingClientRect();\r\n        const relativeTop = targetRect.top - containerRect.top;\r\n        const scrollTop = containerElement.scrollTop + relativeTop - headerHeight;\r\n\r\n        containerElement.scrollTo({\r\n          left: 0,\r\n          top: scrollTop,\r\n          behavior: 'smooth',\r\n        });\r\n      }\r\n\r\n      if ('key' in event && (event.key === 'Enter' || event.key === ' ')) {\r\n        const focusable = target.querySelector('.sec-tit');\r\n        if (focusable) {\r\n          (focusable as HTMLElement).setAttribute('tabindex', '-1');\r\n          (focusable as HTMLElement).focus({ preventScroll: true });\r\n        }\r\n      }\r\n    };\r\n\r\n    const handleNavigationClick = (href: string, event: React.MouseEvent | React.KeyboardEvent) => {\r\n      const target = document.querySelector(href);\r\n      if (target) {\r\n        applyScroll(target, event);\r\n      }\r\n    };\r\n\r\n    const handleKeyDown = (href: string, event: React.KeyboardEvent) => {\r\n      if (event.key === 'Enter' || event.key === ' ') {\r\n        event.preventDefault();\r\n        handleNavigationClick(href, event);\r\n      }\r\n    };\r\n\r\n    const updateActiveSection = () => {\r\n      if (!hasItems) return;\r\n\r\n      const scrollContainer = scrollContainerRef?.current ?? window;\r\n      const isWindow = scrollContainer === window;\r\n\r\n      const scrollTop = isWindow ? window.scrollY : (scrollContainer as Element).scrollTop;\r\n      const containerHeight = isWindow\r\n        ? window.innerHeight\r\n        : (scrollContainer as Element).clientHeight;\r\n      const scrollHeight = isWindow\r\n        ? document.body.scrollHeight\r\n        : (scrollContainer as Element).scrollHeight;\r\n\r\n      const topHeight = Math.ceil(containerHeight / 5);\r\n      const scrollBottom = scrollTop + containerHeight;\r\n\r\n      const sectionElements = items\r\n        .map(item => document.querySelector(item.href))\r\n        .filter(Boolean) as HTMLElement[];\r\n\r\n      if (sectionElements.length === 0) return;\r\n\r\n      const firstSection = sectionElements[0];\r\n      const firstSectionTop = firstSection.offsetTop;\r\n\r\n      let newActiveSection = '';\r\n\r\n      if (scrollBottom >= scrollHeight) {\r\n        newActiveSection = items[items.length - 1]?.href || '';\r\n      } else if (scrollTop <= firstSectionTop) {\r\n        newActiveSection = items[0]?.href || '';\r\n      } else {\r\n        for (let i = sectionElements.length - 1; i >= 0; i--) {\r\n          const section = sectionElements[i];\r\n          const sectionHeight = section.offsetHeight;\r\n          const sectionTop = section.offsetTop - topHeight;\r\n\r\n          if (scrollTop > sectionTop && scrollTop <= sectionTop + sectionHeight) {\r\n            newActiveSection = items[i]?.href || '';\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (newActiveSection !== activeSection) {\r\n        setActiveSection(newActiveSection);\r\n      }\r\n    };\r\n\r\n    useEffect(() => {\r\n      if (!hasItems) return;\r\n\r\n      updateActiveSection();\r\n\r\n      const handleScroll = () => {\r\n        updateActiveSection();\r\n      };\r\n\r\n      const scrollContainer = scrollContainerRef?.current ?? window;\r\n\r\n      scrollContainer.addEventListener('scroll', handleScroll, { passive: true });\r\n\r\n      return () => {\r\n        scrollContainer.removeEventListener('scroll', handleScroll);\r\n      };\r\n    }, [hasItems, items, activeSection]);\r\n\r\n    const Wrapper = ({ children }: { children: React.ReactNode }) => {\r\n      return scrollDown ? <div className=\"scroll-down\">{children}</div> : <>{children}</>;\r\n    };\r\n\r\n    return (\r\n      <Wrapper>\r\n        <div ref={ref} className=\"krds-in-page-navigation-type\">\r\n          <div className={classNames('krds-in-page-navigation-area', className)} {...props}>\r\n            <div className=\"in-page-navigation-header\">\r\n              <p className=\"quick-caption\">{caption}</p>\r\n              {title && <p className=\"quick-title\">{title}</p>}\r\n            </div>\r\n\r\n            {hasItems && (\r\n              <nav className=\"in-page-navigation-list\">\r\n                <ul>\r\n                  {items.map((item, index) => (\r\n                    <li key={index}>\r\n                      <a\r\n                        href={item.href}\r\n                        className={classNames(\r\n                          (item.active || activeSection === item.href) && 'active'\r\n                        )}\r\n                        onClick={e => handleNavigationClick(item.href, e)}\r\n                        onKeyDown={e => handleKeyDown(item.href, e)}\r\n                        tabIndex={0}\r\n                      >\r\n                        {item.label}\r\n                      </a>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </nav>\r\n            )}\r\n\r\n            {hasAction && (\r\n              <div className=\"in-page-navigation-action\">\r\n                {actionText && (\r\n                  <Button className=\"krds-btn medium\" onClick={onActionClick}>\r\n                    {actionText}\r\n                  </Button>\r\n                )}\r\n                {infoText && <p className=\"quick-info\">{infoText}</p>}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </Wrapper>\r\n    );\r\n  }\r\n);\r\n\r\nInPageNavigation.displayName = 'InPageNavigation';\r\n","import type { MutableRefObject, RefCallback, Ref } from 'react';\r\nimport { useMemo } from 'react';\r\n\r\ntype PossibleRef<T> = Ref<T> | undefined;\r\n\r\nfunction setRef<T>(ref: PossibleRef<T>, value: T) {\r\n  if (typeof ref === 'function') {\r\n    ref(value);\r\n  } else if (ref !== null && ref !== undefined) {\r\n    (ref as MutableRefObject<T>).current = value;\r\n  }\r\n}\r\n\r\nexport function useMergeRefs<T>(...refs: Array<PossibleRef<T>>): RefCallback<T> | null {\r\n  return useMemo(() => {\r\n    if (refs.every(ref => ref === null)) {\r\n      return null;\r\n    }\r\n\r\n    return (refValue: T) => {\r\n      for (const ref of refs) {\r\n        setRef<T>(ref, refValue);\r\n      }\r\n    };\r\n  }, [refs]);\r\n}\r\n","import React, {\r\n  createContext,\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useRef,\r\n  forwardRef,\r\n  useMemo,\r\n} from 'react';\r\nimport { classNames } from '@/utils';\r\nimport Button from '../Button/Button';\r\nimport { useUncontrolled } from '@/hooks/use-uncontrolled';\r\nimport type {\r\n  LanguageSwitcherProps,\r\n  LanguageSwitcherMenuProps,\r\n  LanguageSwitcherCurrentProps,\r\n  LanguageSwitcherOptionListProps,\r\n  LanguageSwitcherOptionItemProps,\r\n  LanguageSwitcherContextValue,\r\n} from './LanguageSwitcher.types';\r\nimport { useMergeRefs } from '@/hooks/use-merge-refs';\r\n\r\nconst LanguageSwitcherContext = createContext<LanguageSwitcherContextValue | null>(null);\r\n\r\nfunction useLanguageSwitcherContext() {\r\n  const ctx = useContext(LanguageSwitcherContext);\r\n  if (!ctx) throw new Error('LanguageSwitcher.* must be used within <LanguageSwitcher>');\r\n  return ctx;\r\n}\r\n\r\nexport const LanguageSwitcherRoot = forwardRef<HTMLDivElement, LanguageSwitcherProps>(\r\n  (\r\n    {\r\n      value,\r\n      defaultValue,\r\n      options = [],\r\n      onChange,\r\n      open,\r\n      defaultOpen,\r\n      onOpenChange,\r\n      closeOnClickOutside = true,\r\n      children,\r\n      className,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const [currentValue, setCurrentValue] = useUncontrolled({\r\n      value,\r\n      defaultValue,\r\n      onChange,\r\n      finalValue: '',\r\n    });\r\n\r\n    const [isOpen, setIsOpen] = useUncontrolled({\r\n      value: open,\r\n      defaultValue: defaultOpen,\r\n      onChange: onOpenChange,\r\n    });\r\n\r\n    const dropdownRef = useRef<HTMLDivElement>(null);\r\n    const buttonRef = useRef<HTMLButtonElement>(null);\r\n    const _ref = useMergeRefs(ref, dropdownRef);\r\n    const itemRefs = useRef<Map<string, HTMLAnchorElement | null>>(new Map());\r\n\r\n    const handleKeyDown = useCallback(\r\n      (event: React.KeyboardEvent) => {\r\n        if (event.key === 'Escape' && isOpen) {\r\n          setIsOpen(false);\r\n          console.log(buttonRef.current);\r\n          buttonRef.current?.focus();\r\n        }\r\n      },\r\n      [isOpen, setIsOpen]\r\n    );\r\n\r\n    useEffect(() => {\r\n      if (!closeOnClickOutside) return;\r\n      const handleClickOutside = (event: MouseEvent) => {\r\n        if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node) && isOpen) {\r\n          setIsOpen(false);\r\n        }\r\n      };\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n      return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, [isOpen, setIsOpen, closeOnClickOutside]);\r\n\r\n    const containerClasses = classNames('krds-drop-wrap', 'krds-language', className);\r\n\r\n    const contextValue = useMemo(\r\n      () => ({\r\n        value: currentValue,\r\n        onChange: setCurrentValue,\r\n        options,\r\n        open: isOpen,\r\n        setOpen: setIsOpen,\r\n        buttonRef,\r\n        itemRefs,\r\n      }),\r\n      [currentValue, setCurrentValue, options, isOpen, setIsOpen, buttonRef]\r\n    );\r\n\r\n    return (\r\n      <LanguageSwitcherContext.Provider value={contextValue}>\r\n        <div ref={_ref} className={containerClasses} onKeyDown={handleKeyDown} {...props}>\r\n          {children}\r\n        </div>\r\n      </LanguageSwitcherContext.Provider>\r\n    );\r\n  }\r\n);\r\n\r\nconst Trigger = forwardRef<HTMLButtonElement, { label?: string; className?: string }>(\r\n  ({ label = 'Language', className }, ref) => {\r\n    const { open, setOpen, value, options, buttonRef } = useLanguageSwitcherContext();\r\n    const currentLabel = options.find(opt => opt.value === value)?.label || value || label;\r\n    const _ref = useMergeRefs(ref, buttonRef);\r\n\r\n    return (\r\n      <Button\r\n        ref={_ref}\r\n        variant=\"text\"\r\n        size=\"small\"\r\n        onClick={() => setOpen(!open)}\r\n        aria-label={label}\r\n        aria-expanded={open}\r\n        aria-controls=\"language-dropdown\"\r\n        aria-haspopup=\"listbox\"\r\n        className={classNames('drop-btn', open && 'active', className)}\r\n      >\r\n        <i className=\"svg-icon ico-global\"></i>\r\n        {' ' + currentLabel + ' '}\r\n        <i className=\"svg-icon ico-angle\"></i>\r\n      </Button>\r\n    );\r\n  }\r\n);\r\n\r\nconst Menu = forwardRef<HTMLDivElement, LanguageSwitcherMenuProps>(\r\n  ({ className, children }, ref) => {\r\n    const { open } = useLanguageSwitcherContext();\r\n    const menuRef = useRef<HTMLDivElement>(null);\r\n    const _ref = useMergeRefs(ref, menuRef);\r\n\r\n    useEffect(() => {\r\n      if (open && menuRef.current) {\r\n        // 위치 조정 로직 (원본 JavaScript와 동일)\r\n        const menu = menuRef.current;\r\n        const wrapper = menu.closest('.krds-drop-wrap') as HTMLElement;\r\n        if (wrapper) {\r\n          // 기존 위치 클래스 제거\r\n          wrapper.classList.remove('drop-left', 'drop-right');\r\n\r\n          // 메뉴 위치 계산\r\n          const menuRect = menu.getBoundingClientRect();\r\n          const windowWidth = window.innerWidth;\r\n\r\n          if (menuRect.left < 0) {\r\n            wrapper.classList.add('drop-left');\r\n          } else if (windowWidth < menuRect.left + menuRect.width) {\r\n            wrapper.classList.add('drop-right');\r\n          }\r\n        }\r\n      }\r\n    }, [open]);\r\n\r\n    return (\r\n      <div\r\n        ref={_ref}\r\n        className={classNames('drop-menu', className)}\r\n        style={{ display: open ? 'block' : 'none' }}\r\n        role=\"listbox\"\r\n        id=\"language-dropdown\"\r\n      >\r\n        <div className=\"drop-in\">{children}</div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nconst Current = ({ label, className }: LanguageSwitcherCurrentProps) => {\r\n  const { value, options } = useLanguageSwitcherContext();\r\n  const currentLabel = options.find(opt => opt.value === value)?.label || value;\r\n\r\n  return (\r\n    <div className=\"drop-top\">\r\n      <p className={classNames('current-laguage', className)}>\r\n        <span>{label}</span>\r\n        <strong>{currentLabel}</strong>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst OptionList = ({ className, ...props }: LanguageSwitcherOptionListProps) => {\r\n  const { options } = useLanguageSwitcherContext();\r\n  return (\r\n    <ul className={classNames('drop-list', className)} role=\"list\" {...props}>\r\n      {options.map(opt => (\r\n        <LanguageSwitcher.OptionItem key={opt.value} {...opt} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nconst OptionItem = ({\r\n  value,\r\n  label,\r\n  href,\r\n  external,\r\n  className,\r\n  ...props\r\n}: LanguageSwitcherOptionItemProps) => {\r\n  const { value: currentValue, onChange, setOpen, itemRefs } = useLanguageSwitcherContext();\r\n  const isActive = currentValue === value;\r\n\r\n  const handleSelect = (e: React.MouseEvent) => {\r\n    if (!href && !external) {\r\n      e.preventDefault();\r\n    }\r\n    onChange(value, { value, label, href, external });\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleFocus = (e: React.FocusEvent) => {\r\n    e.preventDefault();\r\n    itemRefs.current?.forEach(el => {\r\n      el?.style.removeProperty('position');\r\n      el?.style.removeProperty('z-index');\r\n    });\r\n    itemRefs.current?.get(value)?.style.setProperty('position', 'relative');\r\n    itemRefs.current?.get(value)?.style.setProperty('z-index', '1');\r\n  };\r\n\r\n  return (\r\n    <li role=\"listitem\" {...props}>\r\n      <a\r\n        ref={el => {\r\n          if (el) {\r\n            itemRefs.current?.set(value, el);\r\n          } else {\r\n            itemRefs.current?.delete(value);\r\n          }\r\n        }}\r\n        href={href || '#'}\r\n        className={classNames('item-link', isActive && 'active', className)}\r\n        onClick={handleSelect}\r\n        onFocus={handleFocus}\r\n        role=\"option\"\r\n        aria-selected={isActive}\r\n        lang={value}\r\n        {...(external ? { target: '_blank', rel: 'noopener noreferrer' } : {})}\r\n      >\r\n        {label}\r\n        {external && <i className=\"svg-icon ico-go\"></i>}\r\n      </a>\r\n    </li>\r\n  );\r\n};\r\n\r\nconst LanguageSwitcher = Object.assign(LanguageSwitcherRoot, {\r\n  Root: LanguageSwitcherRoot,\r\n  Trigger,\r\n  Menu,\r\n  Current,\r\n  OptionList,\r\n  OptionItem,\r\n});\r\n\r\nLanguageSwitcher.displayName = 'LanguageSwitcher';\r\n\r\nexport { LanguageSwitcher };\r\n","import { forwardRef } from 'react';\r\nimport { classNames } from '@/utils';\r\nimport { LinkProps } from './Link.types';\r\n\r\n/**\r\n * KRDS Link 컴포넌트\r\n * @param variant 링크 스타일 타입 ('default' | 'basic')\r\n * @param underline 밑줄 표시 여부 ('always' | 'hover' | 'none')\r\n * @param preserveColorOnHover hover 시 컬러 유지 여부\r\n * @param icon 외부 링크 아이콘 또는 커스텀 아이콘\r\n * @param external 외부 링크 여부\r\n * @param size 링크 크기 ('xsmall' | 'small' | 'medium' | 'large' | 'xlarge')\r\n * @param disabled 비활성화 여부\r\n * @param children 링크 텍스트 내용\r\n * @param className 사용자 정의 클래스명\r\n */\r\nexport const Link = forwardRef<HTMLAnchorElement, LinkProps>(\r\n  (\r\n    {\r\n      variant = 'default',\r\n      underline = 'always',\r\n      preserveColorOnHover = false,\r\n      icon,\r\n      external = false,\r\n      size = 'large',\r\n      disabled = false,\r\n      children,\r\n      className,\r\n      href,\r\n      target,\r\n      rel,\r\n      onClick,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const linkClasses = classNames(\r\n      'krds-btn',\r\n      'link',\r\n      size,\r\n      variant === 'basic' && 'basic',\r\n      preserveColorOnHover && 'pure',\r\n      disabled && 'disabled',\r\n      className\r\n    );\r\n\r\n    const linkTextClasses = {\r\n      always: 'underline',\r\n      hover: 'underline hidden-underline',\r\n      none: '',\r\n    }[underline];\r\n\r\n    const handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\r\n      if (disabled) {\r\n        event.preventDefault();\r\n        return;\r\n      }\r\n      onClick?.(event);\r\n    };\r\n\r\n    const linkTarget = external ? '_blank' : target;\r\n    const linkRel = external ? 'noopener noreferrer' : rel;\r\n    const linkTitle = external && !props.title ? '새 창 열림' : props.title;\r\n\r\n    const Icon = icon ? icon : external ? <i className=\"svg-icon ico-go\" /> : null;\r\n    return (\r\n      <a\r\n        ref={ref}\r\n        className={linkClasses}\r\n        href={disabled ? undefined : href}\r\n        target={linkTarget}\r\n        rel={linkRel}\r\n        title={linkTitle}\r\n        onClick={handleClick}\r\n        tabIndex={disabled ? -1 : undefined}\r\n        aria-disabled={disabled}\r\n        {...props}\r\n      >\r\n        <span className={linkTextClasses}>{children}</span>\r\n        {Icon}\r\n      </a>\r\n    );\r\n  }\r\n);\r\n\r\nLink.displayName = 'Link';\r\n","import { forwardRef } from 'react';\r\nimport { MastheadProps } from './Masthead.types';\r\n\r\n/**\r\n * KRDS Masthead Component\r\n * @param text 배너 텍스트\r\n * @param className 커스텀 클래스명\r\n */\r\nexport const Masthead = forwardRef<HTMLDivElement, MastheadProps>(\r\n  ({ text, className, ...props }, ref) => {\r\n    return (\r\n      <div id=\"krds-masthead\" ref={ref} className={className} {...props}>\r\n        <div className=\"toggle-wrap\">\r\n          <div className=\"toggle-head\">\r\n            <div className=\"inner\">\r\n              <span className=\"nuri-txt\">{text}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nMasthead.displayName = 'Masthead';\r\n","import React from 'react';\r\n\r\ninterface ModalContextValue {\r\n  open: boolean;\r\n  setOpen: (open: boolean) => void;\r\n  size: 'sm' | 'md' | 'lg';\r\n  variant: 'default' | 'full' | 'bottom-sheet';\r\n  closeOnEsc: boolean;\r\n  closeOnOverlayClick: boolean;\r\n  usePortal: boolean;\r\n  portalContainer?: string | HTMLElement;\r\n}\r\n\r\nexport const ModalContext = React.createContext<ModalContextValue | null>(null);\r\n\r\nexport const useModalContext = () => {\r\n  const ctx = React.useContext(ModalContext);\r\n  if (!ctx) throw new Error('Modal compound components must be used within <Modal.Root>');\r\n  return ctx;\r\n};\r\n","import { useUncontrolled } from '@/hooks/use-uncontrolled';\r\nimport { classNames } from '@/utils';\r\nimport React, { forwardRef, useCallback, useEffect, useId, useMemo, useRef, useState } from 'react';\r\nimport Button from '../Button';\r\nimport { Portal } from '../Portal/Portal';\r\nimport {\r\n  ModalBodyProps,\r\n  ModalCloseProps,\r\n  ModalContentProps,\r\n  ModalFooterProps,\r\n  ModalHeaderProps,\r\n  ModalOverlayProps,\r\n  ModalRootProps,\r\n  ModalTriggerProps,\r\n} from './Modal.types';\r\nimport { ModalContext, useModalContext } from './ModalContext';\r\n\r\nconst Slot = React.forwardRef<any, { children?: React.ReactNode } & any>(\r\n  ({ children, ...props }, ref) => {\r\n    if (React.isValidElement(children)) {\r\n      return React.cloneElement(children, {\r\n        ...props,\r\n        ...(children as any)?.props,\r\n        ref,\r\n      });\r\n    }\r\n    return null;\r\n  }\r\n);\r\nSlot.displayName = 'Slot';\r\n\r\n/**\r\n * KRDS Modal Component\r\n * @param variant 모달 유형 ('default' | 'bottom-sheet')\r\n * @param size 모달 크기 ('sm' | 'md' | 'lg')\r\n * @param open 열림 상태 (제어)\r\n * @param defaultOpen 초기 열림 상태 (비제어)\r\n * @param onOpenChange 열림 상태 변경 핸들러\r\n */\r\nconst ModalRoot = ({\r\n  children,\r\n  size = 'lg',\r\n  variant = 'default',\r\n  open,\r\n  defaultOpen = false,\r\n  onOpenChange,\r\n  closeOnEsc = false,\r\n  closeOnOverlayClick = false,\r\n  usePortal = false,\r\n  portalContainer,\r\n}: ModalRootProps) => {\r\n  const [_open, setOpen] = useUncontrolled({\r\n    value: open,\r\n    defaultValue: defaultOpen,\r\n    onChange: onOpenChange,\r\n  });\r\n\r\n  const contextValue = useMemo(\r\n    () => ({\r\n      open: _open,\r\n      setOpen,\r\n      size,\r\n      variant,\r\n      closeOnEsc,\r\n      closeOnOverlayClick,\r\n      usePortal,\r\n      portalContainer,\r\n    }),\r\n    [_open, setOpen, size, variant, closeOnEsc, closeOnOverlayClick, usePortal, portalContainer]\r\n  );\r\n\r\n  return <ModalContext.Provider value={contextValue}>{children}</ModalContext.Provider>;\r\n};\r\n\r\nModalRoot.displayName = 'ModalRoot';\r\n\r\nconst ModalTrigger = forwardRef<HTMLButtonElement, ModalTriggerProps>(\r\n  ({ onClick, asChild = false, children, ...props }, ref) => {\r\n    const { setOpen } = useModalContext();\r\n    const handleClick = useCallback(\r\n      (e: React.MouseEvent<HTMLButtonElement>) => {\r\n        onClick?.(e);\r\n        setOpen(true);\r\n      },\r\n      [onClick, setOpen]\r\n    );\r\n\r\n    if (asChild) {\r\n      return (\r\n        <Slot onClick={handleClick} {...props} ref={ref}>\r\n          {children}\r\n        </Slot>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <button type=\"button\" onClick={handleClick} {...props} ref={ref}>\r\n        {children}\r\n      </button>\r\n    );\r\n  }\r\n);\r\nModalTrigger.displayName = 'ModalTrigger';\r\n\r\nconst ModalOverlay = forwardRef<HTMLDivElement, ModalOverlayProps>(\r\n  ({ className = '', ...props }, ref) => {\r\n    const { open } = useModalContext();\r\n\r\n    return (\r\n      <div className={classNames('modal-back', open && 'in', className)} {...props} ref={ref} />\r\n    );\r\n  }\r\n);\r\nModalOverlay.displayName = 'ModalOverlay';\r\nconst ModalContent = forwardRef<HTMLDivElement, ModalContentProps>(\r\n  ({ className = '', children, id, role = 'dialog', ...props }, ref) => {\r\n    const {\r\n      open,\r\n      setOpen,\r\n      size,\r\n      variant,\r\n      closeOnEsc,\r\n      closeOnOverlayClick,\r\n      usePortal,\r\n      portalContainer,\r\n    } = useModalContext();\r\n\r\n    const generatedId = useId();\r\n    const sectionId = id || `krds-modal-${generatedId}`;\r\n\r\n    const contentRef = useRef<HTMLDivElement | null>(null);\r\n    const dialogRef = useRef<HTMLDivElement | null>(null);\r\n    const previousFocused = useRef<HTMLElement | null>(null);\r\n    const focusableElements = useRef<HTMLElement[]>([]);\r\n    const isInitialized = useRef(false);\r\n    const openTimeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n    const focusTimeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n    const getFocusableElements = useCallback(() => {\r\n      if (!contentRef.current) return [];\r\n\r\n      const focusableSelector = [\r\n        'a[href]',\r\n        'button:not([disabled])',\r\n        'textarea:not([disabled])',\r\n        'input:not([disabled])',\r\n        'select:not([disabled])',\r\n        '[tabindex]:not([tabindex=\"-1\"])',\r\n        '[contenteditable=\"true\"]',\r\n        'iframe',\r\n        'object',\r\n        'embed',\r\n        'area[href]',\r\n        'audio[controls]',\r\n        'video[controls]',\r\n      ].join(', ');\r\n\r\n      return Array.from(contentRef.current.querySelectorAll<HTMLElement>(focusableSelector)).filter(\r\n        el => {\r\n          const ariaHidden = el.getAttribute('aria-hidden');\r\n          const hiddenByAttr = el.hasAttribute('disabled') || ariaHidden === 'true';\r\n          return !hiddenByAttr;\r\n        }\r\n      );\r\n    }, []);\r\n\r\n    const setInitialFocus = useCallback(() => {\r\n      if (isInitialized.current) return;\r\n\r\n      const focusable = getFocusableElements();\r\n      focusableElements.current = focusable;\r\n      isInitialized.current = true;\r\n\r\n      focusTimeoutRef.current = setTimeout(() => {\r\n        const firstFocusable = focusable[0];\r\n        if (firstFocusable) {\r\n          firstFocusable.focus();\r\n        }\r\n      }, 200);\r\n    }, [getFocusableElements]);\r\n\r\n    const handleContentMount = useCallback(\r\n      (node: HTMLDivElement | null) => {\r\n        if (ref) {\r\n          if (typeof ref === 'function') {\r\n            ref(node);\r\n          } else {\r\n            ref.current = node;\r\n          }\r\n        }\r\n        contentRef.current = node;\r\n\r\n        if (node && open) {\r\n          const observer = new MutationObserver(() => {\r\n            setInitialFocus();\r\n            observer.disconnect();\r\n          });\r\n\r\n          observer.observe(node, {\r\n            attributes: true,\r\n            attributeFilter: ['tabindex'],\r\n            subtree: true,\r\n            childList: true,\r\n          });\r\n\r\n          requestAnimationFrame(() => {\r\n            setInitialFocus();\r\n          });\r\n\r\n          return () => observer.disconnect();\r\n        }\r\n      },\r\n      [ref, open, setInitialFocus]\r\n    );\r\n\r\n    const handleDialogMount = useCallback((node: HTMLDivElement | null) => {\r\n      dialogRef.current = node;\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n      return () => {\r\n        focusableElements.current = [];\r\n        isInitialized.current = false;\r\n        if (openTimeoutRef.current) {\r\n          clearTimeout(openTimeoutRef.current);\r\n        }\r\n        if (focusTimeoutRef.current) {\r\n          clearTimeout(focusTimeoutRef.current);\r\n        }\r\n      };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n      if (!open) {\r\n        focusableElements.current = [];\r\n        isInitialized.current = false;\r\n        if (openTimeoutRef.current) {\r\n          clearTimeout(openTimeoutRef.current);\r\n        }\r\n        if (focusTimeoutRef.current) {\r\n          clearTimeout(focusTimeoutRef.current);\r\n        }\r\n        return;\r\n      }\r\n\r\n      const handleKeyDown = (e: KeyboardEvent) => {\r\n        if ((e.key === 'Escape' || e.key === 'Esc') && closeOnEsc) {\r\n          setOpen(false);\r\n          return;\r\n        }\r\n\r\n        if (e.key === 'Tab') {\r\n          const focusable = focusableElements.current;\r\n\r\n          if (focusable.length === 0) {\r\n            e.preventDefault();\r\n            return;\r\n          }\r\n\r\n          const firstFocusable = focusable[0];\r\n          const lastFocusable = focusable[focusable.length - 1];\r\n          const activeElement = document.activeElement as HTMLElement;\r\n\r\n          if (e.shiftKey && activeElement === firstFocusable) {\r\n            e.preventDefault();\r\n            lastFocusable.focus();\r\n          } else if (!e.shiftKey && activeElement === lastFocusable) {\r\n            e.preventDefault();\r\n            firstFocusable.focus();\r\n          }\r\n        }\r\n      };\r\n\r\n      document.addEventListener('keydown', handleKeyDown, true);\r\n      return () => {\r\n        document.removeEventListener('keydown', handleKeyDown, true);\r\n      };\r\n    }, [open, closeOnEsc, setOpen]);\r\n\r\n    useEffect(() => {\r\n      if (open) {\r\n        document.body.classList.add('scroll-no');\r\n        previousFocused.current = document.activeElement as HTMLElement | null;\r\n\r\n        const wrapElement = document.getElementById('wrap');\r\n        if (wrapElement) {\r\n          wrapElement.setAttribute('inert', '');\r\n        }\r\n\r\n        openTimeoutRef.current = setTimeout(() => {\r\n          dialogRef.current?.classList.add('in');\r\n        }, 150);\r\n      } else {\r\n        document.body.classList.remove('scroll-no');\r\n        previousFocused.current?.focus();\r\n\r\n        const wrapElement = document.getElementById('wrap');\r\n        if (wrapElement) {\r\n          wrapElement.removeAttribute('inert');\r\n        }\r\n      }\r\n    }, [open]);\r\n\r\n    const handleOverlayClick = useCallback(\r\n      (e: React.MouseEvent) => {\r\n        const clickedElement = e.target as HTMLElement;\r\n        if (contentRef.current?.contains(clickedElement)) {\r\n          return;\r\n        }\r\n\r\n        if (closeOnOverlayClick) {\r\n          setOpen(false);\r\n        } else {\r\n          focusableElements.current[0]?.focus();\r\n        }\r\n      },\r\n      [setOpen, closeOnOverlayClick]\r\n    );\r\n\r\n    const rootClasses = classNames('krds-modal shown', open && 'in', className);\r\n\r\n    return (\r\n      <Portal enabled={usePortal} container={portalContainer}>\r\n        <section\r\n          id={sectionId}\r\n          aria-modal=\"true\"\r\n          role={role}\r\n          className={rootClasses}\r\n          data-type={variant === 'default' ? undefined : variant}\r\n          onClick={handleOverlayClick}\r\n          {...props}\r\n        >\r\n          <div\r\n            className={classNames(\r\n              'modal-dialog',\r\n              size === 'sm' && 'modal-sm',\r\n              size === 'md' && 'modal-md',\r\n              size === 'lg' && 'modal-lg'\r\n            )}\r\n            ref={handleDialogMount}\r\n          >\r\n            <div className=\"modal-content\" ref={handleContentMount}>\r\n              {children}\r\n              <ModalCloseIconButton />\r\n            </div>\r\n          </div>\r\n          <ModalOverlay />\r\n        </section>\r\n      </Portal>\r\n    );\r\n  }\r\n);\r\n\r\nModalContent.displayName = 'ModalContent';\r\n\r\nconst ModalHeader = forwardRef<HTMLDivElement, ModalHeaderProps>(\r\n  ({ children, title, titleId, className = '', ...props }, ref) => {\r\n    const id = titleId;\r\n    return (\r\n      <div className={classNames('modal-header', className)} {...props} ref={ref}>\r\n        {title ? (\r\n          <h2 id={id} className=\"modal-title\">\r\n            {title}\r\n          </h2>\r\n        ) : (\r\n          children\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\nModalHeader.displayName = 'ModalHeader';\r\n\r\nconst ModalTitle = forwardRef<HTMLHeadingElement, React.ComponentProps<'h2'>>(\r\n  ({ className = '', ...props }, ref) => {\r\n    return <h2 className={classNames('modal-title', className)} {...props} ref={ref} />;\r\n  }\r\n);\r\nModalTitle.displayName = 'ModalTitle';\r\n\r\nconst ModalDescription = forwardRef<HTMLParagraphElement, React.ComponentProps<'p'>>(\r\n  ({ className = '', ...props }, ref) => {\r\n    return (\r\n      <p className={classNames('text-sm text-muted-foreground', className)} {...props} ref={ref} />\r\n    );\r\n  }\r\n);\r\nModalDescription.displayName = 'ModalDescription';\r\n\r\nconst ModalBody = forwardRef<HTMLDivElement, ModalBodyProps>(\r\n  ({ children, className = '', descriptionId, ...props }, ref) => {\r\n    const [hasScroll, setHasScroll] = useState(false);\r\n\r\n    const bodyRef = useRef<HTMLDivElement | null>(null);\r\n\r\n    const handleBodyMount = useCallback(\r\n      (node: HTMLDivElement | null) => {\r\n        if (ref) {\r\n          if (typeof ref === 'function') {\r\n            ref(node);\r\n          } else {\r\n            ref.current = node;\r\n          }\r\n        }\r\n        bodyRef.current = node;\r\n\r\n        if (node) {\r\n          const isScrollable = node.scrollHeight > node.clientHeight;\r\n          setHasScroll(isScrollable);\r\n        }\r\n      },\r\n      [ref]\r\n    );\r\n\r\n    return (\r\n      <div\r\n        className={classNames('modal-conts', className)}\r\n        id={descriptionId}\r\n        ref={handleBodyMount}\r\n        {...(hasScroll && { tabIndex: 0 })}\r\n        {...props}\r\n      >\r\n        <div className=\"conts-area\">{children}</div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\nModalBody.displayName = 'ModalBody';\r\n\r\nconst ModalFooter = forwardRef<HTMLDivElement, ModalFooterProps>(\r\n  ({ children, className = '', ...props }, ref) => {\r\n    return (\r\n      <div className={classNames('modal-btn', 'btn-wrap', className)} {...props} ref={ref}>\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n);\r\nModalFooter.displayName = 'ModalFooter';\r\n\r\nconst ModalCloseIconButton = () => {\r\n  const { setOpen } = useModalContext();\r\n\r\n  return (\r\n    <Button\r\n      variant=\"icon\"\r\n      type=\"button\"\r\n      size=\"medium\"\r\n      className={classNames('btn-close')}\r\n      onClick={() => setOpen(false)}\r\n    >\r\n      <span className=\"sr-only\">모달 닫기</span>\r\n      <i className=\"svg-icon ico-popup-close\" />\r\n    </Button>\r\n  );\r\n};\r\n\r\nconst ModalClose = forwardRef<HTMLButtonElement, ModalCloseProps>(\r\n  ({ onClick, className, children, asChild = false, ...props }, ref) => {\r\n    const { setOpen } = useModalContext();\r\n\r\n    const handleClick = useCallback(\r\n      (e: React.MouseEvent<HTMLButtonElement>) => {\r\n        onClick?.(e);\r\n        setOpen(false);\r\n      },\r\n      [onClick, setOpen]\r\n    );\r\n\r\n    const Component = asChild ? Slot : 'button';\r\n\r\n    return (\r\n      <Component\r\n        ref={asChild ? (ref as any) : ref}\r\n        className={className}\r\n        onClick={handleClick}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </Component>\r\n    );\r\n  }\r\n);\r\n\r\nconst Modal = Object.assign(ModalRoot, {\r\n  Root: ModalRoot,\r\n  Trigger: ModalTrigger,\r\n  Content: ModalContent,\r\n  Header: ModalHeader,\r\n  Title: ModalTitle,\r\n  Description: ModalDescription,\r\n  Body: ModalBody,\r\n  Footer: ModalFooter,\r\n  Close: ModalClose,\r\n});\r\n\r\nModal.displayName = 'Modal';\r\n\r\nexport default Modal;\r\n","import { useUncontrolled } from '@/hooks/use-uncontrolled';\r\nimport { classNames } from '@/utils';\r\nimport React, { forwardRef } from 'react';\r\nimport { PaginationItem, PaginationProps } from './Pagination.types';\r\n\r\n/**\r\n * KRDS Pagination Component\r\n * @param totalPages 전체 페이지 수\r\n * @param currentPage 현재 페이지 (제어)\r\n * @param defaultPage 초기 페이지 (비제어)\r\n * @param onChange 페이지 변경 핸들러\r\n * @param prevLabel 이전 버튼 레이블\r\n * @param nextLabel 다음 버튼 레이블\r\n * @param boundaryCount 경계 영역에 표시할 페이지 수 (0-3)\r\n * @param siblingCount 현재 주변 표시 페이지 수 (0-3)\r\n * @param disabled 비활성 상태\r\n * @param className 커스텀 클래스명\r\n */\r\nconst Pagination: React.FC<PaginationProps> = forwardRef<HTMLDivElement, PaginationProps>(\r\n  (\r\n    {\r\n      totalPages,\r\n      currentPage,\r\n      defaultPage = 1,\r\n      onChange,\r\n      prevLabel = '이전',\r\n      nextLabel = '다음',\r\n      boundaryCount = 1,\r\n      siblingCount = 1,\r\n      disabled = false,\r\n      className = '',\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const [page, setPage] = useUncontrolled<number>({\r\n      value: currentPage,\r\n      defaultValue: defaultPage,\r\n      finalValue: 1,\r\n      onChange: onChange as (v: number) => void,\r\n    });\r\n\r\n    const clamp = (val: number) => Math.max(1, Math.min(totalPages, val));\r\n\r\n    const createItems = (): PaginationItem[] => {\r\n      if (totalPages <= 0) return [];\r\n\r\n      const startPages = Array.from(\r\n        { length: Math.min(boundaryCount, totalPages) },\r\n        (_, i) => i + 1\r\n      );\r\n      const endPages = Array.from(\r\n        { length: Math.min(boundaryCount, totalPages) },\r\n        (_, i) => totalPages - i\r\n      ).reverse();\r\n\r\n      const siblingsStart = Math.max(\r\n        Math.min(page - siblingCount, totalPages - boundaryCount - siblingCount * 2 - 1),\r\n        boundaryCount + 2\r\n      );\r\n      const siblingsEnd = Math.min(\r\n        Math.max(page + siblingCount, boundaryCount + siblingCount * 2 + 2),\r\n        endPages.length > 0 ? endPages[0] - 2 : totalPages - 1\r\n      );\r\n\r\n      const items: PaginationItem[] = [];\r\n\r\n      items.push(...startPages);\r\n\r\n      if (siblingsStart > boundaryCount + 2) {\r\n        items.push('dots');\r\n      } else if (boundaryCount + 1 < totalPages - boundaryCount) {\r\n        items.push(boundaryCount + 1);\r\n      }\r\n\r\n      for (let i = siblingsStart; i <= siblingsEnd; i += 1) {\r\n        if (i >= 1 && i <= totalPages) items.push(i);\r\n      }\r\n\r\n      if (siblingsEnd < totalPages - boundaryCount - 1) {\r\n        items.push('dots');\r\n      } else if (totalPages - boundaryCount > boundaryCount) {\r\n        items.push(totalPages - boundaryCount);\r\n      }\r\n\r\n      for (const p of endPages) {\r\n        if (!items.includes(p)) items.push(p);\r\n      }\r\n\r\n      const normalized: PaginationItem[] = [];\r\n      const set = new Set<string>();\r\n      for (const it of items) {\r\n        const key = String(it);\r\n        if (!set.has(key)) {\r\n          set.add(key);\r\n          normalized.push(it);\r\n        }\r\n      }\r\n      normalized.sort((a, b) => {\r\n        if (a === 'dots' || b === 'dots') return 0;\r\n        return (a as number) - (b as number);\r\n      });\r\n\r\n      const finalItems: PaginationItem[] = [];\r\n      for (let i = 0; i < normalized.length; i++) {\r\n        const curr = normalized[i];\r\n        finalItems.push(curr);\r\n        if (typeof curr === 'number' && i < normalized.length - 1) {\r\n          const next = normalized[i + 1];\r\n          if (typeof next === 'number' && next - curr > 1) {\r\n            finalItems.push('dots');\r\n          }\r\n        }\r\n      }\r\n\r\n      return finalItems;\r\n    };\r\n\r\n    const items = createItems();\r\n\r\n    const handlePrev = () => {\r\n      if (disabled) return;\r\n      const next = clamp(page - 1);\r\n      if (next !== page) setPage(next);\r\n    };\r\n\r\n    const handleNext = () => {\r\n      if (disabled) return;\r\n      const next = clamp(page + 1);\r\n      if (next !== page) setPage(next);\r\n    };\r\n\r\n    const handlePage = (p: number) => () => {\r\n      if (disabled) return;\r\n      if (p !== page) setPage(p);\r\n    };\r\n\r\n    const isPrevDisabled = disabled || page <= 1;\r\n    const isNextDisabled = disabled || page >= totalPages;\r\n\r\n    return (\r\n      <div className={classNames('krds-pagination', className)} ref={ref} {...props}>\r\n        <span\r\n          className={classNames('page-navi prev', isPrevDisabled && 'disabled')}\r\n          aria-disabled={isPrevDisabled}\r\n          role=\"button\"\r\n          tabIndex={isPrevDisabled ? -1 : 0}\r\n          onClick={!isPrevDisabled ? handlePrev : undefined}\r\n        >\r\n          {prevLabel}\r\n        </span>\r\n\r\n        <div className=\"page-links\">\r\n          {items.map((it, idx) => {\r\n            if (it === 'dots') {\r\n              return <span key={`dots-${idx}`} className=\"page-link link-dot\" aria-hidden />;\r\n            }\r\n            const isActive = it === page;\r\n            return (\r\n              <a\r\n                key={it}\r\n                className={classNames('page-link', isActive && 'active')}\r\n                aria-current={isActive ? 'page' : undefined}\r\n                onClick={handlePage(it)}\r\n                href=\"#\"\r\n              >\r\n                {isActive ? (\r\n                  <>\r\n                    <span className=\"sr-only\">현재페이지 </span>\r\n                    {it}\r\n                  </>\r\n                ) : (\r\n                  it\r\n                )}\r\n              </a>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        <a\r\n          className={classNames('page-navi next', isNextDisabled && 'disabled')}\r\n          aria-disabled={isNextDisabled}\r\n          role=\"button\"\r\n          tabIndex={isNextDisabled ? -1 : 0}\r\n          onClick={!isNextDisabled ? handleNext : undefined}\r\n          href=\"#\"\r\n        >\r\n          {nextLabel}\r\n        </a>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nPagination.displayName = 'Pagination';\r\n\r\nexport default Pagination;\r\n","import { useUncontrolled } from '@/hooks/use-uncontrolled';\r\nimport { classNames } from '@/utils';\r\nimport React, { createContext, forwardRef, useContext, useMemo, useState } from 'react';\r\nimport { RadioChipProps, RadioGroupContextType, RadioGroupProps, RadioProps } from './Radio.types';\r\n\r\nconst RadioGroupContext = createContext<RadioGroupContextType | undefined>(undefined);\r\n\r\n/**\r\n * KRDS Radio 컴포넌트\r\n * @param value 라디오 버튼의 값 (RadioGroup 내에서 사용)\r\n * @param checked 선택 상태 (controlled mode)\r\n * @param defaultChecked 초기 선택 상태 (uncontrolled mode)\r\n * @param disabled 비활성화 여부\r\n * @param size 라디오 버튼 크기 ('medium' | 'large')\r\n * @param description 부가적인 설명 텍스트\r\n * @param onChange 값 변경 시 호출되는 콜백\r\n * @param className 추가 커스텀 클래스\r\n */\r\nconst Radio = forwardRef<HTMLInputElement, RadioProps>(\r\n  (\r\n    {\r\n      id,\r\n      name,\r\n      defaultChecked,\r\n      checked,\r\n      disabled = false,\r\n      size = 'medium',\r\n      children,\r\n      description,\r\n      onChange,\r\n      className,\r\n      value,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const radioClasses = classNames('krds-form-check', size, className);\r\n\r\n    const radioGroup = useContext(RadioGroupContext);\r\n\r\n    const autoId = useMemo(() => id ?? `radio-${Math.random().toString(36).substr(2, 9)}`, [id]);\r\n\r\n    const isInGroup = !!radioGroup;\r\n    const groupValue = radioGroup?.value;\r\n    const groupName = radioGroup?.name;\r\n    const groupOnChange = radioGroup?.onChange;\r\n\r\n    const uniqueName = useMemo(() => {\r\n      if (isInGroup) return groupName;\r\n      if (name) return name;\r\n      return `radio-${autoId}`;\r\n    }, [isInGroup, groupName, name, autoId]);\r\n\r\n    const isChecked = isInGroup ? groupValue === value : checked;\r\n\r\n    const [_checked, setChecked] = useUncontrolled<boolean>({\r\n      value: isChecked,\r\n      defaultValue: defaultChecked,\r\n      onChange: (value: boolean) => {\r\n        if (onChange) {\r\n          const syntheticEvent = {\r\n            target: { checked: value },\r\n          } as React.ChangeEvent<HTMLInputElement>;\r\n          onChange(syntheticEvent);\r\n        }\r\n      },\r\n    });\r\n\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      if (isInGroup && value !== undefined) {\r\n        if (typeof value === 'string') {\r\n          groupOnChange?.(value);\r\n        }\r\n      } else {\r\n        setChecked(e.target.checked);\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div className={radioClasses}>\r\n        <input\r\n          type=\"radio\"\r\n          id={autoId}\r\n          name={uniqueName}\r\n          checked={_checked}\r\n          defaultChecked={defaultChecked}\r\n          disabled={disabled}\r\n          onChange={handleChange}\r\n          ref={ref}\r\n          {...props}\r\n        />\r\n        <label htmlFor={autoId}>{children}</label>\r\n        {description && (\r\n          <div className=\"krds-form-check-cnt\">\r\n            <p className=\"krds-form-check-p\">{description}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nRadio.displayName = 'Radio';\r\n\r\n/**\r\n * KRDS RadioChip 컴포넌트\r\n * @param value 라디오 칩의 값 (RadioGroup 내에서 사용)\r\n * @param checked 선택 상태 (controlled mode)\r\n * @param defaultChecked 초기 선택 상태 (uncontrolled mode)\r\n * @param disabled 비활성화 여부\r\n * @param size 라디오 칩 크기 ('small' | 'medium' | 'large')\r\n * @param onChange 값 변경 시 호출되는 콜백\r\n * @param className 추가 커스텀 클래스\r\n */\r\nconst RadioChip = forwardRef<HTMLInputElement, RadioChipProps>(\r\n  (\r\n    {\r\n      id,\r\n      name,\r\n      defaultChecked,\r\n      checked,\r\n      disabled = false,\r\n      size = 'medium',\r\n      children,\r\n      onChange,\r\n      className,\r\n      value,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const [isFocused, setIsFocused] = useState(false);\r\n\r\n    const radioChipClasses = classNames('krds-form-chip', size, isFocused && 'focus', className);\r\n\r\n    const radioGroup = useContext(RadioGroupContext);\r\n\r\n    const autoId = useMemo(\r\n      () => id ?? `radio-chip-${Math.random().toString(36).substr(2, 9)}`,\r\n      [id]\r\n    );\r\n\r\n    const isInGroup = !!radioGroup;\r\n    const groupValue = radioGroup?.value;\r\n    const groupName = radioGroup?.name;\r\n    const groupOnChange = radioGroup?.onChange;\r\n\r\n    const uniqueName = useMemo(() => {\r\n      if (isInGroup) return groupName;\r\n      if (name) return name;\r\n      return `radio-chip-${autoId}`;\r\n    }, [isInGroup, groupName, name, autoId]);\r\n\r\n    const isChecked = isInGroup ? groupValue === value : checked;\r\n\r\n    const [_checked, setChecked] = useUncontrolled<boolean>({\r\n      value: isChecked,\r\n      defaultValue: defaultChecked,\r\n      onChange: (value: boolean) => {\r\n        if (onChange) {\r\n          const syntheticEvent = {\r\n            target: { checked: value },\r\n          } as React.ChangeEvent<HTMLInputElement>;\r\n          onChange(syntheticEvent);\r\n        }\r\n      },\r\n    });\r\n\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      if (isInGroup && value !== undefined) {\r\n        if (typeof value === 'string') {\r\n          groupOnChange?.(value);\r\n        }\r\n      } else {\r\n        setChecked(e.target.checked);\r\n      }\r\n    };\r\n\r\n    const handleFocus = () => {\r\n      setIsFocused(true);\r\n    };\r\n\r\n    const handleBlur = () => {\r\n      setIsFocused(false);\r\n    };\r\n\r\n    return (\r\n      <div className={radioChipClasses}>\r\n        <input\r\n          type=\"radio\"\r\n          className=\"radio\"\r\n          id={autoId}\r\n          name={uniqueName}\r\n          checked={_checked}\r\n          defaultChecked={defaultChecked}\r\n          disabled={disabled}\r\n          onChange={handleChange}\r\n          onFocus={handleFocus}\r\n          onBlur={handleBlur}\r\n          ref={ref}\r\n          {...props}\r\n        />\r\n        <label className=\"krds-form-chip-outline\" htmlFor={autoId}>\r\n          {children}\r\n        </label>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nRadioChip.displayName = 'RadioChip';\r\n\r\n/**\r\n * KRDS RadioGroup 컴포넌트\r\n * @param value 라디오 그룹의 값 (controlled mode)\r\n * @param defaultValue 초기 값 (uncontrolled mode)\r\n * @param onChange 값 변경 시 호출되는 콜백\r\n * @param name 라디오 그룹의 이름\r\n * @param children Radio 또는 RadioChip 컴포넌트들\r\n * @param className 추가 커스텀 클래스\r\n * @param column 세로 배치 여부\r\n */\r\nconst RadioGroup: React.FC<RadioGroupProps> = ({\r\n  value,\r\n  defaultValue,\r\n  onChange,\r\n  name,\r\n  children,\r\n  className,\r\n  column = false,\r\n}) => {\r\n  const [currentValue, handleChange] = useUncontrolled({\r\n    value,\r\n    defaultValue,\r\n    onChange,\r\n  });\r\n\r\n  const contextValue: RadioGroupContextType = {\r\n    value: currentValue,\r\n    onChange: handleChange,\r\n    name,\r\n  };\r\n\r\n  const groupClasses = classNames('krds-check-area', column && 'chk-column', className);\r\n\r\n  return (\r\n    <RadioGroupContext.Provider value={contextValue}>\r\n      <div className={groupClasses}>{children}</div>\r\n    </RadioGroupContext.Provider>\r\n  );\r\n};\r\n\r\nRadioGroup.displayName = 'RadioGroup';\r\n\r\nexport { Radio, RadioChip, RadioGroup };\r\n","import React, { forwardRef } from 'react';\r\nimport { classNames } from '@/utils';\r\nimport { useUncontrolled } from '@/hooks/use-uncontrolled';\r\nimport { Dropdown } from '../Dropdown';\r\nimport { ResizeProps, ResizeScale, ResizeItemProps } from './Resize.types';\r\n\r\nconst DEFAULT_LABELS = {\r\n  sm: '작게',\r\n  md: '보통',\r\n  lg: '조금 크게',\r\n  xlg: '크게',\r\n  xxlg: '가장크게',\r\n};\r\n\r\nconst ResizeItem: React.FC<ResizeItemProps> = ({ scale, label, isActive, onClick }) => {\r\n  const handleClick = () => {\r\n    onClick(scale);\r\n  };\r\n\r\n  return (\r\n    <Dropdown.Item\r\n      className={classNames(scale, isActive && 'active')}\r\n      data-adjust-scale={scale}\r\n      isActive={isActive}\r\n      onClick={handleClick}\r\n    >\r\n      {label}\r\n    </Dropdown.Item>\r\n  );\r\n};\r\n\r\n/**\r\n * KRDS Resize Component\r\n * @param value 현재 선택된 크기 ('sm' | 'md' | 'lg' | 'xlg' | 'xxlg')\r\n * @param defaultValue 기본 선택된 크기\r\n * @param onChange 크기 변경 시 호출되는 콜백 함수\r\n * @param buttonText 드롭다운 버튼 텍스트\r\n * @param resetText 초기화 버튼 텍스트\r\n * @param labels 각 크기 옵션의 라벨\r\n * @param className 사용자 정의 클래스명\r\n */\r\nexport const Resize = forwardRef<HTMLButtonElement, ResizeProps>(\r\n  (\r\n    {\r\n      value,\r\n      defaultValue = 'md',\r\n      onChange,\r\n      buttonText = '화면크기',\r\n      resetText = '초기화',\r\n      labels = DEFAULT_LABELS,\r\n      className,\r\n      ...rest\r\n    },\r\n    ref\r\n  ) => {\r\n    const [currentScale, setCurrentScale] = useUncontrolled({\r\n      value,\r\n      defaultValue,\r\n      finalValue: 'md' as ResizeScale,\r\n      onChange,\r\n    });\r\n\r\n    const handleScaleChange = (scale: ResizeScale) => {\r\n      setCurrentScale(scale);\r\n\r\n      const root = document.querySelector(':root') as HTMLElement;\r\n      if (root) {\r\n        const rootStyles = getComputedStyle(root);\r\n        let zoomValue = '';\r\n\r\n        switch (scale) {\r\n          case 'sm':\r\n            zoomValue = rootStyles.getPropertyValue('--krds-zoom-small').trim();\r\n            break;\r\n          case 'md':\r\n            zoomValue = rootStyles.getPropertyValue('--krds-zoom-medium').trim();\r\n            break;\r\n          case 'lg':\r\n            zoomValue = rootStyles.getPropertyValue('--krds-zoom-large').trim();\r\n            break;\r\n          case 'xlg':\r\n            zoomValue = rootStyles.getPropertyValue('--krds-zoom-xlarge').trim();\r\n            break;\r\n          case 'xxlg':\r\n            zoomValue = rootStyles.getPropertyValue('--krds-zoom-xxlarge').trim();\r\n            break;\r\n        }\r\n\r\n        if (zoomValue) {\r\n          document.body.style.zoom = zoomValue;\r\n        }\r\n      }\r\n\r\n      onChange?.(scale);\r\n    };\r\n\r\n    const handleReset = () => {\r\n      handleScaleChange('md');\r\n    };\r\n\r\n    const scales: ResizeScale[] = ['sm', 'md', 'lg', 'xlg', 'xxlg'];\r\n\r\n    const buttonContent = (\r\n      <>\r\n        {buttonText} <i className=\"svg-icon ico-toggle\"></i>\r\n      </>\r\n    );\r\n\r\n    const bottomContent = (\r\n      <button\r\n        type=\"button\"\r\n        className=\"krds-btn medium text\"\r\n        data-adjust-scale=\"md\"\r\n        onClick={handleReset}\r\n      >\r\n        <i className=\"svg-icon ico-reset\"></i> {resetText}\r\n      </button>\r\n    );\r\n\r\n    return (\r\n      <Dropdown\r\n        buttonText={buttonContent}\r\n        className={classNames('krds-resize', className)}\r\n        ref={ref}\r\n        {...rest}\r\n      >\r\n        <Dropdown.List>\r\n          {scales.map(scale => (\r\n            <ResizeItem\r\n              key={scale}\r\n              scale={scale}\r\n              label={labels[scale]}\r\n              isActive={currentScale === scale}\r\n              onClick={handleScaleChange}\r\n            />\r\n          ))}\r\n        </Dropdown.List>\r\n        <Dropdown.BottomSection>{bottomContent}</Dropdown.BottomSection>\r\n      </Dropdown>\r\n    );\r\n  }\r\n);\r\n\r\nResize.displayName = 'Resize';\r\n","import { classNames } from '@/utils';\r\nimport React, { forwardRef } from 'react';\r\nimport { SelectProps } from './Select.types';\r\nimport { useUncontrolled } from '@/hooks/use-uncontrolled';\r\n\r\nconst Select: React.FC<SelectProps> = forwardRef<HTMLSelectElement, SelectProps>(\r\n  (\r\n    {\r\n      value,\r\n      defaultValue,\r\n      onChange,\r\n      options,\r\n      label,\r\n      hint,\r\n      error,\r\n      size = 'large',\r\n      variant = 'default',\r\n      disabled = false,\r\n      className = '',\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const [_value, setValue] = useUncontrolled({\r\n      value,\r\n      defaultValue,\r\n      onChange,\r\n    });\r\n\r\n    const selectClasses = classNames(\r\n      variant === 'sorting' ? 'krds-form-select-sort' : 'krds-form-select',\r\n      size,\r\n      error && 'is-error',\r\n      disabled && 'disabled',\r\n      className\r\n    );\r\n\r\n    if (variant === 'sorting') {\r\n      return (\r\n        <select\r\n          className={selectClasses}\r\n          disabled={disabled}\r\n          value={_value}\r\n          onChange={e => setValue(e.target.value)}\r\n          title=\"선택\"\r\n          {...props}\r\n          ref={ref}\r\n        >\r\n          {options.map(option => (\r\n            <option key={option.value} value={option.value}>\r\n              {option.label}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"form-group\">\r\n        {label && (\r\n          <div className=\"form-tit\">\r\n            <label htmlFor={props.id}>{label}</label>\r\n          </div>\r\n        )}\r\n        <div className=\"form-conts\">\r\n          <select\r\n            className={selectClasses}\r\n            disabled={disabled}\r\n            value={_value}\r\n            onChange={e => setValue(e.target.value)}\r\n            {...props}\r\n            ref={ref}\r\n          >\r\n            {options.map(option => (\r\n              <option key={option.value} value={option.value}>\r\n                {option.label}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        {hint && !error && <p className=\"form-hint\">{hint}</p>}\r\n        {error && <p className=\"form-hint-invalid\">{error}</p>}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nSelect.displayName = 'Select';\r\n\r\nexport default Select;\r\n","import { classNames } from '@/utils';\r\nimport { forwardRef, useEffect, useRef } from 'react';\r\nimport {\r\n  SideNavigationItemProps,\r\n  SideNavigationLinkProps,\r\n  SideNavigationMenuProps,\r\n  SideNavigationPopupMenuProps,\r\n  SideNavigationPopupProps,\r\n  SideNavigationPopupTitleProps,\r\n  SideNavigationPopupToggleProps,\r\n  SideNavigationProps,\r\n  SideNavigationSubItemProps,\r\n  SideNavigationSubMenuProps,\r\n  SideNavigationTitleProps,\r\n  SideNavigationToggleProps,\r\n} from './SideNavigation.types';\r\nimport { useMergeRefs } from '@/hooks/use-merge-refs';\r\n\r\n/**\r\n * KRDS SideNavigation Root Component\r\n * @param children 자식 컴포넌트들\r\n * @param className 추가 CSS 클래스\r\n */\r\nconst SideNavigationRoot = forwardRef<HTMLElement, SideNavigationProps>(\r\n  ({ children, className, ...props }, ref) => {\r\n    return (\r\n      <nav className={classNames('krds-side-navigation', className)} ref={ref} {...props}>\r\n        {children}\r\n      </nav>\r\n    );\r\n  }\r\n);\r\n\r\nSideNavigationRoot.displayName = 'SideNavigation';\r\n\r\n/**\r\n * KRDS SideNavigation Title Component\r\n * @param children 제목 텍스트\r\n * @param className 추가 CSS 클래스\r\n */\r\nconst SideNavigationTitle = forwardRef<HTMLHeadingElement, SideNavigationTitleProps>(\r\n  ({ children, className, ...props }, ref) => {\r\n    return (\r\n      <h2 className={classNames('lnb-tit', className)} ref={ref} {...props}>\r\n        {children}\r\n      </h2>\r\n    );\r\n  }\r\n);\r\n\r\nSideNavigationTitle.displayName = 'SideNavigation.Title';\r\n\r\n/**\r\n * KRDS SideNavigation Menu Component\r\n * @param children 메뉴 아이템들\r\n * @param className 추가 CSS 클래스\r\n */\r\nconst SideNavigationMenu = forwardRef<HTMLUListElement, SideNavigationMenuProps>(\r\n  ({ children, className, ...props }, ref) => {\r\n    return (\r\n      <ul className={classNames('lnb-list', className)} role=\"menubar\" ref={ref} {...props}>\r\n        {children}\r\n      </ul>\r\n    );\r\n  }\r\n);\r\n\r\nSideNavigationMenu.displayName = 'SideNavigation.Menu';\r\n\r\n/**\r\n * KRDS SideNavigation Item Component (2depth)\r\n * @param children 자식 요소들\r\n * @param active 활성화 상태 (서브메뉴 표시용)\r\n * @param className 추가 CSS 클래스\r\n */\r\nconst SideNavigationItem = forwardRef<HTMLLIElement, SideNavigationItemProps>(\r\n  ({ children, active, className, ...props }, ref) => {\r\n    return (\r\n      <li\r\n        className={classNames('lnb-item', active && 'active', className)}\r\n        role=\"none\"\r\n        ref={ref}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </li>\r\n    );\r\n  }\r\n);\r\n\r\nSideNavigationItem.displayName = 'SideNavigation.Item';\r\n\r\n/**\r\n * KRDS SideNavigation SubItem Component (3depth)\r\n * @param children 자식 요소들\r\n * @param active 활성화 상태\r\n * @param className 추가 CSS 클래스\r\n */\r\nconst SideNavigationSubItem = forwardRef<HTMLLIElement, SideNavigationSubItemProps>(\r\n  ({ children, active, className, ...props }, ref) => {\r\n    return (\r\n      <li\r\n        className={classNames('lnb-subitem', active && 'active', className)}\r\n        role=\"none\"\r\n        ref={ref}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </li>\r\n    );\r\n  }\r\n);\r\n\r\nSideNavigationSubItem.displayName = 'SideNavigation.SubItem';\r\n\r\n/**\r\n * KRDS SideNavigation Toggle Button Component\r\n * @param children 버튼 텍스트\r\n * @param active 활성화 상태\r\n * @param expanded 확장된 상태\r\n * @param onClick 클릭 핸들러\r\n * @param className 추가 CSS 클래스\r\n */\r\nconst SideNavigationToggle = forwardRef<HTMLButtonElement, SideNavigationToggleProps>(\r\n  ({ children, active, expanded, onClick, className, ...props }, ref) => {\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className={classNames('lnb-btn', 'lnb-toggle', active && 'active', className)}\r\n        role=\"menuitem\"\r\n        aria-expanded={expanded}\r\n        onClick={onClick}\r\n        ref={ref}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </button>\r\n    );\r\n  }\r\n);\r\n\r\nSideNavigationToggle.displayName = 'SideNavigation.Toggle';\r\n\r\n/**\r\n * KRDS SideNavigation SubMenu Component\r\n * @param children 서브메뉴 아이템들\r\n * @param id 메뉴 ID\r\n * @param className 추가 CSS 클래스\r\n */\r\nconst SideNavigationSubMenu = forwardRef<HTMLDivElement, SideNavigationSubMenuProps>(\r\n  ({ children, id, className, ...props }, ref) => {\r\n    return (\r\n      <div className={classNames('lnb-submenu', className)} ref={ref} {...props}>\r\n        <ul id={id} role=\"menu\">\r\n          {children}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nSideNavigationSubMenu.displayName = 'SideNavigation.SubMenu';\r\n\r\n/**\r\n * KRDS SideNavigation Link Component\r\n * @param children 링크 텍스트\r\n * @param href 링크 URL\r\n * @param current 현재 페이지 여부\r\n * @param onClick 클릭 핸들러\r\n * @param className 추가 CSS 클래스\r\n */\r\nconst SideNavigationLink = forwardRef<HTMLAnchorElement, SideNavigationLinkProps>(\r\n  ({ children, href = '#', current, onClick, className, ...props }, ref) => {\r\n    return (\r\n      <a\r\n        href={href}\r\n        className={classNames('lnb-btn', 'lnb-link', className)}\r\n        role=\"menuitem\"\r\n        aria-current={current ? 'page' : undefined}\r\n        onClick={onClick}\r\n        ref={ref}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </a>\r\n    );\r\n  }\r\n);\r\n\r\nSideNavigationLink.displayName = 'SideNavigation.Link';\r\n\r\n/**\r\n * KRDS SideNavigation Popup Toggle Component\r\n * @param children 버튼 텍스트\r\n * @param expanded 확장된 상태\r\n * @param onClick 클릭 핸들러\r\n * @param className 추가 CSS 클래스\r\n */\r\nconst SideNavigationPopupToggle = forwardRef<HTMLButtonElement, SideNavigationPopupToggleProps>(\r\n  ({ children, expanded, onClick, className, ...props }, ref) => {\r\n    const buttonRef = useRef<HTMLButtonElement>(null);\r\n    const _ref = useMergeRefs(ref, buttonRef);\r\n\r\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n      const button = event.currentTarget;\r\n      const popupSubmenu = button.nextElementSibling as HTMLElement;\r\n\r\n      if (popupSubmenu && popupSubmenu.classList.contains('lnb-submenu-lv2')) {\r\n        popupSubmenu.classList.add('active');\r\n        button.setAttribute('aria-expanded', 'true');\r\n\r\n        const handleTransitionEnd = () => {\r\n          const firstButton = popupSubmenu.querySelector('.lnb-btn-tit') as HTMLButtonElement;\r\n          firstButton?.focus();\r\n          popupSubmenu.removeEventListener('transitionend', handleTransitionEnd);\r\n        };\r\n\r\n        popupSubmenu.addEventListener('transitionend', handleTransitionEnd);\r\n      }\r\n\r\n      onClick?.(event);\r\n    };\r\n\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className={classNames('lnb-btn', 'lnb-toggle-popup', className)}\r\n        role=\"menuitem\"\r\n        aria-expanded={expanded}\r\n        aria-haspopup=\"true\"\r\n        onClick={handleClick}\r\n        ref={_ref}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </button>\r\n    );\r\n  }\r\n);\r\n\r\nSideNavigationPopupToggle.displayName = 'SideNavigation.PopupToggle';\r\n\r\n/**\r\n * KRDS SideNavigation Popup Component\r\n * @param children 팝업 내용\r\n * @param active 활성화 상태\r\n * @param id 메뉴 ID\r\n * @param className 추가 CSS 클래스\r\n */\r\nconst SideNavigationPopup = forwardRef<HTMLDivElement, SideNavigationPopupProps>(\r\n  ({ children, active, id, className, ...props }, ref) => {\r\n    const popupRef = useRef<HTMLDivElement>(null);\r\n    const _ref = useMergeRefs(ref, popupRef);\r\n\r\n    useEffect(() => {\r\n      const popupElement = popupRef.current;\r\n      if (!popupElement) return;\r\n\r\n      const handleFocusOut = (event: FocusEvent) => {\r\n        const relatedTarget = event.relatedTarget as HTMLElement;\r\n\r\n        // 포커스가 서브메뉴 밖으로 나갔는지 확인\r\n        if (!popupElement.contains(relatedTarget)) {\r\n          popupElement.classList.remove('active');\r\n\r\n          // 이전에 클릭된 토글 버튼 찾기\r\n          const toggleButton = popupElement.previousElementSibling as HTMLButtonElement;\r\n          if (toggleButton && toggleButton.classList.contains('lnb-toggle-popup')) {\r\n            toggleButton.setAttribute('aria-expanded', 'false');\r\n\r\n            const handleTransitionEnd = () => {\r\n              toggleButton.focus();\r\n              popupElement.removeEventListener('transitionend', handleTransitionEnd);\r\n            };\r\n\r\n            popupElement.addEventListener('transitionend', handleTransitionEnd);\r\n          }\r\n        }\r\n      };\r\n\r\n      popupElement.addEventListener('focusout', handleFocusOut);\r\n\r\n      return () => {\r\n        popupElement.removeEventListener('focusout', handleFocusOut);\r\n      };\r\n    }, []);\r\n\r\n    return (\r\n      <div\r\n        className={classNames('lnb-submenu-lv2', active && 'active', className)}\r\n        id={id}\r\n        role=\"menu\"\r\n        ref={_ref}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nSideNavigationPopup.displayName = 'SideNavigation.Popup';\r\n\r\n/**\r\n * KRDS SideNavigation Popup Title Component\r\n * @param children 제목 텍스트\r\n * @param onClick 클릭 핸들러\r\n * @param className 추가 CSS 클래스\r\n */\r\nconst SideNavigationPopupTitle = forwardRef<HTMLButtonElement, SideNavigationPopupTitleProps>(\r\n  ({ children, onClick, className, ...props }, ref) => {\r\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n      const button = event.currentTarget;\r\n      const popupSubmenu = button.closest('.lnb-submenu-lv2') as HTMLElement;\r\n\r\n      if (popupSubmenu) {\r\n        popupSubmenu.classList.remove('active');\r\n\r\n        const toggleButton = popupSubmenu.previousElementSibling as HTMLButtonElement;\r\n        if (toggleButton && toggleButton.classList.contains('lnb-toggle-popup')) {\r\n          toggleButton.setAttribute('aria-expanded', 'false');\r\n          toggleButton.focus();\r\n        }\r\n      }\r\n\r\n      onClick?.(event);\r\n    };\r\n\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className={classNames('lnb-btn-tit', className)}\r\n        onClick={handleClick}\r\n        ref={ref}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </button>\r\n    );\r\n  }\r\n);\r\n\r\nSideNavigationPopupTitle.displayName = 'SideNavigation.PopupTitle';\r\n\r\n/**\r\n * KRDS SideNavigation Popup Menu Component (4depth)\r\n * @param children 4depth 메뉴 아이템들\r\n * @param className 추가 CSS 클래스\r\n */\r\nconst SideNavigationPopupMenu = forwardRef<HTMLUListElement, SideNavigationPopupMenuProps>(\r\n  ({ children, className, ...props }, ref) => {\r\n    return (\r\n      <ul className={className} ref={ref} {...props}>\r\n        {children}\r\n      </ul>\r\n    );\r\n  }\r\n);\r\n\r\nSideNavigationPopupMenu.displayName = 'SideNavigation.PopupMenu';\r\n\r\nconst SideNavigation = Object.assign(SideNavigationRoot, {\r\n  Title: SideNavigationTitle,\r\n  Menu: SideNavigationMenu,\r\n  Item: SideNavigationItem,\r\n  SubItem: SideNavigationSubItem,\r\n  Toggle: SideNavigationToggle,\r\n  SubMenu: SideNavigationSubMenu,\r\n  Link: SideNavigationLink,\r\n  PopupToggle: SideNavigationPopupToggle,\r\n  Popup: SideNavigationPopup,\r\n  PopupTitle: SideNavigationPopupTitle,\r\n  PopupMenu: SideNavigationPopupMenu,\r\n});\r\n\r\nexport { SideNavigation };\r\n","import React from 'react';\r\nimport { SkipLinkProps } from './SkipLink.types';\r\n\r\n/**\r\n * KRDS SkipLink 컴포넌트\r\n * @param targetId 이동할 대상 요소 ID\r\n * @param children 링크 텍스트 내용\r\n * @param className 사용자 정의 클래스명\r\n */\r\nexport const SkipLink = React.forwardRef<HTMLDivElement, SkipLinkProps>(\r\n  ({ targetId = 'breadcrumb', children = '본문 바로가기', className, ...props }, ref) => {\r\n    return (\r\n      <div id=\"krds-skip-link\" ref={ref} className={className} {...props}>\r\n        <a href={`#${targetId}`}>{children}</a>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nSkipLink.displayName = 'SkipLink';\r\n\r\nexport default SkipLink;\r\n","import { classNames } from '@/utils';\r\nimport { forwardRef } from 'react';\r\nimport { StepIndicatorProps } from './StepIndicator.types';\r\n\r\n/**\r\n * KRDS StepIndicator Component\r\n * @param steps 단계 목록\r\n * @param currentStep 현재 활성 단계 인덱스 (0부터 시작, 기본값 -1)\r\n * @param currentStepText 스크린 리더용 현재 단계 텍스트\r\n * @param pageTitle 페이지 타이틀 텍스트\r\n */\r\nexport const StepIndicator = forwardRef<HTMLOListElement, StepIndicatorProps>(\r\n  (\r\n    { steps, currentStep = -1, currentStepText = '현재단계', pageTitle, className, ...props },\r\n    ref\r\n  ) => {\r\n    const getStepStatus = (index: number): 'default' | 'done' | 'active' => {\r\n      if (index < currentStep) return 'done';\r\n      if (index === currentStep) return 'active';\r\n      return 'default';\r\n    };\r\n\r\n    const stepList = (\r\n      <ol ref={ref} className={classNames('krds-step-wrap', className)} {...props}>\r\n        {steps.map((step, index) => {\r\n          const status = getStepStatus(index);\r\n          const isActive = status === 'active';\r\n          const stepKey = step.id || `step-${index}`;\r\n\r\n          return (\r\n            <li key={stepKey} className={status !== 'default' ? status : undefined}>\r\n              <span>\r\n                {isActive && <em className=\"sr-only\">{currentStepText}</em>}\r\n                <i className=\"step\">{step.step}</i>\r\n                <span className=\"step-tit\">{step.title}</span>\r\n              </span>\r\n            </li>\r\n          );\r\n        })}\r\n      </ol>\r\n    );\r\n\r\n    if (pageTitle) {\r\n      return (\r\n        <div className=\"page-title-wrap between\">\r\n          <h2 className=\"h-tit\">{pageTitle}</h2>\r\n          {stepList}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return stepList;\r\n  }\r\n);\r\n\r\nStepIndicator.displayName = 'StepIndicator';\r\n","import { classNames } from '@/utils';\r\nimport { forwardRef } from 'react';\r\nimport { Badge } from '../Badge';\r\nimport Button from '../Button';\r\nimport {\r\n  StructuredListActionProps,\r\n  StructuredListBadgeProps,\r\n  StructuredListBodyProps,\r\n  StructuredListButtonsProps,\r\n  StructuredListContentProps,\r\n  StructuredListDescriptionProps,\r\n  StructuredListFooterProps,\r\n  StructuredListHeaderProps,\r\n  StructuredListItemProps,\r\n  StructuredListMetaProps,\r\n  StructuredListProps,\r\n  StructuredListTagProps,\r\n  StructuredListTitleProps,\r\n} from './StructuredList.types';\r\n\r\n/**\r\n * KRDS StructuredList Component\r\n * @param children 구조화 목록 아이템들\r\n * @param className 사용자 정의 클래스명\r\n */\r\nexport const StructuredList = forwardRef<HTMLUListElement, StructuredListProps>(\r\n  ({ children, className, ...props }, ref) => {\r\n    const listClasses = classNames('krds-structured-list', 'type-full', className);\r\n    return (\r\n      <ul ref={ref} className={listClasses} {...props}>\r\n        {children}\r\n      </ul>\r\n    );\r\n  }\r\n);\r\n\r\nStructuredList.displayName = 'StructuredList';\r\n\r\n/**\r\n * KRDS StructuredListItem Component\r\n * @param children 구조화 목록 아이템 내용\r\n * @param className 사용자 정의 클래스명\r\n */\r\nexport const StructuredListItem = forwardRef<HTMLLIElement, StructuredListItemProps>(\r\n  ({ children, className, ...props }, ref) => {\r\n    const itemClasses = classNames('structured-item', className);\r\n    return (\r\n      <li ref={ref} className={itemClasses} {...props}>\r\n        <div className=\"in\">{children}</div>\r\n      </li>\r\n    );\r\n  }\r\n);\r\n\r\nStructuredListItem.displayName = 'StructuredListItem';\r\n\r\n/**\r\n * KRDS StructuredListHeader Component\r\n * @param children 헤더 내용\r\n * @param className 사용자 정의 클래스명\r\n */\r\nexport function StructuredListHeader({ children, className }: StructuredListHeaderProps) {\r\n  return <div className={classNames('card-top', className)}>{children}</div>;\r\n}\r\n\r\n/**\r\n * KRDS StructuredListBadge Component\r\n * @param children 뱃지 텍스트\r\n * @param variant 뱃지 종류 ('filled' | 'light')\r\n * @param color 뱃지 색상 ('primary' | 'success' | 'secondary')\r\n * @param className 사용자 정의 클래스명\r\n */\r\nexport function StructuredListBadge({\r\n  children,\r\n  variant = 'light',\r\n  color = 'primary',\r\n  className,\r\n}: StructuredListBadgeProps) {\r\n  return (\r\n    <Badge variant={variant} color={color} className={className}>\r\n      {children}\r\n    </Badge>\r\n  );\r\n}\r\n\r\n/**\r\n * KRDS StructuredListBody Component\r\n * @param children 본문 내용\r\n * @param className 사용자 정의 클래스명\r\n */\r\nexport function StructuredListBody({ children, className }: StructuredListBodyProps) {\r\n  return <div className={classNames('card-body', className)}>{children}</div>;\r\n}\r\n\r\n/**\r\n * KRDS StructuredListContent Component\r\n * @param children 내용 요소들\r\n * @param href 링크 URL\r\n * @param className 사용자 정의 클래스명\r\n */\r\nexport function StructuredListContent({ children, href, className }: StructuredListContentProps) {\r\n  const contentClasses = classNames('c-text', className);\r\n\r\n  if (href) {\r\n    return (\r\n      <a href={href} className={contentClasses}>\r\n        {children}\r\n      </a>\r\n    );\r\n  }\r\n\r\n  return <div className={contentClasses}>{children}</div>;\r\n}\r\n\r\n/**\r\n * KRDS StructuredListTitle Component\r\n * @param children 제목 텍스트\r\n * @param className 사용자 정의 클래스명\r\n */\r\nexport function StructuredListTitle({ children, className }: StructuredListTitleProps) {\r\n  return (\r\n    <p className={classNames('c-tit', className)}>\r\n      <span className=\"span\">{children}</span>\r\n    </p>\r\n  );\r\n}\r\n\r\n/**\r\n * KRDS StructuredListDescription Component\r\n * @param children 설명 텍스트\r\n * @param className 사용자 정의 클래스명\r\n */\r\nexport function StructuredListDescription({ children, className }: StructuredListDescriptionProps) {\r\n  return <p className={classNames('c-txt', className)}>{children}</p>;\r\n}\r\n\r\n/**\r\n * KRDS StructuredListMeta Component\r\n * @param label 메타 레이블\r\n * @param children 메타 값\r\n * @param className 사용자 정의 클래스명\r\n */\r\nexport function StructuredListMeta({ label, children, className }: StructuredListMetaProps) {\r\n  return (\r\n    <p className={classNames('c-date', className)}>\r\n      {label && <strong className=\"key\">{label}</strong>}\r\n      <span className=\"value\">{children}</span>\r\n    </p>\r\n  );\r\n}\r\n\r\n/**\r\n * KRDS StructuredListAction Component\r\n * @param children 액션 텍스트\r\n * @param onClick 클릭 핸들러\r\n * @param href 링크 URL\r\n * @param variant 버튼 종류 ('primary' | 'secondary' | 'text')\r\n * @param title 버튼 제목\r\n * @param className 사용자 정의 클래스명\r\n */\r\nexport function StructuredListAction({\r\n  children,\r\n  onClick,\r\n  href,\r\n  variant = 'secondary',\r\n  title,\r\n  className,\r\n}: StructuredListActionProps) {\r\n  return (\r\n    <div className={classNames('c-btn', className)}>\r\n      {href ? (\r\n        <Button as=\"a\" href={href} variant={variant} title={title}>\r\n          {children}\r\n        </Button>\r\n      ) : (\r\n        <Button variant={variant} onClick={onClick} title={title}>\r\n          {children}\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n/**\r\n * KRDS StructuredListFooter Component\r\n * @param children 푸터 내용\r\n * @param className 사용자 정의 클래스명\r\n */\r\nexport function StructuredListFooter({ children, className }: StructuredListFooterProps) {\r\n  return <div className={classNames('card-btm', className)}>{children}</div>;\r\n}\r\n\r\n/**\r\n * KRDS StructuredListTag Component\r\n * @param children 태그 텍스트\r\n * @param className 사용자 정의 클래스명\r\n */\r\nexport function StructuredListTag({ children, className }: StructuredListTagProps) {\r\n  return <span className={classNames('tag', className)}>{children}</span>;\r\n}\r\n\r\n/**\r\n * KRDS StructuredListButtons Component\r\n * @param children 버튼 요소들\r\n * @param className 사용자 정의 클래스명\r\n */\r\nexport function StructuredListButtons({ children, className }: StructuredListButtonsProps) {\r\n  return <div className={classNames('card-btn', className)}>{children}</div>;\r\n}\r\n","import React, { forwardRef, useCallback, useRef, createContext, useContext, useState } from 'react';\r\nimport { classNames } from '@/utils';\r\nimport { useUncontrolled } from '@/hooks/use-uncontrolled';\r\n\r\nimport {\r\n  TabProps,\r\n  TabListProps,\r\n  TabTriggerProps,\r\n  TabPanelProps,\r\n  TabContextValue,\r\n  TabContentProps,\r\n} from './Tab.types';\r\n\r\nconst TabContext = createContext<TabContextValue | null>(null);\r\n\r\nconst useTabContext = () => {\r\n  const context = useContext(TabContext);\r\n  if (!context) {\r\n    throw new Error('Tab compound components must be used within a Tab component');\r\n  }\r\n  return context;\r\n};\r\n\r\n/**\r\n * KRDS Tab Root Component\r\n * @param value 활성 탭 값 (제어 모드)\r\n * @param defaultValue 기본 활성 탭 값 (비제어 모드)\r\n * @param onValueChange 탭 변경 콜백\r\n * @param variant 탭 변형 ('line' | 'fill')\r\n * @param size 탭 크기 ('normal' | 'full')\r\n * @param children 자식 컴포넌트\r\n * @param className 커스텀 클래스명\r\n */\r\nexport const Tab = forwardRef<HTMLDivElement, TabProps>(\r\n  (\r\n    {\r\n      value,\r\n      defaultValue,\r\n      onValueChange,\r\n      variant = 'line',\r\n      size = 'full',\r\n      children,\r\n      className,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const triggerRefs = useRef<Map<string, HTMLButtonElement | null>>(new Map());\r\n    const triggerOrder = useRef<string[]>([]);\r\n\r\n    const [_activeValue, setActiveValue] = useUncontrolled({\r\n      value,\r\n      defaultValue,\r\n      onChange: onValueChange,\r\n      finalValue: '',\r\n    });\r\n\r\n    const registerTrigger = useCallback((element: HTMLButtonElement | null, value: string) => {\r\n      if (element) {\r\n        if (!triggerRefs.current.has(value)) {\r\n          triggerOrder.current.push(value);\r\n        }\r\n        triggerRefs.current.set(value, element);\r\n      } else {\r\n        triggerRefs.current.delete(value);\r\n        triggerOrder.current = triggerOrder.current.filter(v => v !== value);\r\n      }\r\n\r\n      return triggerOrder.current.indexOf(value);\r\n    }, []);\r\n\r\n    const contextValue: TabContextValue = {\r\n      activeValue: _activeValue,\r\n      onValueChange: setActiveValue,\r\n      variant,\r\n      size,\r\n      registerTrigger,\r\n      triggerOrder,\r\n      triggerRefs,\r\n    };\r\n\r\n    return (\r\n      <TabContext.Provider value={contextValue}>\r\n        <div ref={ref} className={classNames('krds-tab-area', className)} {...props}>\r\n          {children}\r\n        </div>\r\n      </TabContext.Provider>\r\n    );\r\n  }\r\n);\r\n\r\n/**\r\n * KRDS TabList Component\r\n * @param children 자식 컴포넌트 (TabTrigger들)\r\n * @param className 커스텀 클래스명\r\n */\r\nexport const TabList = forwardRef<HTMLUListElement, TabListProps>(\r\n  ({ children, className, ...props }, ref) => {\r\n    const { variant, size } = useTabContext();\r\n\r\n    const tabClasses = classNames('tab', variant, size === 'full' && 'full');\r\n\r\n    return (\r\n      <div className={tabClasses}>\r\n        <ul ref={ref} role=\"tablist\" className={className} {...props}>\r\n          {children}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\n/**\r\n * KRDS TabTrigger Component\r\n * @param value 탭 값\r\n * @param children 자식 컴포넌트\r\n * @param className 커스텀 클래스명\r\n */\r\nexport const TabTrigger = forwardRef<HTMLButtonElement, TabTriggerProps>(\r\n  ({ value, children, className, disabled, ...props }, ref) => {\r\n    const { activeValue, onValueChange, registerTrigger, triggerOrder, triggerRefs } =\r\n      useTabContext();\r\n\r\n    const buttonRef = useRef<HTMLButtonElement | null>(null);\r\n    const [triggerIndex, setTriggerIndex] = useState(-1);\r\n\r\n    const isActive = activeValue === value;\r\n\r\n    const handleRef = useCallback(\r\n      (element: HTMLButtonElement | null) => {\r\n        buttonRef.current = element;\r\n        const index = registerTrigger(element, value);\r\n        setTriggerIndex(index);\r\n\r\n        if (typeof ref === 'function') {\r\n          ref(element);\r\n        } else if (ref) {\r\n          ref.current = element;\r\n        }\r\n      },\r\n      [value, registerTrigger, ref]\r\n    );\r\n\r\n    const handleClick = useCallback(() => {\r\n      if (disabled) return;\r\n      onValueChange?.(value);\r\n    }, [value, onValueChange, disabled]);\r\n\r\n    const handleKeyDown = useCallback(\r\n      (event: React.KeyboardEvent<HTMLButtonElement>) => {\r\n        if (triggerIndex === -1) return;\r\n\r\n        const totalTriggers = triggerOrder.current?.length || 0;\r\n        let newIndex: number | null = null;\r\n\r\n        switch (event.key) {\r\n          case 'ArrowRight':\r\n            event.preventDefault();\r\n            newIndex = triggerIndex + 1 >= totalTriggers ? 0 : triggerIndex + 1;\r\n            break;\r\n          case 'ArrowLeft':\r\n            event.preventDefault();\r\n            newIndex = triggerIndex - 1 < 0 ? totalTriggers - 1 : triggerIndex - 1;\r\n            break;\r\n          case 'Home':\r\n            event.preventDefault();\r\n            newIndex = 0;\r\n            break;\r\n          case 'End':\r\n            event.preventDefault();\r\n            newIndex = totalTriggers - 1;\r\n            break;\r\n        }\r\n\r\n        if (newIndex !== null && newIndex !== triggerIndex) {\r\n          const targetValue = triggerOrder.current?.[newIndex] || '';\r\n          const targetElement = triggerRefs.current?.get(targetValue);\r\n          targetElement?.focus();\r\n        }\r\n      },\r\n      [triggerIndex, triggerOrder, triggerRefs]\r\n    );\r\n\r\n    const tabId = `tab_${value}`;\r\n    const panelId = `panel_${value}`;\r\n\r\n    return (\r\n      <li role=\"presentation\" className={classNames('tab-item', isActive && 'active')}>\r\n        <button\r\n          role=\"tab\"\r\n          id={tabId}\r\n          ref={handleRef}\r\n          aria-selected={isActive}\r\n          aria-controls={panelId}\r\n          type=\"button\"\r\n          className={classNames('btn-tab', className)}\r\n          onClick={handleClick}\r\n          onKeyDown={handleKeyDown}\r\n          disabled={disabled}\r\n          {...props}\r\n        >\r\n          {children}\r\n          {isActive && <i className=\"sr-only\">선택됨</i>}\r\n        </button>\r\n      </li>\r\n    );\r\n  }\r\n);\r\n\r\nexport const TabContent = forwardRef<HTMLDivElement, TabContentProps>(\r\n  ({ children, className, ...props }, ref) => {\r\n    return (\r\n      <div ref={ref} className={classNames('tab-conts-wrap', className)} {...props}>\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\n/**\r\n * KRDS TabPanel Component\r\n * @param value 탭 값\r\n * @param children 자식 컴포넌트\r\n * @param className 커스텀 클래스명\r\n */\r\nexport const TabPanel = forwardRef<HTMLElement, TabPanelProps>(\r\n  ({ value, children, className, ...props }, ref) => {\r\n    const { activeValue } = useTabContext();\r\n    const isActive = activeValue === value;\r\n\r\n    const tabId = `tab_${value}`;\r\n    const panelId = `panel_${value}`;\r\n\r\n    const panelClassName = classNames('tab-conts', isActive && 'active', className);\r\n\r\n    return (\r\n      <section\r\n        ref={ref}\r\n        id={panelId}\r\n        role=\"tabpanel\"\r\n        aria-labelledby={tabId}\r\n        className={panelClassName}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </section>\r\n    );\r\n  }\r\n);\r\n\r\nTab.displayName = 'Tab';\r\nTabList.displayName = 'TabList';\r\nTabTrigger.displayName = 'TabTrigger';\r\nTabPanel.displayName = 'TabPanel';\r\n","import { classNames } from '@/utils';\r\nimport React, { forwardRef } from 'react';\r\nimport { TagProps, TagWrapProps } from './Tag.types';\r\n\r\n/**\r\n * KRDS Tag Component\r\n * @param variant tag type ('deletable' | 'link')\r\n * @param onDelete delete button click handler\r\n * @param deleteDisabled delete button disabled state\r\n * @param className custom class name\r\n */\r\nexport const Tag = forwardRef<HTMLSpanElement | HTMLAnchorElement, TagProps>(\r\n  ({ children, className, ...props }, ref) => {\r\n    const tagClassName = classNames('krds-btn-tag', props.variant === 'link' && 'link', className);\r\n\r\n    if (props.variant === 'link') {\r\n      const { variant: _variant, ...linkProps } = props;\r\n      return (\r\n        <a ref={ref as React.Ref<HTMLAnchorElement>} className={tagClassName} {...linkProps}>\r\n          {children}\r\n        </a>\r\n      );\r\n    }\r\n\r\n    const { variant: _variant, onDelete, deleteDisabled, ...spanProps } = props;\r\n\r\n    return (\r\n      <span ref={ref as React.Ref<HTMLSpanElement>} className={tagClassName} {...spanProps}>\r\n        {children}\r\n        {onDelete && (\r\n          <button type=\"button\" className=\"btn-delete\" onClick={onDelete} disabled={deleteDisabled}>\r\n            <span className=\"sr-only\">삭제</span>\r\n          </button>\r\n        )}\r\n      </span>\r\n    );\r\n  }\r\n);\r\n\r\nTag.displayName = 'Tag';\r\n\r\n/**\r\n * KRDS TagWrap Component\r\n * @param size tag group size ('small' | 'medium' | 'large')\r\n * @param className custom class name\r\n */\r\nexport const TagWrap = forwardRef<HTMLDivElement, TagWrapProps>(\r\n  ({ children, size = 'medium', className, ...props }, ref) => {\r\n    const wrapClassName = classNames('krds-tag-wrap', size, className);\r\n\r\n    return (\r\n      <div ref={ref} className={wrapClassName} {...props}>\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nTagWrap.displayName = 'TagWrap';\r\n","import { useUncontrolled } from '@/hooks/use-uncontrolled';\r\nimport { classNames } from '@/utils';\r\nimport React, { forwardRef, useId, useMemo } from 'react';\r\nimport { TextareaProps } from './Textarea.types';\r\n\r\n/**\r\n * KRDS Textarea Component\r\n * @param value 제어 상태일 때 입력된 값\r\n * @param defaultValue 비제어 상태일 때의 초기 값\r\n * @param onChange 입력 값이 변경될 때 호출되는 콜백\r\n * @param label 레이블\r\n * @param countTotal 글자수 총합 표시값\r\n * @param maxLength 최대 글자수\r\n * @param showCount 글자수 카운터 표시 여부\r\n * @param disabled disabled 상태\r\n * @param readOnly readOnly 상태\r\n * @param className custom class name\r\n */\r\nconst Textarea: React.FC<TextareaProps> = forwardRef<HTMLTextAreaElement, TextareaProps>(\r\n  (\r\n    {\r\n      value,\r\n      defaultValue,\r\n      onChange,\r\n      label,\r\n      maxLength,\r\n      showCount = true,\r\n      countTotal = 100,\r\n      disabled = false,\r\n      readOnly = false,\r\n      className = '',\r\n      id,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const generatedId = useId();\r\n    const textareaId = id || generatedId;\r\n\r\n    const [_value, setValue] = useUncontrolled<string>({\r\n      value,\r\n      defaultValue,\r\n      onChange,\r\n    });\r\n\r\n    const currentLength = useMemo(() => {\r\n      return _value ? _value.length : 0;\r\n    }, [_value]);\r\n\r\n    const shouldShowCount = showCount || Boolean(maxLength);\r\n\r\n    const textareaClasses = classNames('krds-input', className);\r\n\r\n    const containerClasses = classNames('form-group');\r\n\r\n    return (\r\n      <div className={containerClasses}>\r\n        {label && (\r\n          <div className=\"form-tit\">\r\n            <label htmlFor={textareaId}>{label}</label>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"form-conts\">\r\n          <div className=\"textarea-wrap\">\r\n            <textarea\r\n              ref={ref}\r\n              id={textareaId}\r\n              className={textareaClasses}\r\n              value={_value}\r\n              onChange={e => setValue(e.target.value)}\r\n              disabled={disabled}\r\n              readOnly={readOnly}\r\n              maxLength={maxLength}\r\n              {...props}\r\n            />\r\n\r\n            {shouldShowCount && (\r\n              <p className=\"textarea-count\">\r\n                <span className=\"count-now\">{currentLength}</span>\r\n                <span className=\"count-total\">/{maxLength ?? countTotal}</span>\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nTextarea.displayName = 'Textarea';\r\n\r\nexport default Textarea;\r\n","import { useUncontrolled } from '@/hooks/use-uncontrolled';\r\nimport { classNames } from '@/utils';\r\nimport { forwardRef, useId, useState, useEffect } from 'react';\r\nimport { TextInputProps } from './TextInput.types';\r\nimport Button from '../Button';\r\n\r\n/**\r\n * KRDS TextInput Component\r\n * @param value 제어 상태일 때 입력된 값\r\n * @param defaultValue 비제어 상태일 때의 초기 값\r\n * @param onChange 입력 값이 변경될 때 호출되는 콜백\r\n * @param label 레이블\r\n * @param hint 도움말 텍스트\r\n * @param error 에러 메시지\r\n * @param success 성공 메시지\r\n * @param information 정보 메시지\r\n * @param size 입력 필드 크기 ('small' | 'medium' | 'large' | 'xlarge')\r\n * @param showPasswordToggle 비밀번호 보기/숨기기 버튼 표시 여부\r\n * @param showClearButton 삭제 버튼 표시 여부\r\n * @param type 입력 필드 타입\r\n * @param disabled disabled 상태\r\n * @param readOnly readOnly 상태\r\n * @param className custom class name\r\n */\r\nconst TextInput = forwardRef<HTMLInputElement, TextInputProps>(\r\n  (\r\n    {\r\n      value,\r\n      defaultValue,\r\n      onChange,\r\n      label,\r\n      hint,\r\n      error,\r\n      success,\r\n      information,\r\n      size = 'large',\r\n      showPasswordToggle = false,\r\n      showClearButton = false,\r\n      type = 'text',\r\n      disabled = false,\r\n      readOnly = false,\r\n      className = '',\r\n      id,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const generatedId = useId();\r\n    const inputId = id || generatedId;\r\n\r\n    const [_value, setValue] = useUncontrolled<string>({\r\n      value,\r\n      defaultValue,\r\n      onChange,\r\n      finalValue: '',\r\n    });\r\n\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [internalType, setInternalType] = useState(type);\r\n\r\n    useEffect(() => {\r\n      if (type === 'password') {\r\n        setInternalType(showPassword ? 'text' : 'password');\r\n      } else {\r\n        setInternalType(type);\r\n      }\r\n    }, [type, showPassword]);\r\n\r\n    const isError = Boolean(error);\r\n    const isSuccess = Boolean(success) && !isError;\r\n    const isInformation = Boolean(information) && !isError && !isSuccess;\r\n\r\n    const shouldShowPasswordToggle = showPasswordToggle && type === 'password';\r\n    const shouldShowClearButton = showClearButton && _value && !disabled && !readOnly;\r\n    const hasButtons = shouldShowPasswordToggle || shouldShowClearButton;\r\n\r\n    const containerClasses = classNames(\r\n      'form-group',\r\n      isError && 'is-error',\r\n      isSuccess && 'is-success',\r\n      isInformation && 'is-information',\r\n      className\r\n    );\r\n\r\n    const inputWrapperClasses = classNames('form-conts', hasButtons && 'btn-ico-wrap');\r\n\r\n    const handleClear = () => {\r\n      setValue('');\r\n    };\r\n\r\n    const handlePasswordToggle = () => {\r\n      setShowPassword(prev => !prev);\r\n    };\r\n\r\n    const renderHintMessage = () => {\r\n      if (isError) {\r\n        return <p className=\"form-hint-invalid\">{error}</p>;\r\n      }\r\n      if (isSuccess) {\r\n        return <p className=\"form-hint-success\">{success}</p>;\r\n      }\r\n      if (isInformation) {\r\n        return <p className=\"form-hint-information\">{information}</p>;\r\n      }\r\n      if (hint) {\r\n        return <p className=\"form-hint\">{hint}</p>;\r\n      }\r\n      return null;\r\n    };\r\n\r\n    return (\r\n      <div className={containerClasses}>\r\n        {label && (\r\n          <div className=\"form-tit\">\r\n            <label htmlFor={inputId}>{label}</label>\r\n          </div>\r\n        )}\r\n\r\n        <div\r\n          className={inputWrapperClasses}\r\n          {...(shouldShowClearButton && { 'data-delete': 'true' })}\r\n        >\r\n          <input\r\n            ref={ref}\r\n            id={inputId}\r\n            type={internalType}\r\n            className={classNames('krds-input', size)}\r\n            value={_value}\r\n            onChange={e => setValue(e.target.value)}\r\n            disabled={disabled}\r\n            readOnly={readOnly}\r\n            {...props}\r\n          />\r\n\r\n          {hasButtons && (\r\n            <div className=\"btn-group\">\r\n              {shouldShowClearButton && (\r\n                <Button\r\n                  variant=\"icon\"\r\n                  size=\"medium\"\r\n                  className=\"pure btn-delete-input\"\r\n                  onClick={handleClear}\r\n                >\r\n                  <span className=\"sr-only\">내용 삭제</span>\r\n                  <i className=\"svg-icon ico-delete-fill\" />\r\n                </Button>\r\n              )}\r\n\r\n              {shouldShowPasswordToggle && (\r\n                <Button variant=\"icon\" size=\"medium\" onClick={handlePasswordToggle}>\r\n                  <span className=\"sr-only\">\r\n                    {showPassword ? '입력한 비밀번호 가리기' : '입력한 비밀번호 보기'}\r\n                  </span>\r\n                  <i\r\n                    className={classNames(\r\n                      'svg-icon ico-pw-visible',\r\n                      showPassword && 'ico-pw-visible-on',\r\n                      !showPassword && 'ico-pw-visible'\r\n                    )}\r\n                  />\r\n                </Button>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {renderHintMessage()}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nTextInput.displayName = 'TextInput';\r\n\r\nexport default TextInput;\r\n","import { useUncontrolled } from '@/hooks/use-uncontrolled';\r\nimport { classNames } from '@/utils';\r\nimport React, { forwardRef, useId, useState } from 'react';\r\nimport { ToggleSwitchProps } from './ToggleSwitch.types';\r\n\r\n/**\r\n * KRDS ToggleSwitch Component\r\n * @param size 토글 스위치 크기 ('medium' | 'large')\r\n * @param label 토글 스위치 라벨 텍스트\r\n * @param checked 체크 상태 (제어된 컴포넌트)\r\n * @param defaultChecked 기본 체크 상태 (비제어 컴포넌트)\r\n * @param onChange 값 변경 핸들러\r\n * @param className 추가 CSS 클래스명\r\n */\r\nexport const ToggleSwitch = forwardRef<HTMLInputElement, ToggleSwitchProps>(\r\n  (\r\n    {\r\n      size = 'large',\r\n      label,\r\n      checked,\r\n      defaultChecked = false,\r\n      onChange,\r\n      className,\r\n      id: providedId,\r\n      disabled,\r\n      ...rest\r\n    },\r\n    ref\r\n  ) => {\r\n    const autoId = useId();\r\n    const id = providedId || autoId;\r\n\r\n    const [isFocused, setIsFocused] = useState(false);\r\n\r\n    const [internalChecked, handleCheckedChange] = useUncontrolled({\r\n      value: checked,\r\n      defaultValue: defaultChecked,\r\n      finalValue: false,\r\n      onChange: (value, event) => {\r\n        if (!disabled) {\r\n          onChange?.(value, event as React.ChangeEvent<HTMLInputElement>);\r\n        }\r\n      },\r\n    });\r\n\r\n    const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n      if (disabled) {\r\n        return;\r\n      }\r\n      handleCheckedChange(event.target.checked, event);\r\n    };\r\n\r\n    const handleFocus = () => {\r\n      setIsFocused(true);\r\n    };\r\n\r\n    const handleBlur = () => {\r\n      setIsFocused(false);\r\n    };\r\n\r\n    const containerClasses = classNames(\r\n      'krds-form-toggle-switch',\r\n      size === 'medium' && 'medium',\r\n      size === 'large' && 'large',\r\n      isFocused && 'focus',\r\n      className\r\n    );\r\n\r\n    return (\r\n      <div className={containerClasses}>\r\n        <input\r\n          ref={ref}\r\n          type=\"checkbox\"\r\n          id={id}\r\n          checked={internalChecked}\r\n          disabled={disabled}\r\n          onChange={handleInputChange}\r\n          onFocus={handleFocus}\r\n          onBlur={handleBlur}\r\n          {...rest}\r\n        />\r\n        <label htmlFor={id}>\r\n          <span className=\"switch-toggle\">\r\n            <i></i>\r\n          </span>\r\n          {label}\r\n        </label>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nToggleSwitch.displayName = 'ToggleSwitch';\r\n","import React, {\r\n  useRef,\r\n  useState,\r\n  useEffect,\r\n  forwardRef,\r\n  cloneElement,\r\n  isValidElement,\r\n  useId,\r\n} from 'react';\r\nimport { classNames } from '@/utils';\r\nimport { TooltipProps } from './Tooltip.types';\r\n\r\n/**\r\n * KRDS Tooltip Component\r\n * @param text 툴팁에 표시될 텍스트\r\n * @param variant 툴팁 방향 ('vertical' | 'horizontal' | 'box')\r\n * @param className 추가 클래스명\r\n */\r\nconst Tooltip = forwardRef<HTMLElement, TooltipProps>(\r\n  ({ children, text, variant = 'vertical', className }, ref) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [position, setPosition] = useState({\r\n      top: 0,\r\n      left: 0,\r\n      isTop: false,\r\n      isBottom: false,\r\n      isLeft: false,\r\n      isRight: false,\r\n      isMobileSmall: false,\r\n    });\r\n    const triggerRef = useRef<HTMLElement>(null);\r\n    const contentRef = useRef<HTMLDivElement>(null);\r\n    const contentId = `tooltip-popover-${useId()}`;\r\n\r\n    const calculatePosition = React.useCallback(() => {\r\n      if (!triggerRef.current || !contentRef.current) return;\r\n\r\n      const tooltipGap = 12;\r\n      const { clientHeight: tooltipHeight, clientWidth: tooltipWidth } = contentRef.current;\r\n      const {\r\n        top: itemTop,\r\n        left: itemLeft,\r\n        right: itemRight,\r\n        height: itemHeight,\r\n        width: itemWidth,\r\n      } = triggerRef.current.getBoundingClientRect();\r\n      const halfWindowWidth = window.innerWidth / 2;\r\n      const halfWindowHeight = window.innerHeight / 2;\r\n\r\n      let tooltipTop: number;\r\n      let tooltipLeft: number;\r\n      let isTop = false;\r\n      let isBottom = false;\r\n      let isLeft = false;\r\n      let isRight = false;\r\n\r\n      const isMobile = window.innerWidth <= 768;\r\n      const isVertical = isMobile || variant === 'box' || variant === 'vertical';\r\n\r\n      if (isVertical) {\r\n        if (itemTop + itemHeight > halfWindowHeight) {\r\n          tooltipTop = itemTop - tooltipHeight - tooltipGap;\r\n          isTop = true;\r\n        } else {\r\n          tooltipTop = itemTop + itemHeight + tooltipGap;\r\n          isBottom = true;\r\n        }\r\n        if (itemLeft + itemWidth > halfWindowWidth) {\r\n          tooltipLeft = itemRight - tooltipWidth;\r\n          isRight = true;\r\n          if (window.innerWidth - (itemLeft + itemWidth) > tooltipWidth / 2) {\r\n            tooltipLeft = itemLeft + (itemWidth - tooltipWidth) / 2;\r\n            isRight = false;\r\n          }\r\n        } else {\r\n          tooltipLeft = itemLeft + (itemWidth - tooltipWidth) / 2;\r\n          if (tooltipLeft < 0) {\r\n            tooltipLeft = itemLeft;\r\n            isLeft = true;\r\n          }\r\n        }\r\n      } else {\r\n        tooltipTop = itemTop + (itemHeight - tooltipHeight) / 2;\r\n        if (itemLeft + itemWidth > halfWindowWidth) {\r\n          tooltipLeft = itemLeft - tooltipWidth - tooltipGap;\r\n          isRight = true;\r\n        } else {\r\n          tooltipLeft = itemRight + tooltipGap;\r\n        }\r\n      }\r\n\r\n      const mobileSmall = window.innerWidth <= 420;\r\n      if (mobileSmall) {\r\n        tooltipLeft = window.innerWidth / 2;\r\n      }\r\n\r\n      setPosition({\r\n        top: tooltipTop,\r\n        left: tooltipLeft,\r\n        isTop,\r\n        isBottom,\r\n        isLeft,\r\n        isRight,\r\n        isMobileSmall: mobileSmall,\r\n      });\r\n    }, [variant]);\r\n\r\n    const showTooltip = () => {\r\n      setIsOpen(true);\r\n    };\r\n\r\n    const hideTooltip = () => {\r\n      setIsOpen(false);\r\n      setPosition({\r\n        top: 0,\r\n        left: 0,\r\n        isTop: false,\r\n        isBottom: false,\r\n        isLeft: false,\r\n        isRight: false,\r\n        isMobileSmall: false,\r\n      });\r\n    };\r\n\r\n    useEffect(() => {\r\n      if (isOpen) {\r\n        calculatePosition();\r\n      }\r\n    }, [isOpen, calculatePosition]);\r\n\r\n    useEffect(() => {\r\n      const handleEscape = (event: KeyboardEvent) => {\r\n        if (event.key === 'Escape' || event.key === 'Esc') {\r\n          hideTooltip();\r\n        }\r\n      };\r\n\r\n      const handleScroll = () => {\r\n        hideTooltip();\r\n      };\r\n\r\n      const handleResize = () => {\r\n        hideTooltip();\r\n      };\r\n\r\n      document.addEventListener('keydown', handleEscape);\r\n      window.addEventListener('scroll', handleScroll);\r\n      window.addEventListener('resize', handleResize);\r\n\r\n      return () => {\r\n        document.removeEventListener('keydown', handleEscape);\r\n        window.removeEventListener('scroll', handleScroll);\r\n        window.removeEventListener('resize', handleResize);\r\n      };\r\n    }, []);\r\n\r\n    const handleMouseEnter = (event: React.MouseEvent<HTMLElement>) => {\r\n      showTooltip();\r\n      if (isValidElement(children)) {\r\n        const childElement = children as React.ReactElement<{\r\n          onMouseEnter?: (event: React.MouseEvent<HTMLElement>) => void;\r\n        }>;\r\n        if (childElement.props.onMouseEnter) {\r\n          childElement.props.onMouseEnter(event);\r\n        }\r\n      }\r\n    };\r\n\r\n    const handleMouseLeave = (event: React.MouseEvent<HTMLElement>) => {\r\n      hideTooltip();\r\n      if (isValidElement(children)) {\r\n        const childElement = children as React.ReactElement<{\r\n          onMouseLeave?: (event: React.MouseEvent<HTMLElement>) => void;\r\n        }>;\r\n        if (childElement.props.onMouseLeave) {\r\n          childElement.props.onMouseLeave(event);\r\n        }\r\n      }\r\n    };\r\n\r\n    const handleFocus = (event: React.FocusEvent<HTMLElement>) => {\r\n      showTooltip();\r\n      if (isValidElement(children)) {\r\n        const childElement = children as React.ReactElement<{\r\n          onFocus?: (event: React.FocusEvent<HTMLElement>) => void;\r\n        }>;\r\n        if (childElement.props.onFocus) {\r\n          childElement.props.onFocus(event);\r\n        }\r\n      }\r\n    };\r\n\r\n    const handleBlur = (event: React.FocusEvent<HTMLElement>) => {\r\n      hideTooltip();\r\n      if (isValidElement(children)) {\r\n        const childElement = children as React.ReactElement<{\r\n          onBlur?: (event: React.FocusEvent<HTMLElement>) => void;\r\n        }>;\r\n        if (childElement.props.onBlur) {\r\n          childElement.props.onBlur(event);\r\n        }\r\n      }\r\n    };\r\n\r\n    const mergedRef = (node: HTMLElement | null) => {\r\n      if (triggerRef) {\r\n        (triggerRef as React.MutableRefObject<HTMLElement | null>).current = node;\r\n      }\r\n      if (typeof ref === 'function') {\r\n        ref(node);\r\n      } else if (ref) {\r\n        ref.current = node;\r\n      }\r\n    };\r\n\r\n    if (isValidElement(children)) {\r\n      const childElement = children as React.ReactElement<{\r\n        className?: string;\r\n        onMouseEnter?: (event: React.MouseEvent<HTMLElement>) => void;\r\n        onMouseLeave?: (event: React.MouseEvent<HTMLElement>) => void;\r\n        onFocus?: (event: React.FocusEvent<HTMLElement>) => void;\r\n        onBlur?: (event: React.FocusEvent<HTMLElement>) => void;\r\n      }>;\r\n\r\n      return (\r\n        <>\r\n          {cloneElement(childElement, {\r\n            // @ts-expect-error - valid ref\r\n            ref: mergedRef,\r\n            onMouseEnter: handleMouseEnter,\r\n            onMouseLeave: handleMouseLeave,\r\n            onFocus: handleFocus,\r\n            onBlur: handleBlur,\r\n            className: classNames('krds-tooltip', className, childElement.props.className),\r\n            'data-tooltip': text,\r\n            'aria-labelledby': contentId,\r\n          })}\r\n          <div\r\n            ref={contentRef}\r\n            id={contentId}\r\n            className={classNames(\r\n              'krds-tooltip-popover',\r\n              variant === 'box' && 'tooltip-box',\r\n              variant === 'vertical' && 'tooltip-vertical',\r\n              isOpen && 'active',\r\n              position.isTop && 'top',\r\n              position.isBottom && 'bottom',\r\n              position.isLeft && 'left',\r\n              position.isRight && 'right'\r\n            )}\r\n            style={{\r\n              ...(isOpen && {\r\n                top: `${position.top}px`,\r\n                left: position.isMobileSmall ? '50%' : `${position.left}px`,\r\n                transform: position.isMobileSmall ? 'translateX(-50%)' : undefined,\r\n              }),\r\n            }}\r\n            aria-hidden={!isOpen}\r\n          >\r\n            {text}\r\n          </div>\r\n        </>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <button\r\n          ref={mergedRef}\r\n          onMouseEnter={handleMouseEnter}\r\n          onMouseLeave={handleMouseLeave}\r\n          onFocus={handleFocus}\r\n          onBlur={handleBlur}\r\n          className={classNames('krds-tooltip', className)}\r\n          data-tooltip={text}\r\n          aria-labelledby={contentId}\r\n        >\r\n          {children}\r\n        </button>\r\n        <div\r\n          ref={contentRef}\r\n          id={contentId}\r\n          className={classNames(\r\n            'krds-tooltip-popover',\r\n            variant === 'box' && 'tooltip-box',\r\n            variant === 'vertical' && 'tooltip-vertical',\r\n            isOpen && 'active',\r\n            position.isTop && 'top',\r\n            position.isBottom && 'bottom',\r\n            position.isLeft && 'left',\r\n            position.isRight && 'right'\r\n          )}\r\n          style={{\r\n            ...(isOpen && {\r\n              top: `${position.top}px`,\r\n              left: position.isMobileSmall ? '50%' : `${position.left}px`,\r\n              transform: position.isMobileSmall ? 'translateX(-50%)' : undefined,\r\n            }),\r\n          }}\r\n          aria-hidden={!isOpen}\r\n        >\r\n          {text}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n);\r\n\r\nTooltip.displayName = 'Tooltip';\r\n\r\nexport default Tooltip;\r\n","import { useUncontrolled } from '@/hooks/use-uncontrolled';\r\nimport { classNames } from '@/utils';\r\nimport {\r\n  createContext,\r\n  forwardRef,\r\n  HTMLAttributes,\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useRef,\r\n} from 'react';\r\nimport Button from '../Button/Button';\r\nimport { Disclosure } from '../Disclosure';\r\nimport { Tab, TabContent, TabList, TabPanel, TabTrigger } from '../Tab';\r\nimport {\r\n  TutorialPanelCloseProps,\r\n  TutorialPanelContainerProps,\r\n  TutorialPanelContextValue,\r\n  TutorialPanelHelpContentProps,\r\n  TutorialPanelRootProps,\r\n  TutorialPanelTabContentProps,\r\n  TutorialPanelTriggerProps,\r\n  TutorialPanelTutorialContentProps,\r\n} from './TutorialPanel.types';\r\n\r\nconst TutorialPanelContext = createContext<TutorialPanelContextValue | null>(null);\r\n\r\nconst useTutorialPanelContext = () => {\r\n  const context = useContext(TutorialPanelContext);\r\n  if (!context) {\r\n    throw new Error('TutorialPanel 컴포넌트들은 TutorialPanel.Root 내부에서 사용해야 합니다.');\r\n  }\r\n  return context;\r\n};\r\n\r\n/**\r\n * KRDS TutorialPanel Root Component\r\n * @param isOpen 패널 열림/닫힘 상태\r\n * @param onOpenChange 패널 열림/닫힘 핸들러\r\n * @param activeTab 활성 탭 ('help' | 'tutorial') (controlled에서만 사용)\r\n * @param defaultActiveTab 활성 탭 ('help' | 'tutorial') (uncontrolled에서 사용)\r\n * @param onTabChange 탭 변경 핸들러\r\n */\r\nconst TutorialPanelRoot = forwardRef<HTMLDivElement, TutorialPanelRootProps>(\r\n  (\r\n    {\r\n      isOpen,\r\n      onOpenChange,\r\n      activeTab,\r\n      defaultActiveTab,\r\n      onTabChange,\r\n      children,\r\n      className,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const [internalIsOpen, setInternalIsOpen] = useUncontrolled({\r\n      value: isOpen,\r\n      defaultValue: false,\r\n      onChange: onOpenChange,\r\n      finalValue: false,\r\n    });\r\n\r\n    const [internalActiveTab, setInternalActiveTab] = useUncontrolled({\r\n      value: activeTab,\r\n      defaultValue: defaultActiveTab,\r\n      onChange: onTabChange,\r\n      finalValue: 'help' as 'help' | 'tutorial',\r\n    });\r\n\r\n    const helpWrapRef = useRef<HTMLDivElement>(null);\r\n    const expandButtonRef = useRef<HTMLButtonElement>(null);\r\n    const collapseButtonRef = useRef<HTMLButtonElement>(null);\r\n    const lastFocusedButtonRef = useRef<HTMLElement | null>(null);\r\n    const intersectionObserverRef = useRef<IntersectionObserver | null>(null);\r\n\r\n    const getWindowSize = useCallback(() => {\r\n      return window.innerWidth <= 1023 ? 'mob' : 'pc';\r\n    }, []);\r\n\r\n    const setupPadding = useCallback(() => {\r\n      const topBannerHeight = document.querySelector('#krds-masthead')?.clientHeight || 0;\r\n      const headerHeight = document.querySelector('#krds-header .header-in')?.clientHeight || 0;\r\n      const defaultPadding = topBannerHeight + headerHeight;\r\n      const hiddenBannerPadding = headerHeight;\r\n\r\n      const expandButton = expandButtonRef.current;\r\n      const expandBox = helpWrapRef.current;\r\n      const collapseButton = collapseButtonRef.current;\r\n\r\n      if (!expandButton || !expandBox || !collapseButton) return;\r\n\r\n      const applyPadding = (padding: string) => {\r\n        expandButton.style.marginTop = padding;\r\n        if (getWindowSize() === 'pc') {\r\n          expandBox.style.paddingTop = padding;\r\n          collapseButton.style.marginTop = padding;\r\n        } else {\r\n          expandBox.removeAttribute('style');\r\n          collapseButton.removeAttribute('style');\r\n        }\r\n      };\r\n\r\n      if (document.body.classList.contains('bn-hidden')) {\r\n        if (document.querySelector('#wrap')?.classList.contains('scroll-down')) {\r\n          applyPadding('0');\r\n        } else {\r\n          applyPadding(`${hiddenBannerPadding}px`);\r\n        }\r\n      } else {\r\n        applyPadding(`${defaultPadding}px`);\r\n      }\r\n    }, [getWindowSize]);\r\n\r\n    const observeMastHead = useCallback(() => {\r\n      const topBanner = document.querySelector('#krds-masthead');\r\n      if (!topBanner) return;\r\n\r\n      const body = document.body;\r\n      intersectionObserverRef.current = new IntersectionObserver(\r\n        entries => {\r\n          entries.forEach(entry => {\r\n            body.classList.toggle('bn-hidden', !entry.isIntersecting);\r\n            setupPadding();\r\n          });\r\n        },\r\n        { root: null, threshold: 0 }\r\n      );\r\n      intersectionObserverRef.current.observe(topBanner);\r\n    }, [setupPadding]);\r\n\r\n    const handleToggle = useCallback(\r\n      (newIsOpen: boolean) => {\r\n        const helpWrap = helpWrapRef.current;\r\n        const innerContainer = document.querySelector('#container > .inner');\r\n\r\n        if (newIsOpen) {\r\n          if (getWindowSize() === 'mob') {\r\n            document.body.classList.add('scroll-no');\r\n          }\r\n\r\n          if (helpWrap) {\r\n            helpWrap.setAttribute('tabindex', '0');\r\n            setTimeout(() => {\r\n              helpWrap.focus();\r\n            }, 50);\r\n          }\r\n\r\n          const expandButtons = document.querySelectorAll('.btn-help-exec');\r\n          expandButtons.forEach(btn => {\r\n            btn.setAttribute('aria-expanded', 'true');\r\n          });\r\n\r\n          if (innerContainer?.classList.contains('help-panel-flexible')) {\r\n            innerContainer.classList.add('help-panel-expanded');\r\n          }\r\n        } else {\r\n          if (getWindowSize() === 'mob') {\r\n            document.body.classList.remove('scroll-no');\r\n          }\r\n\r\n          if (helpWrap) {\r\n            helpWrap.removeAttribute('tabindex');\r\n          }\r\n\r\n          if (lastFocusedButtonRef.current) {\r\n            lastFocusedButtonRef.current.focus();\r\n          } else {\r\n            expandButtonRef.current?.focus();\r\n          }\r\n\r\n          const expandButtons = document.querySelectorAll('.btn-help-exec');\r\n          expandButtons.forEach(btn => {\r\n            btn.setAttribute('aria-expanded', 'false');\r\n          });\r\n\r\n          if (innerContainer?.classList.contains('help-panel-flexible')) {\r\n            innerContainer.classList.remove('help-panel-expanded');\r\n          }\r\n        }\r\n\r\n        setInternalIsOpen(newIsOpen);\r\n      },\r\n      [getWindowSize, setInternalIsOpen]\r\n    );\r\n\r\n    const contextValue: TutorialPanelContextValue = {\r\n      isOpen: internalIsOpen,\r\n      onOpenChange: handleToggle,\r\n      activeTab: internalActiveTab,\r\n      onTabChange: setInternalActiveTab,\r\n    };\r\n\r\n    useEffect(() => {\r\n      setupPadding();\r\n      observeMastHead();\r\n\r\n      const handleResize = () => {\r\n        setupPadding();\r\n        if (getWindowSize() === 'mob' && internalIsOpen) {\r\n          document.body.classList.add('scroll-no');\r\n        } else {\r\n          document.body.classList.remove('scroll-no');\r\n        }\r\n      };\r\n\r\n      window.addEventListener('resize', handleResize);\r\n\r\n      if (expandButtonRef.current) {\r\n        expandButtonRef.current.setAttribute('aria-expanded', internalIsOpen ? 'true' : 'false');\r\n      }\r\n\r\n      return () => {\r\n        window.removeEventListener('resize', handleResize);\r\n        if (intersectionObserverRef.current) {\r\n          intersectionObserverRef.current.disconnect();\r\n        }\r\n        document.body.classList.remove('scroll-no');\r\n      };\r\n    }, [setupPadding, observeMastHead, internalIsOpen, getWindowSize]);\r\n\r\n    return (\r\n      <TutorialPanelContext.Provider value={contextValue}>\r\n        <div\r\n          id=\"container\"\r\n          ref={ref}\r\n          className={classNames('inner help-panel-flexible', className)}\r\n          {...props}\r\n        >\r\n          {children}\r\n        </div>\r\n      </TutorialPanelContext.Provider>\r\n    );\r\n  }\r\n);\r\n\r\n/**\r\n * KRDS TutorialPanel Trigger Component\r\n * @param children 버튼 내용\r\n */\r\nconst TutorialPanelTrigger = forwardRef<HTMLButtonElement, TutorialPanelTriggerProps>(\r\n  ({ children = '도움말', className, onClick, ...props }, ref) => {\r\n    const { isOpen, onOpenChange } = useTutorialPanelContext();\r\n\r\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n      onOpenChange(!isOpen);\r\n      onClick?.(event);\r\n    };\r\n\r\n    const renderIcon = (iconName: string) => {\r\n      return <i className={`svg-icon ${iconName}`}></i>;\r\n    };\r\n\r\n    return (\r\n      <Button\r\n        ref={ref}\r\n        size=\"small\"\r\n        variant=\"tertiary\"\r\n        className={classNames('btn-help-panel expand btn-help-exec', className)}\r\n        onClick={handleClick}\r\n        aria-expanded={isOpen}\r\n        aria-label={typeof children === 'string' ? children : '도움말'}\r\n        {...props}\r\n      >\r\n        {renderIcon('ico-fold')} {children}\r\n      </Button>\r\n    );\r\n  }\r\n);\r\n\r\n/**\r\n * KRDS TutorialPanel Container Component\r\n */\r\nconst TutorialPanelContainer = forwardRef<HTMLDivElement, TutorialPanelContainerProps>(\r\n  ({ children, className, ...props }, ref) => {\r\n    const { isOpen } = useTutorialPanelContext();\r\n\r\n    return (\r\n      <div\r\n        ref={ref}\r\n        className={classNames('krds-help-panel', isOpen && 'expand', className)}\r\n        {...props}\r\n      >\r\n        <div className=\"help-panel-wrap\">\r\n          <div className=\"help-conts-area\">{children}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\n/**\r\n * KRDS TutorialPanel Tabs Component\r\n * 탭 네비게이션과 컨텐츠를 관리합니다\r\n */\r\nconst TutorialPanelTabs = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(\r\n  ({ children, className, id, role }, ref) => {\r\n    const { activeTab, onTabChange } = useTutorialPanelContext();\r\n\r\n    return (\r\n      <Tab\r\n        ref={ref}\r\n        value={activeTab}\r\n        onValueChange={value => onTabChange(value as 'help' | 'tutorial')}\r\n        variant=\"line\"\r\n        size=\"normal\"\r\n        className={classNames('layer', className)}\r\n        id={id}\r\n        role={role}\r\n      >\r\n        <TabList>\r\n          <TabTrigger value=\"help\">도움</TabTrigger>\r\n          <TabTrigger value=\"tutorial\">따라하기</TabTrigger>\r\n        </TabList>\r\n\r\n        <TabContent>{children}</TabContent>\r\n      </Tab>\r\n    );\r\n  }\r\n);\r\n\r\n/**\r\n * KRDS TutorialPanel TabPanel Component\r\n * @param value 탭 값 ('help' | 'tutorial')\r\n * @param children 탭 내용\r\n */\r\nconst TutorialPanelTabPanel = forwardRef<HTMLElement, TutorialPanelTabContentProps>(\r\n  ({ value, children, className, ...props }, ref) => {\r\n    return (\r\n      <TabPanel ref={ref} value={value} className={className} {...props}>\r\n        <h3 className=\"sr-only\">{value === 'help' ? '도움' : '따라하기'}</h3>\r\n        {children}\r\n      </TabPanel>\r\n    );\r\n  }\r\n);\r\n\r\n/**\r\n * KRDS TutorialPanel Help Content Component\r\n * @param helpContent 도움말 내용\r\n * @param relatedServices 관련 서비스 내용\r\n */\r\nconst TutorialPanelHelpContent = forwardRef<HTMLDivElement, TutorialPanelHelpContentProps>(\r\n  ({ helpContent, relatedServices = [], className, ...props }, ref) => {\r\n    const renderIcon = (iconName: string) => {\r\n      return <i className={`svg-icon ${iconName}`}></i>;\r\n    };\r\n\r\n    return (\r\n      <div ref={ref} className={classNames('help-conts-area-inner', className)} {...props}>\r\n        {helpContent && (\r\n          <div className=\"conts-area help-conts\">\r\n            <div className=\"conts-wrap\">\r\n              <h4 className=\"help-title\">\r\n                {helpContent.title}\r\n                <span className=\"krds-btn medium icon\">\r\n                  <span className=\"sr-only\">도움말</span>\r\n                  {renderIcon('ico-help')}\r\n                </span>\r\n              </h4>\r\n              {helpContent.description && (\r\n                <div className=\"conts-desc\">{helpContent.description}</div>\r\n              )}\r\n              {helpContent.links && helpContent.links.length > 0 && (\r\n                <ul className=\"link-list\">\r\n                  {helpContent.links.map((link, index) => (\r\n                    <li key={index}>\r\n                      <Button\r\n                        as=\"a\"\r\n                        href={link.href}\r\n                        target={link.external ? '_blank' : undefined}\r\n                        title={link.external ? '새 창 열림' : undefined}\r\n                        size=\"xsmall\"\r\n                        variant=\"link\"\r\n                        className=\"basic\"\r\n                      >\r\n                        {link.icon && link.iconPosition === 'left' && renderIcon(link.icon)}\r\n                        {link.label}\r\n                        {link.icon && link.iconPosition !== 'left' && renderIcon(link.icon)}\r\n                        {!link.icon &&\r\n                          (link.external ? renderIcon('ico-go') : renderIcon('ico-angle right'))}\r\n                      </Button>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {relatedServices.length > 0 && (\r\n          <div className=\"conts-area related-service\">\r\n            {relatedServices.map((service, serviceIndex) => (\r\n              <div key={serviceIndex} className=\"conts-wrap\">\r\n                <h4 className=\"help-title\">{service.title}</h4>\r\n                {service.description && <div className=\"conts-desc\">{service.description}</div>}\r\n                {service.links && service.links.length > 0 && (\r\n                  <ul className=\"link-list\">\r\n                    {service.links.map((link, linkIndex) => (\r\n                      <li key={linkIndex}>\r\n                        <Button\r\n                          as=\"a\"\r\n                          href={link.href}\r\n                          target={link.external ? '_blank' : undefined}\r\n                          title={link.external ? '새 창 열림' : undefined}\r\n                          size=\"xsmall\"\r\n                          variant=\"link\"\r\n                          className=\"basic\"\r\n                        >\r\n                          {link.icon && link.iconPosition === 'left' && renderIcon(link.icon)}\r\n                          {link.label}\r\n                          {link.icon && link.iconPosition !== 'left' && renderIcon(link.icon)}\r\n                          {!link.icon &&\r\n                            (link.external ? renderIcon('ico-go') : renderIcon('ico-angle right'))}\r\n                        </Button>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\n/**\r\n * KRDS TutorialPanel Tutorial Content Component\r\n * @param title 튜토리얼 제목\r\n * @param steps 튜토리얼 단계들\r\n * @param onTutorialStop 튜토리얼 종료 핸들러\r\n * @param stopButtonText 종료 버튼 텍스트\r\n */\r\nconst TutorialPanelTutorialContent = forwardRef<HTMLDivElement, TutorialPanelTutorialContentProps>(\r\n  (\r\n    { title, steps = [], onTutorialStop, stopButtonText = '그만 따라하기', className, ...props },\r\n    ref\r\n  ) => {\r\n    return (\r\n      <div ref={ref} className={classNames('help-conts-area-inner', className)} {...props}>\r\n        <div className=\"conts-area\">\r\n          {title && (\r\n            <h4 className=\"help-title\">\r\n              <a href=\"#\" title=\"이전으로 돌아가기\">\r\n                {title}\r\n              </a>\r\n            </h4>\r\n          )}\r\n          {steps.length > 0 && (\r\n            <ul className=\"coach-help-process\">\r\n              {steps.map((step, index) => (\r\n                <li key={index}>\r\n                  <h4 className={classNames('tit', step.current && 'current')}>{step.title}</h4>\r\n                  {step.steps && step.steps.length > 0 && (\r\n                    <Disclosure\r\n                      buttonText={`전체 ${step.steps.length}단계`}\r\n                      className=\"conts-expand-area\"\r\n                    >\r\n                      <ul className=\"krds-info-list decimal\">\r\n                        {step.steps.map((stepItem, stepIndex) => (\r\n                          <li key={stepIndex}>{stepItem}</li>\r\n                        ))}\r\n                      </ul>\r\n                    </Disclosure>\r\n                  )}\r\n                  {step.content && <div className=\"step-content\">{step.content}</div>}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"help-panel-action\">\r\n          <Button\r\n            size=\"medium\"\r\n            variant=\"secondary\"\r\n            className=\"coach-btn-stop\"\r\n            onClick={onTutorialStop}\r\n          >\r\n            {stopButtonText}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\n/**\r\n * KRDS TutorialPanel Close Component\r\n * @param children 버튼 내용\r\n */\r\nconst TutorialPanelClose = forwardRef<HTMLButtonElement, TutorialPanelCloseProps>(\r\n  ({ children, className, onClick, ...props }, ref) => {\r\n    const { onOpenChange } = useTutorialPanelContext();\r\n\r\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n      onOpenChange(false);\r\n      onClick?.(event);\r\n    };\r\n\r\n    const renderIcon = (iconName: string) => {\r\n      return <i className={`svg-icon ${iconName}`}></i>;\r\n    };\r\n\r\n    return (\r\n      <Button\r\n        ref={ref}\r\n        size=\"small\"\r\n        variant=\"tertiary\"\r\n        className={classNames('btn-help-panel fold', className)}\r\n        onClick={handleClick}\r\n        {...props}\r\n      >\r\n        {children || (\r\n          <>\r\n            <span className=\"sr-only\">도움말</span> 접어두기 {renderIcon('ico-fold right')}\r\n          </>\r\n        )}\r\n      </Button>\r\n    );\r\n  }\r\n);\r\n\r\nTutorialPanelRoot.displayName = 'TutorialPanel.Root';\r\nTutorialPanelTrigger.displayName = 'TutorialPanel.Trigger';\r\nTutorialPanelContainer.displayName = 'TutorialPanel.Container';\r\nTutorialPanelTabs.displayName = 'TutorialPanel.Tabs';\r\nTutorialPanelTabPanel.displayName = 'TutorialPanel.TabPanel';\r\nTutorialPanelHelpContent.displayName = 'TutorialPanel.HelpContent';\r\nTutorialPanelTutorialContent.displayName = 'TutorialPanel.TutorialContent';\r\nTutorialPanelClose.displayName = 'TutorialPanel.Close';\r\n\r\nexport const TutorialPanel = Object.assign(TutorialPanelRoot, {\r\n  Root: TutorialPanelRoot,\r\n  Trigger: TutorialPanelTrigger,\r\n  Container: TutorialPanelContainer,\r\n  Tabs: TutorialPanelTabs,\r\n  TabPanel: TutorialPanelTabPanel,\r\n  HelpContent: TutorialPanelHelpContent,\r\n  TutorialContent: TutorialPanelTutorialContent,\r\n  Close: TutorialPanelClose,\r\n});\r\n\r\nexport default TutorialPanel;\r\n"],"names":["classNames","classes","result","cls","key","value","nested","useUncontrolled","defaultValue","finalValue","onChange","uncontrolledValue","setUncontrolledValue","useState","handleUncontrolledChange","val","payload","AccordionContext","createContext","useAccordionContext","context","useContext","AccordionItemContext","useAccordionItemContext","AccordionItem","forwardRef","children","className","props","ref","expandedValues","isExpanded","itemId","useId","itemClasses","itemContextValue","jsx","AccordionHeader","onClick","onToggle","itemValue","headerId","panelId","buttonClasses","handleClick","handleKeyDown","event","AccordionPanel","AccordionRoot","variant","allowMultiple","setExpandedValues","handleToggle","useCallback","isCurrentlyExpanded","newExpandedValues","accordionClasses","contextValue","Accordion","Badge","color","size","rounded","variantColorClass","BadgeWrapper","Breadcrumb","React","items","ariaLabel","item","index","isLast","liClassName","e","ButtonImplementation","as","role","disabled","restProps","Component","typeProp","ButtonComponent","Button","Calendar","mode","position","startDate","endDate","defaultStartDate","defaultEndDate","disabledDates","eventDates","isOpen","defaultIsOpen","onOpenChange","onRangeChange","onYearChange","onMonthChange","onTodayClick","onConfirm","onCancel","label","inputId","placeholder","startPlaceholder","endPlaceholder","startTitle","endTitle","openButtonLabel","prevButtonLabel","nextButtonLabel","yearSelectLabel","monthSelectLabel","todayButtonText","cancelButtonText","confirmButtonText","readOnly","_className","rest","internalIsOpen","setInternalIsOpen","internalValue","setInternalValue","internalStartDate","setInternalStartDate","newStartDate","internalEndDate","setInternalEndDate","newEndDate","parseDate","dateString","parts","year","month","day","formatDate","date","getCurrentYearMonth","today","selectedDate","currentYearMonth","setCurrentYearMonth","useEffect","newYearMonth","yearDropdownOpen","setYearDropdownOpen","monthDropdownOpen","setMonthDropdownOpen","clickCount","setClickCount","startTd","setStartTd","calendarWrapRef","useRef","availableYears","useMemo","currentYear","_","availableMonths","i","calendarDates","firstDay","lastDay","firstDayOfWeek","daysInMonth","dates","prevMonth","prevYear","prevMonthLastDay","dayOfWeek","isToday","remainingCells","nextMonth","nextYear","handleOpenCalendar","handleCloseCalendar","handlePrevMonth","newMonth","newYear","handleNextMonth","handleYearSelect","yearItem","prev","handleMonthSelect","monthItem","handleDateClick","currentDate","handleTodayClick","todayString","handleConfirm","handleCancel","handleInputChange","newValue","parsedDate","handleStartDateChange","handleEndDateChange","isDateInPeriod","isSelected","isStart","isEnd","startParts","endParts","handleClickOutside","jsxs","weekIndex","dayIndex","dateIndex","isPeriod","cellClasses","Checkbox","id","name","checked","description","_checked","setChecked","handleChange","checkboxClasses","CheckboxChip","isFocused","setIsFocused","CheckboxGroup","column","CoachMark","title","currentStep","totalSteps","onSkip","onPrevious","onNext","isVisible","handleSkip","handlePrevious","handleNext","showPreviousButton","ContextualHelp","alignment","open","defaultOpen","containerRef","popoverRef","buttonRef","contentsRef","setIsOpen","containerClasses","handleClose","adjustPopoverPosition","isMobile","tooltipAction","rootStyles","contentsPaddingX","offsetLeft","width","focusFirstFocusableElement","container","focusableSelectors","focusableElements","visibleFocusables","el","htmlElement","handleResize","CriticalAlerts","alerts","alert","CriticalAlertItem","message","href","linkText","variantText","CriticalAlert","DateInput","hint","error","success","information","isCalendarOpen","defaultIsCalendarOpen","onCalendarOpenChange","calendarPosition","generatedId","_value","setValue","isDateSelected","isError","isSuccess","isInformation","renderHintMessage","Disclosure","buttonText","defaultExpanded","expanded","contentId","setIsExpanded","Spinner","spinnerElement","FileUpload","uploadText","maxFiles","maxFileSize","acceptedFileTypes","_files","onFilesChange","onFileUpload","onFileDelete","onAllFilesDelete","allowDelete","files","setFiles","isDragActive","setIsDragActive","fileInputId","fileInputRef","formatFileSize","bytes","k","sizes","getFileExtension","filename","validateFile","file","extension","processFiles","selectedFiles","newFiles","availableSlots","filesToProcess","validation","fileItem","handleFileSelect","handleDragOver","handleDragLeave","handleDrop","handleFileDelete","fileId","handleAllFilesDelete","renderFileStatus","renderFileActions","Fragment","type","Identifier","text","logoAlt","FooterQuickLinks","quickLinks","link","FooterLogoComponent","logo","logoContent","logoElement","FooterMainContent","address","contacts","links","socialLinks","defaultLinkTarget","contact","target","rel","socialLink","getDefaultSocialLabel","iconClass","getDefaultSocialIconClass","FooterBottom","bottomLinks","copyright","identifierText","identifier","hideIdentifier","finalIdentifier","platform","Footer","hideQuickLinks","DropdownRoot","buttonClassName","setOpen","dropdownRef","DropdownTopSection","DropdownList","DropdownItem","isActive","DropdownBottomSection","Dropdown","Portal","enabled","containerClassName","portalContainer","setPortalContainer","useLayoutEffect","targetContainer","createPortal","DEFAULT_SEARCH_PLACEHOLDER","DEFAULT_SEARCH_SR","DEFAULT_CLOSE_LABEL","fallbackKey","provided","fallback","toDomId","MobileTriggerButton","buttonProps","createFocusTrap","trap","focusable","first","last","active","ensureBackdrop","backdrop","owns","breakpoint","MainMenu","desktop","mobile","mobileTrigger","onMobileMenuOpen","onMobileMenuClose","desktopPortalId","mobilePortalId","mobileNavId","mobileTriggerContainer","desktopNavRef","mobileNavRef","mobileBodyRef","mainListRefs","subListRefs","mainTriggerRefs","mobilePanelRefs","depth4Refs","depth4TriggerRefs","desktopEntries","mobileEntries","desktopActiveMain","setDesktopActiveMain","desktopActiveSub","setDesktopActiveSub","isMobileOpen","setIsMobileOpen","mobileActiveMain","setMobileActiveMain","openDepth3","setOpenDepth3","openDepth4","setOpenDepth4","searchQuery","setSearchQuery","mobileMenuPhase","setMobileMenuPhase","previousMobileOpenRef","mobileTransitionTimeoutRef","isMobileOpenRef","backdropInfoRef","useImperativeHandle","desktopItemMap","map","entry","activeDesktopItem","shouldShowBackdrop","closeDesktopMenu","handleBackdropClick","handler","nav","info","body","registerMainListRef","node","registerSubListRef","mainKey","subKey","composite","registerMainTriggerRef","registerPanelRef","registerDepth4Ref","registerDepth4TriggerRef","mainList","subList","handleDesktopMainClick","dropdown","firstIndex","section","firstSubKey","handleDesktopSubClick","desktopMainKeys","handleMainKeyDown","focusByIndex","idx","activeTrigger","targetPanel","bodyRef","openingTimeout","handleTransitionEnd","gnbWrap","navId","openGnb","closingTimeout","handleMobileOpen","handleMobileClose","handleMobileBackdropClick","mobileTriggerContent","isValidElement","cloneElement","mobileTriggerNode","isMobileMenuVisible","shouldApplyMobileOpenClasses","handleMobileMainClick","firstPanel","panelKey","panelNode","mobilePanelsFlat","panel","panelIndex","currentKey","scrollTop","ownerKey","toggleDepth3","openDepth4Panel","_item","wrap","closeDepth4Panel","trigger","current","handleSearchSubmit","trimmed","renderDesktopLeafList","parentKey","hasDescription","leafKey","content","renderDesktopBanner","banner","renderDesktopSubMenu","sectionEntry","renderDesktopSubLink","renderDesktopMainItem","triggerProps","toggleId","sectionEntries","sectionIndex","renderMobileDepth3Item","depth3Key","depth4","depth4Entries","depth4Index","renderMobilePanelItem","depth3","child","childIndex","renderMobilePanel","panelDomId","itemIndex","renderMobileMainItem","firstPanelKey","renderUtilityItem","desktopMenuContent","mobileMenuContent","util","service","MainMenuWithStatic","Slot","HeaderContext","useHeaderContext","MyGovContext","useMyGovContext","DEFAULT_HEADER_ID","DEFAULT_MOBILE_TRIGGER_PORTAL_ID","DEFAULT_DESKTOP_MENU_PORTAL_ID","DEFAULT_MOBILE_MENU_PORTAL_ID","HeaderComponent","mobileMenuTriggerPortalId","desktopMenuPortalId","mobileMenuPortalId","openDropdownId","setOpenDropdownId","resolvedTriggerPortalId","setDropdown","dropdownId","closeDropdowns","handleDocumentClick","handleKeyUp","lastScrollY","handleScroll","containerOffsetTop","scrollY","scrollDown","scrollUp","Container","Utilities","Children","UtilityItem","displayName","UtilityDropdown","dropdownClassName","itemClassName","dropdownProps","handleOpenChange","nextOpen","Branding","logoHref","onLogoClick","logoAltText","Navi","mobileTriggerPortalId","NaviButtonSearch","NaviButtonLogin","anchorProps","NaviButtonJoin","NaviButtonLogout","myGovContext","MyGov","remainingTime","remainingTimeLabel","extendTimeLabel","onExtendTime","restButtonProps","_key","itemLabel","buttonItemProps","Header","HeaderMainMenu","mobileTriggerProps","allMenuButtonLabel","fallbackTrigger","TextList","TextListItem","number","HelpPanelContext","useHelpPanelContext","HelpPanel","openState","setOpenState","helpPanelRef","lastFocusedElementRef","previousIsOpenRef","childArray","triggerElements","panelChildren","elementType","HelpPanelTrigger","close","toggle","helpPanel","nextIsOpen","helpPanelClasses","HelpPanelContent","srOnlyTitle","contentClasses","HelpSection","sectionClasses","HelpLinkList","iconPosition","listClasses","HelpPanelClose","HelpRelatedService","serviceClasses","HelpServiceGroup","groupClasses","HelpTutorialTitle","titleClasses","HelpCoachProcess","processClasses","HelpCoachTask","isCurrent","expandText","steps","step","HelpPanelAction","actionClasses","HelpContentArea","areaClasses","InPageNavigation","caption","actionText","onActionClick","infoText","scrollContainerRef","activeSection","setActiveSection","hasAction","hasItems","calculateHeaderHeight","headerTop","headerInner","applyScroll","headerHeight","scrollContainer","containerElement","containerRect","relativeTop","handleNavigationClick","updateActiveSection","isWindow","containerHeight","scrollHeight","topHeight","scrollBottom","sectionElements","firstSectionTop","newActiveSection","sectionHeight","sectionTop","setRef","useMergeRefs","refs","refValue","LanguageSwitcherContext","useLanguageSwitcherContext","ctx","LanguageSwitcherRoot","options","closeOnClickOutside","currentValue","setCurrentValue","_ref","itemRefs","Trigger","currentLabel","opt","Menu","menuRef","menu","wrapper","menuRect","windowWidth","Current","OptionList","LanguageSwitcher","OptionItem","external","handleSelect","handleFocus","Link","underline","preserveColorOnHover","icon","linkClasses","linkTextClasses","linkTarget","linkRel","linkTitle","Masthead","ModalContext","useModalContext","ModalRoot","closeOnEsc","closeOnOverlayClick","usePortal","_open","ModalTrigger","asChild","ModalOverlay","ModalContent","sectionId","contentRef","dialogRef","previousFocused","isInitialized","openTimeoutRef","focusTimeoutRef","getFocusableElements","focusableSelector","ariaHidden","setInitialFocus","firstFocusable","handleContentMount","observer","handleDialogMount","lastFocusable","activeElement","wrapElement","handleOverlayClick","clickedElement","rootClasses","ModalCloseIconButton","ModalHeader","titleId","ModalTitle","ModalDescription","ModalBody","descriptionId","hasScroll","setHasScroll","handleBodyMount","isScrollable","ModalFooter","ModalClose","Modal","Pagination","totalPages","currentPage","defaultPage","prevLabel","nextLabel","boundaryCount","siblingCount","page","setPage","clamp","startPages","endPages","siblingsStart","siblingsEnd","p","normalized","set","it","a","b","finalItems","curr","next","handlePrev","handlePage","isPrevDisabled","isNextDisabled","RadioGroupContext","Radio","defaultChecked","radioClasses","radioGroup","autoId","isInGroup","groupValue","groupName","groupOnChange","uniqueName","isChecked","RadioChip","radioChipClasses","RadioGroup","DEFAULT_LABELS","ResizeItem","scale","Resize","resetText","labels","currentScale","setCurrentScale","handleScaleChange","root","zoomValue","handleReset","scales","buttonContent","bottomContent","Select","selectClasses","option","SideNavigationRoot","SideNavigationTitle","SideNavigationMenu","SideNavigationItem","SideNavigationSubItem","SideNavigationToggle","SideNavigationSubMenu","SideNavigationLink","SideNavigationPopupToggle","button","popupSubmenu","SideNavigationPopup","popupRef","popupElement","handleFocusOut","relatedTarget","toggleButton","SideNavigationPopupTitle","SideNavigationPopupMenu","SideNavigation","SkipLink","targetId","StepIndicator","currentStepText","pageTitle","getStepStatus","stepList","status","stepKey","StructuredList","StructuredListItem","TabContext","useTabContext","Tab","onValueChange","triggerRefs","triggerOrder","_activeValue","setActiveValue","registerTrigger","element","v","TabList","tabClasses","TabTrigger","activeValue","triggerIndex","setTriggerIndex","handleRef","totalTriggers","newIndex","targetValue","tabId","TabContent","TabPanel","panelClassName","Tag","tagClassName","_variant","linkProps","onDelete","deleteDisabled","spanProps","TagWrap","wrapClassName","Textarea","maxLength","showCount","countTotal","textareaId","currentLength","shouldShowCount","textareaClasses","TextInput","showPasswordToggle","showClearButton","showPassword","setShowPassword","internalType","setInternalType","shouldShowPasswordToggle","shouldShowClearButton","hasButtons","inputWrapperClasses","handleClear","handlePasswordToggle","ToggleSwitch","providedId","internalChecked","handleCheckedChange","handleBlur","Tooltip","setPosition","triggerRef","calculatePosition","tooltipGap","tooltipHeight","tooltipWidth","itemTop","itemLeft","itemRight","itemHeight","itemWidth","halfWindowWidth","halfWindowHeight","tooltipTop","tooltipLeft","isTop","isBottom","isLeft","isRight","mobileSmall","showTooltip","hideTooltip","handleEscape","handleMouseEnter","childElement","handleMouseLeave","mergedRef","TutorialPanelContext","useTutorialPanelContext","TutorialPanelRoot","activeTab","defaultActiveTab","onTabChange","internalActiveTab","setInternalActiveTab","helpWrapRef","expandButtonRef","collapseButtonRef","lastFocusedButtonRef","intersectionObserverRef","getWindowSize","setupPadding","topBannerHeight","defaultPadding","hiddenBannerPadding","expandButton","expandBox","collapseButton","applyPadding","padding","observeMastHead","topBanner","entries","newIsOpen","helpWrap","innerContainer","btn","TutorialPanelTrigger","renderIcon","iconName","TutorialPanelContainer","TutorialPanelTabs","TutorialPanelTabPanel","TutorialPanelHelpContent","helpContent","relatedServices","serviceIndex","linkIndex","TutorialPanelTutorialContent","onTutorialStop","stopButtonText","stepItem","stepIndex","TutorialPanelClose","TutorialPanel"],"mappings":"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"}